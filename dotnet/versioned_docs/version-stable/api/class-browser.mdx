---
id: class-browser
title: "Browser"
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import HTMLCard from '@site/src/components/HTMLCard';

Браузер создается с помощью [BrowserType.LaunchAsync()](/api/class-browsertype.mdx#browser-type-launch). Пример использования [Browser] для создания [Page]:

```csharp
using Microsoft.Playwright;

using var playwright = await Playwright.CreateAsync();
var firefox = playwright.Firefox;
var browser = await firefox.LaunchAsync(new() { Headless = false });
var page = await browser.NewPageAsync();
await page.GotoAsync("https://www.bing.com");
await browser.CloseAsync();
```

---

## Методы {#methods}

### BrowserType {#browser-browser-type}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.23</font><x-search>browser.BrowserType</x-search>

Получить тип браузера (chromium, firefox или webkit), к которому принадлежит браузер.

**Использование**

```csharp
Browser.BrowserType
```

**Возвращает**
- [BrowserType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-browser-type-return"/><a href="#browser-browser-type-return" class="list-anchor">#</a>

---

### CloseAsync {#browser-close}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>browser.CloseAsync</x-search>

Если этот браузер был получен с помощью [BrowserType.LaunchAsync()](/api/class-browsertype.mdx#browser-type-launch), закрывает браузер и все его страницы (если они были открыты).

Если этот браузер подключен, очищает все созданные контексты, принадлежащие этому браузеру, и отключается от сервера браузера.

:::note

Это похоже на принудительное завершение работы браузера. Чтобы закрыть страницы корректно и убедиться, что вы получаете события закрытия страниц, вызовите [BrowserContext.CloseAsync()](/api/class-browsercontext.mdx#browser-context-close) для всех экземпляров [BrowserContext], которые вы явно создали ранее с помощью [Browser.NewContextAsync()](/api/class-browser.mdx#browser-new-context) **перед** вызовом [Browser.CloseAsync()](/api/class-browser.mdx#browser-close).
:::

Сам объект [Browser] считается утилизированным и больше не может быть использован.

**Использование**

```csharp
await Browser.CloseAsync(options);
```

**Аргументы**
- `options` `BrowserCloseOptions?` *(опционально)*
  - `Reason` [string]? *(опционально)* <font size="2">Добавлено в: v1.40</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-close-option-reason"/><a href="#browser-close-option-reason" class="list-anchor">#</a>
    
    Причина, которая будет сообщена операциям, прерванным закрытием браузера.

**Возвращает**
- [void]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-close-return"/><a href="#browser-close-return" class="list-anchor">#</a>

---

### Contexts {#browser-contexts}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>browser.Contexts</x-search>

Возвращает массив всех открытых контекстов браузера. В недавно созданном браузере это вернет ноль контекстов браузера.

**Использование**

```csharp
using var playwright = await Playwright.CreateAsync();
var browser = await playwright.Webkit.LaunchAsync();
System.Console.WriteLine(browser.Contexts.Count); // выводит "0"
var context = await browser.NewContextAsync();
System.Console.WriteLine(browser.Contexts.Count); // выводит "1"
```

**Возвращает**
- [IReadOnlyList]&lt;[BrowserContext]&gt;<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-contexts-return"/><a href="#browser-contexts-return" class="list-anchor">#</a>

---

### IsConnected {#browser-is-connected}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>browser.IsConnected</x-search>

Указывает, что браузер подключен.

**Использование**

```csharp
Browser.IsConnected
```

**Возвращает**
- [bool]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-is-connected-return"/><a href="#browser-is-connected-return" class="list-anchor">#</a>

---

### NewBrowserCDPSessionAsync {#browser-new-browser-cdp-session}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.11</font><x-search>browser.NewBrowserCDPSessionAsync</x-search>

:::note

Сессии CDP поддерживаются только в браузерах на основе Chromium.
:::

Возвращает вновь созданную сессию браузера.

**Использование**

```csharp
await Browser.NewBrowserCDPSessionAsync();
```

**Возвращает**
- [CDPSession]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-browser-cdp-session-return"/><a href="#browser-new-browser-cdp-session-return" class="list-anchor">#</a>

---

### NewContextAsync {#browser-new-context}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>browser.NewContextAsync</x-search>

Создает новый контекст браузера. Он не будет делиться куки/кэшем с другими контекстами браузера.

:::note

Если вы напрямую используете этот метод для создания [BrowserContext], рекомендуется явно закрыть возвращенный контекст через [BrowserContext.CloseAsync()](/api/class-browsercontext.mdx#browser-context-close), когда ваш код завершит работу с [BrowserContext], и перед вызовом [Browser.CloseAsync()](/api/class-browser.mdx#browser-close). Это обеспечит корректное закрытие `context` и полное сохранение всех артефактов, таких как HAR и видео.
:::

**Использование**

```csharp
using var playwright = await Playwright.CreateAsync();
var browser = await playwright.Firefox.LaunchAsync();
// Создать новый инкогнито контекст браузера.
var context = await browser.NewContextAsync();
// Создать новую страницу в чистом контексте.
var page = await context.NewPageAsync(); ;
await page.GotoAsync("https://www.bing.com");

// Корректно закрыть все
await context.CloseAsync();
await browser.CloseAsync();
```

**Аргументы**
- `options` `BrowserNewContextOptions?` *(опционально)*
  - `AcceptDownloads` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-accept-downloads"/><a href="#browser-new-context-option-accept-downloads" class="list-anchor">#</a>
    
    Автоматически загружать все вложения. По умолчанию `true`, где все загрузки принимаются.
  - `BaseURL` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-base-url"/><a href="#browser-new-context-option-base-url" class="list-anchor">#</a>
    
    При использовании [Page.GotoAsync()](/api/class-page.mdx#page-goto), [Page.RouteAsync()](/api/class-page.mdx#page-route), [Page.WaitForURLAsync()](/api/class-page.mdx#page-wait-for-url), [Page.RunAndWaitForRequestAsync()](/api/class-page.mdx#page-wait-for-request) или [Page.RunAndWaitForResponseAsync()](/api/class-page.mdx#page-wait-for-response) учитывает базовый URL, используя конструктор [`URL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL/URL) для построения соответствующего URL. По умолчанию не установлен. Примеры:
    * baseURL: `http://localhost:3000` и переход на `/bar.html` приводит к `http://localhost:3000/bar.html`
    * baseURL: `http://localhost:3000/foo/` и переход на `./bar.html` приводит к `http://localhost:3000/foo/bar.html`
    * baseURL: `http://localhost:3000/foo` (без завершающего слэша) и переход на `./bar.html` приводит к `http://localhost:3000/bar.html`
  - `BypassCSP` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-bypass-csp"/><a href="#browser-new-context-option-bypass-csp" class="list-anchor">#</a>
    
    Переключает обход политики безопасности контента страницы. По умолчанию `false`.
  - `ClientCertificates` [IEnumerable]?&lt;ClientCertificates&gt; *(опционально)* <font size="2">Добавлено в: 1.46</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-client-certificates"/><a href="#browser-new-context-option-client-certificates" class="list-anchor">#</a>
    - `Origin` [string]
      
      Точный источник, для которого сертификат действителен. Источник включает протокол `https`, имя хоста и, возможно, порт.
    - `CertPath` [string]? *(опционально)*
      
      Путь к файлу с сертификатом в формате PEM.
    - `Cert` [byte]&#91;&#93;? *(опционально)*
      
      Прямое значение сертификата в формате PEM.
    - `KeyPath` [string]? *(опционально)*
      
      Путь к файлу с закрытым ключом в формате PEM.
    - `Key` [byte]&#91;&#93;? *(опционально)*
      
      Прямое значение закрытого ключа в формате PEM.
    - `PfxPath` [string]? *(опционально)*
      
      Путь к PFX или PKCS12 закодированному закрытому ключу и цепочке сертификатов.
    - `Pfx` [byte]&#91;&#93;? *(опционально)*
      
      Прямое значение PFX или PKCS12 закодированного закрытого ключа и цепочки сертификатов.
    - `Passphrase` [string]? *(опционально)*
      
      Пароль для закрытого ключа (PEM или PFX).
    
    Аутентификация клиента TLS позволяет серверу запросить клиентский сертификат и проверить его.
    
    **Детали**
    
    Массив клиентских сертификатов для использования. Каждый объект сертификата должен иметь либо оба `certPath` и `keyPath`, один `pfxPath`, либо их соответствующие прямые значения (`cert` и `key`, или `pfx`). Опционально, свойство `passphrase` должно быть предоставлено, если сертификат зашифрован. Свойство `origin` должно быть предоставлено с точным совпадением с источником запроса, для которого сертификат действителен.
    
    Проверка подлинности с использованием клиентских сертификатов активна только при наличии хотя бы одного клиентского сертификата. Если вы хотите отклонять все клиентские сертификаты, отправляемые сервером, вам необходимо предоставить клиентский сертификат с `origin`, который не соответствует ни одному из доменов, которые вы планируете посещать.
    
    :::note
    
    При использовании WebKit на macOS доступ к `localhost` не будет использовать клиентские сертификаты. Вы можете сделать это, заменив `localhost` на `local.playwright`.
    :::
    
  - `ColorScheme` `enum ColorScheme { Light, Dark, NoPreference, Null }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-color-scheme"/><a href="#browser-new-context-option-color-scheme" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию [prefers-colors-scheme](https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme), поддерживаемые значения: `'light'` и `'dark'`. См. [Page.EmulateMediaAsync()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `'null'` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'light'`.
  - `Contrast` `enum Contrast { NoPreference, More, Null }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-contrast"/><a href="#browser-new-context-option-contrast" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию `'prefers-contrast'`, поддерживаемые значения: `'no-preference'`, `'more'`. См. [Page.EmulateMediaAsync()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `'null'` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'no-preference'`.
  - `DeviceScaleFactor` [float]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-device-scale-factor"/><a href="#browser-new-context-option-device-scale-factor" class="list-anchor">#</a>
    
    Укажите коэффициент масштабирования устройства (можно рассматривать как dpr). По умолчанию `1`. Узнайте больше о [эмуляции устройств с коэффициентом масштабирования устройства](../emulation.mdx#devices).
  - `ExtraHTTPHeaders` [IDictionary]?&lt;[string], [string]&gt; *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-extra-http-headers"/><a href="#browser-new-context-option-extra-http-headers" class="list-anchor">#</a>
    
    Объект, содержащий дополнительные HTTP-заголовки, которые будут отправляться с каждым запросом. По умолчанию нет.
  - `ForcedColors` `enum ForcedColors { Active, None, Null }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-forced-colors"/><a href="#browser-new-context-option-forced-colors" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию `'forced-colors'`, поддерживаемые значения: `'active'`, `'none'`. См. [Page.EmulateMediaAsync()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `'null'` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'none'`.
  - `Geolocation` Geolocation? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-geolocation"/><a href="#browser-new-context-option-geolocation" class="list-anchor">#</a>
    - `Latitude` [float]
      
      Широта между -90 и 90.
    - `Longitude` [float]
      
      Долгота между -180 и 180.
    - `Accuracy` [float]? *(опционально)*
      
      Неотрицательное значение точности. По умолчанию `0`.
  - `HasTouch` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-has-touch"/><a href="#browser-new-context-option-has-touch" class="list-anchor">#</a>
    
    Указывает, поддерживает ли видовая область сенсорные события. По умолчанию false. Узнайте больше о [мобильной эмуляции](../emulation.mdx#devices).
  - `HttpCredentials` HttpCredentials? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-http-credentials"/><a href="#browser-new-context-option-http-credentials" class="list-anchor">#</a>
    - `Username` [string]
      
      
    - `Password` [string]
      
      
    - `Origin` [string]? *(опционально)*
      
      Ограничить отправку http-учетных данных на конкретный источник (scheme://host:port).
    - `Send` `enum HttpCredentialsSend { Unauthorized, Always }?` *(опционально)*
      
      Этот параметр применяется только к запросам, отправленным из соответствующего [APIRequestContext], и не влияет на запросы, отправленные из браузера. `'always'` - заголовок `Authorization` с учетными данными базовой аутентификации будет отправляться с каждым API-запросом. `'unauthorized` - учетные данные отправляются только при получении ответа 401 (Unauthorized) с заголовком `WWW-Authenticate`. По умолчанию `'unauthorized'`.
    
    Учетные данные для [HTTP-аутентификации](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication). Если источник не указан, имя пользователя и пароль отправляются на любые серверы при неавторизованных ответах.
  - `IgnoreHTTPSErrors` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-ignore-https-errors"/><a href="#browser-new-context-option-ignore-https-errors" class="list-anchor">#</a>
    
    Игнорировать ли ошибки HTTPS при отправке сетевых запросов. По умолчанию `false`.
  - `IsMobile` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-is-mobile"/><a href="#browser-new-context-option-is-mobile" class="list-anchor">#</a>
    
    Учитывается ли тег `meta viewport` и включены ли сенсорные события. isMobile является частью устройства, поэтому вам не нужно устанавливать его вручную. По умолчанию `false` и не поддерживается в Firefox. Узнайте больше о [мобильной эмуляции](../emulation.mdx#ismobile).
  - `JavaScriptEnabled` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-java-script-enabled"/><a href="#browser-new-context-option-java-script-enabled" class="list-anchor">#</a>
    
    Включать ли JavaScript в контексте. По умолчанию `true`. Узнайте больше о [отключении JavaScript](../emulation.mdx#javascript-enabled).
  - `Locale` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-locale"/><a href="#browser-new-context-option-locale" class="list-anchor">#</a>
    
    Укажите локаль пользователя, например `en-GB`, `de-DE` и т.д. Локаль будет влиять на значение `navigator.language`, значение заголовка запроса `Accept-Language`, а также на правила форматирования чисел и дат. По умолчанию используется системная локаль. Узнайте больше о эмуляции в нашем [руководстве по эмуляции](../emulation.mdx#locale--timezone).
  - `Offline` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-offline"/><a href="#browser-new-context-option-offline" class="list-anchor">#</a>
    
    Эмулировать ли отключение сети. По умолчанию `false`. Узнайте больше о [эмуляции сети](../emulation.mdx#offline).
  - `Permissions` [IEnumerable]?&lt;[string]&gt; *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-permissions"/><a href="#browser-new-context-option-permissions" class="list-anchor">#</a>
    
    Список разрешений, которые будут предоставлены всем страницам в этом контексте. См. [BrowserContext.GrantPermissionsAsync()](/api/class-browsercontext.mdx#browser-context-grant-permissions) для получения дополнительных сведений. По умолчанию нет.
  - `Proxy` Proxy? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-proxy"/><a href="#browser-new-context-option-proxy" class="list-anchor">#</a>
    - `Server` [string]
      
      Прокси, который будет использоваться для всех запросов. Поддерживаются HTTP и SOCKS прокси, например `http://myproxy.com:3128` или `socks5://myproxy.com:3128`. Краткая форма `myproxy.com:3128` считается HTTP прокси.
    - `Bypass` [string]? *(опционально)*
      
      Опциональные домены, разделенные запятыми, для обхода прокси, например `".com, chromium.org, .domain.com"`.
    - `Username` [string]? *(опционально)*
      
      Опциональное имя пользователя для использования, если HTTP прокси требует аутентификации.
    - `Password` [string]? *(опционально)*
      
      Опциональный пароль для использования, если HTTP прокси требует аутентификации.
    
    Настройки сетевого прокси для использования с этим контекстом. По умолчанию нет.
  - `RecordHarContent` `enum HarContentPolicy { Omit, Embed, Attach }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-record-har-content"/><a href="#browser-new-context-option-record-har-content" class="list-anchor">#</a>
    
    Опциональная настройка для управления содержимым ресурсов. Если указано `omit`, содержимое не сохраняется. Если указано `attach`, ресурсы сохраняются как отдельные файлы, и все эти файлы архивируются вместе с файлом HAR. По умолчанию `embed`, что сохраняет содержимое в строке файла HAR в соответствии со спецификацией HAR.
  - `RecordHarMode` `enum HarMode { Full, Minimal }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-record-har-mode"/><a href="#browser-new-context-option-record-har-mode" class="list-anchor">#</a>
    
    При установке в `minimal` записывается только информация, необходимая для маршрутизации из HAR. Это исключает размеры, время, страницы, куки, безопасность и другие типы информации HAR, которые не используются при воспроизведении из HAR. По умолчанию `full`.
  - `RecordHarOmitContent` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-record-har-omit-content"/><a href="#browser-new-context-option-record-har-omit-content" class="list-anchor">#</a>
    
    Опциональная настройка для управления тем, следует ли исключать содержимое запроса из HAR. По умолчанию `false`.
  - `RecordHarPath` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-record-har-path"/><a href="#browser-new-context-option-record-har-path" class="list-anchor">#</a>
    
    Включает запись [HAR](http://www.softwareishard.com/blog/har-12-spec) для всех страниц в указанный файл HAR на файловой системе. Если не указано, HAR не записывается. Убедитесь, что вызвали [BrowserContext.CloseAsync()](/api/class-browsercontext.mdx#browser-context-close), чтобы HAR был сохранен.
  - `RecordHarUrlFilter|RecordHarUrlFilterRegex` [string]? | [Regex]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-record-har-url-filter"/><a href="#browser-new-context-option-record-har-url-filter" class="list-anchor">#</a>
  - `RecordVideoDir` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-record-video-dir"/><a href="#browser-new-context-option-record-video-dir" class="list-anchor">#</a>
    
    Включает запись видео для всех страниц в указанную директорию. Если не указано, видео не записываются. Убедитесь, что вызвали [BrowserContext.CloseAsync()](/api/class-browsercontext.mdx#browser-context-close), чтобы видео были сохранены.
  - `RecordVideoSize` RecordVideoSize? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-record-video-size"/><a href="#browser-new-context-option-record-video-size" class="list-anchor">#</a>
    - `Width` [int]
      
      Ширина кадра видео.
    - `Height` [int]
      
      Высота кадра видео.
    
    Размеры записанных видео. Если не указано, размер будет равен `viewport`, уменьшенному для соответствия 800x800. Если `viewport` не настроен явно, размер видео по умолчанию 800x450. Фактическое изображение каждой страницы будет уменьшено, если необходимо, чтобы соответствовать указанному размеру.
  - `ReducedMotion` `enum ReducedMotion { Reduce, NoPreference, Null }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-reduced-motion"/><a href="#browser-new-context-option-reduced-motion" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию `'prefers-reduced-motion'`, поддерживаемые значения: `'reduce'`, `'no-preference'`. См. [Page.EmulateMediaAsync()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `'null'` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'no-preference'`.
  - `ScreenSize` ScreenSize? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-screen"/><a href="#browser-new-context-option-screen" class="list-anchor">#</a>
    - `Width` [int]
      
      ширина страницы в пикселях.
    - `Height` [int]
      
      высота страницы в пикселях.
    
    Эмулирует постоянный размер экрана окна, доступный внутри веб-страницы через `window.screen`. Используется только при установке [ViewportSize](/api/class-browser.mdx#browser-new-context-option-viewport).
  - `ServiceWorkers` `enum ServiceWorkerPolicy { Allow, Block }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-service-workers"/><a href="#browser-new-context-option-service-workers" class="list-anchor">#</a>
    
    Разрешать ли сайтам регистрировать сервис-воркеры. По умолчанию `'allow'`.
    * `'allow'`: [Сервис-воркеры](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API) могут быть зарегистрированы.
    * `'block'`: Playwright будет блокировать всю регистрацию сервис-воркеров.
  - `StorageState` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-storage-state"/><a href="#browser-new-context-option-storage-state" class="list-anchor">#</a>
    
    Заполняет контекст заданным состоянием хранилища. Этот параметр можно использовать для инициализации контекста с информацией о входе, полученной через [BrowserContext.StorageStateAsync()](/api/class-browsercontext.mdx#browser-context-storage-state).
  - `StorageStatePath` [string]? *(опционально)* <font size="2">Добавлено в: v1.9</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-storage-state-path"/><a href="#browser-new-context-option-storage-state-path" class="list-anchor">#</a>
    
    Заполняет контекст заданным состоянием хранилища. Этот параметр можно использовать для инициализации контекста с информацией о входе, полученной через [BrowserContext.StorageStateAsync()](/api/class-browsercontext.mdx#browser-context-storage-state). Путь к файлу с сохраненным состоянием хранилища.
  - `StrictSelectors` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-strict-selectors"/><a href="#browser-new-context-option-strict-selectors" class="list-anchor">#</a>
    
    Если установлено в true, включает режим строгих селекторов для этого контекста. В режиме строгих селекторов все операции с селекторами, которые подразумевают один целевой элемент DOM, будут вызывать ошибку, если более одного элемента соответствует селектору. Этот параметр не влияет на любые API локаторов (локаторы всегда строгие). По умолчанию `false`. См. [Locator], чтобы узнать больше о строгом режиме.
  - `TimezoneId` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-timezone-id"/><a href="#browser-new-context-option-timezone-id" class="list-anchor">#</a>
    
    Изменяет часовой пояс контекста. См. [ICU's metaZones.txt](https://cs.chromium.org/chromium/src/third_party/icu/source/data/misc/metaZones.txt?rcl=faee8bc70570192d82d2978a71e2a615788597d1) для списка поддерживаемых идентификаторов часовых поясов. По умолчанию используется системный часовой пояс.
  - `UserAgent` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-user-agent"/><a href="#browser-new-context-option-user-agent" class="list-anchor">#</a>
    
    Специфический пользовательский агент для использования в этом контексте.
  - `ViewportSize` ViewportSize? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-viewport"/><a href="#browser-new-context-option-viewport" class="list-anchor">#</a>
    - `Width` [int]
      
      ширина страницы в пикселях.
    - `Height` [int]
      
      высота страницы в пикселях.
    
    Эмулирует постоянную видовую область для каждой страницы. По умолчанию используется видовая область 1280x720. Используйте `ViewportSize.NoViewport`, чтобы отключить эмуляцию постоянной видовой области. Узнайте больше о [эмуляции видовой области](../emulation.mdx#viewport).
    
    :::note
    
    Значение `ViewportSize.NoViewport` исключает использование предустановок по умолчанию, делает видовую область зависимой от размера окна хоста, определяемого операционной системой. Это делает выполнение тестов недетерминированным.
    :::
    
**Возвращает**
- [BrowserContext]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-return"/><a href="#browser-new-context-return" class="list-anchor">#</a>

---

### NewPageAsync {#browser-new-page}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>browser.NewPageAsync</x-search>

Создает новую страницу в новом контексте браузера. Закрытие этой страницы также закроет контекст.

Это удобный API, который следует использовать только для сценариев с одной страницей и коротких фрагментов. Производственный код и тестовые фреймворки должны явно создавать [Browser.NewContextAsync()](/api/class-browser.mdx#browser-new-context), а затем [BrowserContext.NewPageAsync()](/api/class-browsercontext.mdx#browser-context-new-page), чтобы контролировать их точное время жизни.

**Использование**

```csharp
await Browser.NewPageAsync(options);
```

**Аргументы**
- `options` `BrowserNewPageOptions?` *(опционально)*
  - `AcceptDownloads` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-accept-downloads"/><a href="#browser-new-page-option-accept-downloads" class="list-anchor">#</a>
    
    Автоматически загружать все вложения. По умолчанию `true`, где все загрузки принимаются.
  - `BaseURL` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-base-url"/><a href="#browser-new-page-option-base-url" class="list-anchor">#</a>
    
    При использовании [Page.GotoAsync()](/api/class-page.mdx#page-goto), [Page.RouteAsync()](/api/class-page.mdx#page-route), [Page.WaitForURLAsync()](/api/class-page.mdx#page-wait-for-url), [Page.RunAndWaitForRequestAsync()](/api/class-page.mdx#page-wait-for-request) или [Page.RunAndWaitForResponseAsync()](/api/class-page.mdx#page-wait-for-response) учитывает базовый URL, используя конструктор [`URL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL/URL) для построения соответствующего URL. По умолчанию не установлен. Примеры:
    * baseURL: `http://localhost:3000` и переход на `/bar.html` приводит к `http://localhost:3000/bar.html`
    * baseURL: `http://localhost:3000/foo/` и переход на `./bar.html` приводит к `http://localhost:3000/foo/bar.html`
    * baseURL: `http://localhost:3000/foo` (без завершающего слэша) и переход на `./bar.html` приводит к `http://localhost:3000/bar.html`
  - `BypassCSP` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-bypass-csp"/><a href="#browser-new-page-option-bypass-csp" class="list-anchor">#</a>
    
    Переключает обход политики безопасности контента страницы. По умолчанию `false`.
  - `ClientCertificates` [IEnumerable]?&lt;ClientCertificates&gt; *(опционально)* <font size="2">Добавлено в: 1.46</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-client-certificates"/><a href="#browser-new-page-option-client-certificates" class="list-anchor">#</a>
    - `Origin` [string]
      
      Точный источник, для которого сертификат действителен. Источник включает протокол `https`, имя хоста и, возможно, порт.
    - `CertPath` [string]? *(опционально)*
      
      Путь к файлу с сертификатом в формате PEM.
    - `Cert` [byte]&#91;&#93;? *(опционально)*
      
      Прямое значение сертификата в формате PEM.
    - `KeyPath` [string]? *(опционально)*
      
      Путь к файлу с закрытым ключом в формате PEM.
    - `Key` [byte]&#91;&#93;? *(опционально)*
      
      Прямое значение закрытого ключа в формате PEM.
    - `PfxPath` [string]? *(опционально)*
      
      Путь к PFX или PKCS12 закодированному закрытому ключу и цепочке сертификатов.
    - `Pfx` [byte]&#91;&#93;? *(опционально)*
      
      Прямое значение PFX или PKCS12 закодированного закрытого ключа и цепочки сертификатов.
    - `Passphrase` [string]? *(опционально)*
      
      Пароль для закрытого ключа (PEM или PFX).
    
    Аутентификация клиента TLS позволяет серверу запросить клиентский сертификат и проверить его.
    
    **Детали**
    
    Массив клиентских сертификатов для использования. Каждый объект сертификата должен иметь либо оба `certPath` и `keyPath`, один `pfxPath`, либо их соответствующие прямые значения (`cert` и `key`, или `pfx`). Опционально, свойство `passphrase` должно быть предоставлено, если сертификат зашифрован. Свойство `origin` должно быть предоставлено с точным совпадением с источником запроса, для которого сертификат действителен.
    
    Аутентификация с использованием клиентских сертификатов активна только при наличии как минимум одного клиентского сертификата. Если вы хотите отклонить все клиентские сертификаты, отправляемые сервером, вам нужно предоставить клиентский сертификат с `origin`, который не совпадает ни с одним из доменов, которые вы планируете посетить.
    
    :::note
    
    При использовании WebKit на macOS доступ к `localhost` не будет использовать клиентские сертификаты. Вы можете сделать это, заменив `localhost` на `local.playwright`.
    :::
    
  - `ColorScheme` `enum ColorScheme { Light, Dark, NoPreference, Null }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-color-scheme"/><a href="#browser-new-page-option-color-scheme" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию [prefers-colors-scheme](https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme), поддерживаемые значения: `'light'` и `'dark'`. См. [Page.EmulateMediaAsync()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `'null'` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'light'`.
  - `Contrast` `enum Contrast { NoPreference, More, Null }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-contrast"/><a href="#browser-new-page-option-contrast" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию `'prefers-contrast'`, поддерживаемые значения: `'no-preference'`, `'more'`. См. [Page.EmulateMediaAsync()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `'null'` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'no-preference'`.
  - `DeviceScaleFactor` [float]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-device-scale-factor"/><a href="#browser-new-page-option-device-scale-factor" class="list-anchor">#</a>
    
    Укажите коэффициент масштабирования устройства (можно рассматривать как dpr). По умолчанию `1`. Узнайте больше о [эмуляции устройств с коэффициентом масштабирования устройства](../emulation.mdx#devices).
  - `ExtraHTTPHeaders` [IDictionary]?&lt;[string], [string]&gt; *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-extra-http-headers"/><a href="#browser-new-page-option-extra-http-headers" class="list-anchor">#</a>
    
    Объект, содержащий дополнительные HTTP-заголовки, которые будут отправляться с каждым запросом. По умолчанию нет.
  - `ForcedColors` `enum ForcedColors { Active, None, Null }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-forced-colors"/><a href="#browser-new-page-option-forced-colors" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию `'forced-colors'`, поддерживаемые значения: `'active'`, `'none'`. См. [Page.EmulateMediaAsync()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `'null'` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'none'`.
  - `Geolocation` Geolocation? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-geolocation"/><a href="#browser-new-page-option-geolocation" class="list-anchor">#</a>
    - `Latitude` [float]
      
      Широта между -90 и 90.
    - `Longitude` [float]
      
      Долгота между -180 и 180.
    - `Accuracy` [float]? *(опционально)*
      
      Неотрицательное значение точности. По умолчанию `0`.
  - `HasTouch` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-has-touch"/><a href="#browser-new-page-option-has-touch" class="list-anchor">#</a>
    
    Указывает, поддерживает ли видовая область сенсорные события. По умолчанию false. Узнайте больше о [мобильной эмуляции](../emulation.mdx#devices).
  - `HttpCredentials` HttpCredentials? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-http-credentials"/><a href="#browser-new-page-option-http-credentials" class="list-anchor">#</a>
    - `Username` [string]
      
      
    - `Password` [string]
      
      
    - `Origin` [string]? *(опционально)*
      
      Ограничить отправку http-учетных данных на конкретный источник (scheme://host:port).
    - `Send` `enum HttpCredentialsSend { Unauthorized, Always }?` *(опционально)*
      
      Этот параметр применяется только к запросам, отправленным из соответствующего [APIRequestContext], и не влияет на запросы, отправленные из браузера. `'always'` - заголовок `Authorization` с учетными данными базовой аутентификации будет отправляться с каждым API-запросом. `'unauthorized` - учетные данные отправляются только при получении ответа 401 (Unauthorized) с заголовком `WWW-Authenticate`. По умолчанию `'unauthorized'`.
    
    Учетные данные для [HTTP-аутентификации](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication). Если источник не указан, имя пользователя и пароль отправляются на любые серверы при неавторизованных ответах.
  - `IgnoreHTTPSErrors` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-ignore-https-errors"/><a href="#browser-new-page-option-ignore-https-errors" class="list-anchor">#</a>
    
    Игнорировать ли ошибки HTTPS при отправке сетевых запросов. По умолчанию `false`.
  - `IsMobile` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-is-mobile"/><a href="#browser-new-page-option-is-mobile" class="list-anchor">#</a>
    
    Учитывается ли тег `meta viewport` и включены ли сенсорные события. isMobile является частью устройства, поэтому вам не нужно устанавливать его вручную. По умолчанию `false` и не поддерживается в Firefox. Узнайте больше о [мобильной эмуляции](../emulation.mdx#ismobile).
  - `JavaScriptEnabled` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-java-script-enabled"/><a href="#browser-new-page-option-java-script-enabled" class="list-anchor">#</a>
    
    Включать ли JavaScript в контексте. По умолчанию `true`. Узнайте больше о [отключении JavaScript](../emulation.mdx#javascript-enabled).
  - `Locale` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-locale"/><a href="#browser-new-page-option-locale" class="list-anchor">#</a>
    
    Укажите локаль пользователя, например `en-GB`, `de-DE` и т.д. Локаль будет влиять на значение `navigator.language`, значение заголовка запроса `Accept-Language`, а также на правила форматирования чисел и дат. По умолчанию используется системная локаль. Узнайте больше о эмуляции в нашем [руководстве по эмуляции](../emulation.mdx#locale--timezone).
  - `Offline` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-offline"/><a href="#browser-new-page-option-offline" class="list-anchor">#</a>
    
    Эмулировать ли отключение сети. По умолчанию `false`. Узнайте больше о [эмуляции сети](../emulation.mdx#offline).
  - `Permissions` [IEnumerable]?&lt;[string]&gt; *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-permissions"/><a href="#browser-new-page-option-permissions" class="list-anchor">#</a>
    
    Список разрешений, которые будут предоставлены всем страницам в этом контексте. См. [BrowserContext.GrantPermissionsAsync()](/api/class-browsercontext.mdx#browser-context-grant-permissions) для получения дополнительных сведений. По умолчанию нет.
  - `Proxy` Proxy? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-proxy"/><a href="#browser-new-page-option-proxy" class="list-anchor">#</a>
    - `Server` [string]
      
      Прокси, который будет использоваться для всех запросов. Поддерживаются HTTP и SOCKS прокси, например `http://myproxy.com:3128` или `socks5://myproxy.com:3128`. Краткая форма `myproxy.com:3128` считается HTTP прокси.
    - `Bypass` [string]? *(опционально)*
      
      Опциональные домены, разделенные запятыми, для обхода прокси, например `".com, chromium.org, .domain.com"`.
    - `Username` [string]? *(опционально)*
      
      Опциональное имя пользователя для использования, если HTTP прокси требует аутентификации.
    - `Password` [string]? *(опционально)*
      
      Опциональный пароль для использования, если HTTP прокси требует аутентификации.
    
    Настройки сетевого прокси для использования с этим контекстом. По умолчанию нет.
  - `RecordHarContent` `enum HarContentPolicy { Omit, Embed, Attach }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-record-har-content"/><a href="#browser-new-page-option-record-har-content" class="list-anchor">#</a>
    
    Опциональная настройка для управления содержимым ресурсов. Если указано `omit`, содержимое не сохраняется. Если указано `attach`, ресурсы сохраняются как отдельные файлы, и все эти файлы архивируются вместе с файлом HAR. По умолчанию `embed`, что сохраняет содержимое в строке файла HAR в соответствии со спецификацией HAR.
  - `RecordHarMode` `enum HarMode { Full, Minimal }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-record-har-mode"/><a href="#browser-new-page-option-record-har-mode" class="list-anchor">#</a>
    
    При установке в `minimal` записывается только информация, необходимая для маршрутизации из HAR. Это исключает размеры, время, страницы, куки, безопасность и другие типы информации HAR, которые не используются при воспроизведении из HAR. По умолчанию `full`.
  - `RecordHarOmitContent` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-record-har-omit-content"/><a href="#browser-new-page-option-record-har-omit-content" class="list-anchor">#</a>
    
    Опциональная настройка для управления тем, следует ли исключать содержимое запроса из HAR. По умолчанию `false`.
  - `RecordHarPath` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-record-har-path"/><a href="#browser-new-page-option-record-har-path" class="list-anchor">#</a>
    
    Включает запись [HAR](http://www.softwareishard.com/blog/har-12-spec) для всех страниц в указанный файл HAR на файловой системе. Если не указано, HAR не записывается. Убедитесь, что вызвали [BrowserContext.CloseAsync()](/api/class-browsercontext.mdx#browser-context-close), чтобы HAR был сохранен.
  - `RecordHarUrlFilter|RecordHarUrlFilterRegex` [string]? | [Regex]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-record-har-url-filter"/><a href="#browser-new-page-option-record-har-url-filter" class="list-anchor">#</a>
  - `RecordVideoDir` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-record-video-dir"/><a href="#browser-new-page-option-record-video-dir" class="list-anchor">#</a>
    
    Включает запись видео для всех страниц в указанную директорию. Если не указано, видео не записываются. Убедитесь, что вызвали [BrowserContext.CloseAsync()](/api/class-browsercontext.mdx#browser-context-close), чтобы видео были сохранены.
  - `RecordVideoSize` RecordVideoSize? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-record-video-size"/><a href="#browser-new-page-option-record-video-size" class="list-anchor">#</a>
    - `Width` [int]
      
      Ширина кадра видео.
    - `Height` [int]
      
      Высота кадра видео.
    
    Размеры записанных видео. Если не указано, размер будет равен `viewport`, уменьшенному для соответствия 800x800. Если `viewport` не настроен явно, размер видео по умолчанию 800x450. Фактическое изображение каждой страницы будет уменьшено, если необходимо, чтобы соответствовать указанному размеру.
  - `ReducedMotion` `enum ReducedMotion { Reduce, NoPreference, Null }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-reduced-motion"/><a href="#browser-new-page-option-reduced-motion" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию `'prefers-reduced-motion'`, поддерживаемые значения: `'reduce'`, `'no-preference'`. См. [Page.EmulateMediaAsync()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `'null'` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'no-preference'`.
  - `ScreenSize` ScreenSize? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-screen"/><a href="#browser-new-page-option-screen" class="list-anchor">#</a>
    - `Width` [int]
      
      ширина страницы в пикселях.
    - `Height` [int]
      
      высота страницы в пикселях.
    
    Эмулирует постоянный размер экрана окна, доступный внутри веб-страницы через `window.screen`. Используется только при установке [ViewportSize](/api/class-browser.mdx#browser-new-page-option-viewport).
  - `ServiceWorkers` `enum ServiceWorkerPolicy { Allow, Block }?` *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-service-workers"/><a href="#browser-new-page-option-service-workers" class="list-anchor">#</a>
    
    Разрешать ли сайтам регистрировать сервис-воркеры. По умолчанию `'allow'`.
    * `'allow'`: [Сервис-воркеры](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API) могут быть зарегистрированы.
    * `'block'`: Playwright будет блокировать всю регистрацию сервис-воркеров.
  - `StorageState` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-storage-state"/><a href="#browser-new-page-option-storage-state" class="list-anchor">#</a>
    
    Заполняет контекст заданным состоянием хранилища. Этот параметр можно использовать для инициализации контекста с информацией о входе, полученной через [BrowserContext.StorageStateAsync()](/api/class-browsercontext.mdx#browser-context-storage-state).
  - `StorageStatePath` [string]? *(опционально)* <font size="2">Добавлено в: v1.9</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-storage-state-path"/><a href="#browser-new-page-option-storage-state-path" class="list-anchor">#</a>
    
    Заполняет контекст заданным состоянием хранилища. Этот параметр можно использовать для инициализации контекста с информацией о входе, полученной через [BrowserContext.StorageStateAsync()](/api/class-browsercontext.mdx#browser-context-storage-state). Путь к файлу с сохраненным состоянием хранилища.
  - `StrictSelectors` [bool]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-strict-selectors"/><a href="#browser-new-page-option-strict-selectors" class="list-anchor">#</a>
    
    Если установлено в true, включает режим строгих селекторов для этого контекста. В режиме строгих селекторов все операции с селекторами, которые подразумевают один целевой элемент DOM, будут вызывать ошибку, если более одного элемента соответствует селектору. Этот параметр не влияет на любые API локаторов (локаторы всегда строгие). По умолчанию `false`. См. [Locator], чтобы узнать больше о строгом режиме.
  - `TimezoneId` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-timezone-id"/><a href="#browser-new-page-option-timezone-id" class="list-anchor">#</a>
    
    Изменяет часовой пояс контекста. См. [ICU's metaZones.txt](https://cs.chromium.org/chromium/src/third_party/icu/source/data/misc/metaZones.txt?rcl=faee8bc70570192d82d2978a71e2a615788597d1) для списка поддерживаемых идентификаторов часовых поясов. По умолчанию используется системный часовой пояс.
  - `UserAgent` [string]? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-user-agent"/><a href="#browser-new-page-option-user-agent" class="list-anchor">#</a>
    
    Специфический пользовательский агент для использования в этом контексте.
  - `ViewportSize` ViewportSize? *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-viewport"/><a href="#browser-new-page-option-viewport" class="list-anchor">#</a>
    - `Width` [int]
      
      ширина страницы в пикселях.
    - `Height` [int]
      
      высота страницы в пикселях.
    
    Эмулирует постоянную видовую область для каждой страницы. По умолчанию используется видовая область 1280x720. Используйте `ViewportSize.NoViewport`, чтобы отключить эмуляцию постоянной видовой области. Узнайте больше о [эмуляции видовой области](../emulation.mdx#viewport).
    
    :::note
    
    Значение `ViewportSize.NoViewport` исключает использование предустановок по умолчанию, делает видовую область зависимой от размера окна хоста, определяемого операционной системой. Это делает выполнение тестов недетерминированным.
    :::
    
**Возвращает**
- [Page]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-return"/><a href="#browser-new-page-return" class="list-anchor">#</a>

---

### Версия {#browser-version}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до версии v1.9</font><x-search>browser.Version</x-search>

Возвращает версию браузера.

**Использование**

```csharp
Browser.Version
```

**Возвращает**
- [string]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-version-return"/><a href="#browser-version-return" class="list-anchor">#</a>

---

## События {#events}

### событие Disconnected {#browser-event-disconnected}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до версии v1.9</font><x-search>browser.event Disconnected</x-search>

Вызывается, когда браузер отключается от приложения браузера. Это может произойти по одной из следующих причин:
* Приложение браузера закрыто или аварийно завершило работу.
* Был вызван метод [Browser.CloseAsync()](/api/class-browser.mdx#browser-close).

**Использование**

```csharp
Browser.Disconnected += async (_, browser) => {};
```

**Данные события**
- [Browser]


[APIRequest]: /api/class-apirequest.mdx "APIRequest"
[APIRequestContext]: /api/class-apirequestcontext.mdx "APIRequestContext"
[APIResponse]: /api/class-apiresponse.mdx "APIResponse"
[APIResponseAssertions]: /api/class-apiresponseassertions.mdx "APIResponseAssertions"
[Browser]: /api/class-browser.mdx "Browser"
[BrowserContext]: /api/class-browsercontext.mdx "BrowserContext"
[BrowserType]: /api/class-browsertype.mdx "BrowserType"
[CDPSession]: /api/class-cdpsession.mdx "CDPSession"
[CDPSessionEvent]: /api/class-cdpsessionevent.mdx "CDPSessionEvent"
[Clock]: /api/class-clock.mdx "Clock"
[ConsoleMessage]: /api/class-consolemessage.mdx "ConsoleMessage"
[Dialog]: /api/class-dialog.mdx "Dialog"
[Download]: /api/class-download.mdx "Download"
[ElementHandle]: /api/class-elementhandle.mdx "ElementHandle"
[FileChooser]: /api/class-filechooser.mdx "FileChooser"
[FormData]: /api/class-formdata.mdx "FormData"
[Frame]: /api/class-frame.mdx "Frame"
[FrameLocator]: /api/class-framelocator.mdx "FrameLocator"
[JSHandle]: /api/class-jshandle.mdx "JSHandle"
[Keyboard]: /api/class-keyboard.mdx "Keyboard"
[Locator]: /api/class-locator.mdx "Locator"
[LocatorAssertions]: /api/class-locatorassertions.mdx "LocatorAssertions"
[Mouse]: /api/class-mouse.mdx "Mouse"
[Page]: /api/class-page.mdx "Page"
[PageAssertions]: /api/class-pageassertions.mdx "PageAssertions"
[Playwright]: /api/class-playwright.mdx "Playwright"
[PlaywrightAssertions]: /api/class-playwrightassertions.mdx "PlaywrightAssertions"
[Request]: /api/class-request.mdx "Request"
[Response]: /api/class-response.mdx "Response"
[Route]: /api/class-route.mdx "Route"
[Selectors]: /api/class-selectors.mdx "Selectors"
[TimeoutError]: /api/class-timeouterror.mdx "TimeoutError"
[Touchscreen]: /api/class-touchscreen.mdx "Touchscreen"
[Tracing]: /api/class-tracing.mdx "Tracing"
[Video]: /api/class-video.mdx "Video"
[WebError]: /api/class-weberror.mdx "WebError"
[WebSocket]: /api/class-websocket.mdx "WebSocket"
[WebSocketFrame]: /api/class-websocketframe.mdx "WebSocketFrame"
[WebSocketRoute]: /api/class-websocketroute.mdx "WebSocketRoute"
[Worker]: /api/class-worker.mdx "Worker"
[Element]: https://developer.mozilla.org/en-US/docs/Web/API/element "Element"
[EvaluationArgument]: /evaluating.mdx#evaluation-argument "EvaluationArgument"
[Promise]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise "Promise"
[iterator]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols "Iterator"
[origin]: https://developer.mozilla.org/en-US/docs/Glossary/Origin "Origin"
[selector]: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors "selector"
[Serializable]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description "Serializable"
[UIEvent.detail]: https://developer.mozilla.org/en-US/docs/Web/API/UIEvent/detail "UIEvent.detail"
[UnixTime]: https://en.wikipedia.org/wiki/Unix_time "Unix Time"
[xpath]: https://developer.mozilla.org/en-US/docs/Web/XPath "xpath"

[bool]: https://docs.microsoft.com/en-us/dotnet/api/system.boolean "bool"
[Date]: https://learn.microsoft.com/en-us/dotnet/api/system.datetime "DateTime"
[double]: https://docs.microsoft.com/en-us/dotnet/api/system.double "double"
[byte]: https://docs.microsoft.com/en-us/dotnet/api/system.byte "byte"
[int]: https://docs.microsoft.com/en-us/dotnet/api/system.int32 "int"
[long]: https://docs.microsoft.com/en-us/dotnet/api/system.int64 "long"
[void]: https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/void "void"
[string]: https://docs.microsoft.com/en-us/dotnet/api/system.string "string"
[URL]: https://nodejs.org/api/url.html "URL"
[Regex]: https://docs.microsoft.com/en-us/dotnet/api/system.text.regularexpressions.regex "Regex"

[Action]: https://docs.microsoft.com/en-us/dotnet/api/system.action-1 "Action"
[Func]: https://docs.microsoft.com/en-us/dotnet/api/system.func-2 "Func"
[IEnumerable]: https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerable "IEnumerable"
[IReadOnlyList]: https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.ireadonlylist-1?view=net-9.0 "IReadOnlyList"
[IDictionary]: https://docs.microsoft.com/en-us/dotnet/api/system.collections.idictionary "IDictionary"
[Task]: https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=net-5.0 "Task"
[IReadOnlyDictionary]: https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.ireadonlydictionary-2 "IReadOnlyDictionary"
[JsonElement]: https://docs.microsoft.com/en-us/dotnet/api/system.text.json.jsonelement "JsonElement"

[все доступные теги образов]: https://mcr.microsoft.com/en-us/product/playwright/dotnet/about "все доступные теги образов"
[Microsoft Artifact Registry]: https://mcr.microsoft.com/en-us/product/playwright/dotnet/about "Microsoft Artifact Registry"
[Dockerfile.noble]: https://github.com/microsoft/playwright-dotnet/blob/main/utils/docker/Dockerfile.noble "Dockerfile.noble"
