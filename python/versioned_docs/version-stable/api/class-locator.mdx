---
id: class-locator
title: "Locator"
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import HTMLCard from '@site/src/components/HTMLCard';


Локаторы являются центральной частью автоматического ожидания и возможности повторных попыток в Playwright. Вкратце, локаторы представляют собой способ найти элемент(ы) на странице в любой момент. Локатор может быть создан с помощью метода [page.locator()](/api/class-page.mdx#page-locator).

[Узнайте больше о локаторах](../locators.mdx).


---

## Методы

### all {#locator-all}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.29</font><x-search>locator.all</x-search>

Когда локатор указывает на список элементов, этот метод возвращает массив локаторов, указывающих на соответствующие элементы.

:::note

[locator.all()](/api/class-locator.mdx#locator-all) не ждет, пока элементы соответствуют локатору, и вместо этого немедленно возвращает то, что присутствует на странице.

Когда список элементов изменяется динамически, [locator.all()](/api/class-locator.mdx#locator-all) будет давать непредсказуемые и нестабильные результаты.

Когда список элементов стабилен, но загружается динамически, дождитесь полной загрузки списка перед вызовом [locator.all()](/api/class-locator.mdx#locator-all).
:::

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
for li in page.get_by_role('listitem').all():
  li.click();
```

</TabItem>
<TabItem value="async">

```py
for li in await page.get_by_role('listitem').all():
  await li.click();
```

</TabItem>
</Tabs>

**Возвращает**
- [List]\[[Locator]\]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-all-return"/><a href="#locator-all-return" class="list-anchor">#</a>

---

### all_inner_texts {#locator-all-inner-texts}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.all_inner_texts</x-search>

Возвращает массив значений `node.innerText` для всех соответствующих узлов.

:::warning[Проверка текста]

Если вам нужно проверить текст на странице, предпочтите [expect(locator).to_have_text()](/api/class-locatorassertions.mdx#locator-assertions-to-have-text) с опцией [use_inner_text](/api/class-locatorassertions.mdx#locator-assertions-to-have-text-option-use-inner-text), чтобы избежать нестабильности. Подробнее см. в [руководстве по проверкам](../test-assertions.mdx).
:::

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
texts = page.get_by_role("link").all_inner_texts()
```

</TabItem>
<TabItem value="async">

```py
texts = await page.get_by_role("link").all_inner_texts()
```

</TabItem>
</Tabs>

**Возвращает**
- [List]\[[str]\]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-all-inner-texts-return"/><a href="#locator-all-inner-texts-return" class="list-anchor">#</a>

---

### all_text_contents {#locator-all-text-contents}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.all_text_contents</x-search>

Возвращает массив значений `node.textContent` для всех соответствующих узлов.

:::warning[Проверка текста]

Если вам нужно проверить текст на странице, предпочтите [expect(locator).to_have_text()](/api/class-locatorassertions.mdx#locator-assertions-to-have-text), чтобы избежать нестабильности. Подробнее см. в [руководстве по проверкам](../test-assertions.mdx).
:::

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
texts = page.get_by_role("link").all_text_contents()
```

</TabItem>
<TabItem value="async">

```py
texts = await page.get_by_role("link").all_text_contents()
```

</TabItem>
</Tabs>

**Возвращает**
- [List]\[[str]\]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-all-text-contents-return"/><a href="#locator-all-text-contents-return" class="list-anchor">#</a>

---

### and_ {#locator-and}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.34</font><x-search>locator.and_</x-search>

Создает локатор, который соответствует как этому локатору, так и аргументу локатора.

**Использование**

Следующий пример находит кнопку с определенным заголовком.

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
button = page.get_by_role("button").and_(page.getByTitle("Subscribe"))
```

</TabItem>
<TabItem value="async">

```py
button = page.get_by_role("button").and_(page.getByTitle("Subscribe"))
```

</TabItem>
</Tabs>

**Аргументы**
- `locator` [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-and-option-locator"/><a href="#locator-and-option-locator" class="list-anchor">#</a>
  
  Дополнительный локатор для соответствия.

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-and-return"/><a href="#locator-and-return" class="list-anchor">#</a>

---

### aria_snapshot {#locator-aria-snapshot}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.49</font><x-search>locator.aria_snapshot</x-search>

Захватывает снимок aria для данного элемента. Подробнее о [снимках aria](../aria-snapshots.mdx) и [expect(locator).to_match_aria_snapshot()](/api/class-locatorassertions.mdx#locator-assertions-to-match-aria-snapshot) для соответствующей проверки.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_role("link").aria_snapshot()
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_role("link").aria_snapshot()
```

</TabItem>
</Tabs>

**Аргументы**
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-aria-snapshot-option-timeout"/><a href="#locator-aria-snapshot-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-aria-snapshot-return"/><a href="#locator-aria-snapshot-return" class="list-anchor">#</a>

**Детали**

Этот метод захватывает снимок aria для данного элемента. Снимок представляет собой строку, которая описывает состояние элемента и его дочерних элементов. Снимок может быть использован для проверки состояния элемента в тесте или для сравнения его с состоянием в будущем.

Снимок ARIA представлен с использованием языка разметки [YAML](https://yaml.org/spec/1.2.2/):
* Ключи объектов - это роли и опциональные доступные имена элементов.
* Значения - это либо текстовое содержимое, либо массив дочерних элементов.
* Общий статический текст может быть представлен с помощью ключа `text`.

Ниже приведена HTML-разметка и соответствующий снимок ARIA:

```html
<ul aria-label="Links">
  <li><a href="/">Home</a></li>
  <li><a href="/about">About</a></li>
<ul>
```

```yml
- list "Links":
  - listitem:
    - link "Home"
  - listitem:
    - link "About"
```

---

### blur {#locator-blur}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.28</font><x-search>locator.blur</x-search>

Вызывает [blur](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/blur) на элементе.

**Использование**

```python
locator.blur()
locator.blur(**kwargs)
```

**Аргументы**
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-blur-option-timeout"/><a href="#locator-blur-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-blur-return"/><a href="#locator-blur-return" class="list-anchor">#</a>

---

### bounding_box {#locator-bounding-box}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.bounding_box</x-search>

Этот метод возвращает ограничивающий прямоугольник элемента, соответствующего локатору, или `null`, если элемент не виден. Ограничивающий прямоугольник рассчитывается относительно области просмотра основного фрейма, которая обычно совпадает с окном браузера.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
box = page.get_by_role("button").bounding_box()
page.mouse.click(box["x"] + box["width"] / 2, box["y"] + box["height"] / 2)
```

</TabItem>
<TabItem value="async">

```py
box = await page.get_by_role("button").bounding_box()
await page.mouse.click(box["x"] + box["width"] / 2, box["y"] + box["height"] / 2)
```

</TabItem>
</Tabs>

**Аргументы**
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-bounding-box-option-timeout"/><a href="#locator-bounding-box-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [NoneType] | [Dict]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-bounding-box-return"/><a href="#locator-bounding-box-return" class="list-anchor">#</a>
  - `x` [float]
    
    x-координата элемента в пикселях.
  - `y` [float]
    
    y-координата элемента в пикселях.
  - `width` [float]
    
    ширина элемента в пикселях.
  - `height` [float]
    
    высота элемента в пикселях.

**Детали**

Прокрутка влияет на возвращаемый ограничивающий прямоугольник, аналогично [Element.getBoundingClientRect](https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect). Это означает, что `x` и/или `y` могут быть отрицательными.

Элементы из дочерних фреймов возвращают ограничивающий прямоугольник относительно основного фрейма, в отличие от [Element.getBoundingClientRect](https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect).

Предполагая, что страница статична, безопасно использовать координаты ограничивающего прямоугольника для выполнения ввода. Например, следующий фрагмент должен кликнуть в центр элемента.

---

### check {#locator-check}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.check</x-search>

Убедитесь, что элемент флажка или радио-кнопки отмечен.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_role("checkbox").check()
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_role("checkbox").check()
```

</TabItem>
</Tabs>

**Аргументы**
- `force` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-check-option-force"/><a href="#locator-check-option-force" class="list-anchor">#</a>
  
  Нужно ли обходить проверки [actionability](../actionability.mdx). По умолчанию `false`.
- `no_wait_after` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-check-option-no-wait-after"/><a href="#locator-check-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Эта опция не имеет эффекта.
  :::
  
  
  Эта опция не имеет эффекта.
- `position` [Dict] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-check-option-position"/><a href="#locator-check-option-position" class="list-anchor">#</a>
  - `x` [float]
    
    
  - `y` [float]
    
    
  Точка, используемая относительно верхнего левого угла рамки элемента. Если не указано, используется видимая точка элемента.
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-check-option-timeout"/><a href="#locator-check-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).
- `trial` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-check-option-trial"/><a href="#locator-check-option-trial" class="list-anchor">#</a>
  
  Если установлено, этот метод выполняет только проверки [actionability](../actionability.mdx) и пропускает действие. По умолчанию `false`. Полезно для ожидания, пока элемент будет готов к действию, без его выполнения.

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-check-return"/><a href="#locator-check-return" class="list-anchor">#</a>

**Детали**

Выполняет следующие шаги:
1. Убедитесь, что элемент является флажком или радио-кнопкой. Если нет, этот метод выбрасывает исключение. Если элемент уже отмечен, этот метод возвращается немедленно.
1. Ожидание проверок [actionability](../actionability.mdx) на элементе, если не установлена опция [force](/api/class-locator.mdx#locator-check-option-force).
1. Прокрутите элемент в вид, если это необходимо.
1. Используйте [page.mouse](/api/class-page.mdx#page-mouse) для клика в центр элемента.
1. Убедитесь, что элемент теперь отмечен. Если нет, этот метод выбрасывает исключение.

Если элемент отсоединен от DOM в любой момент во время действия, этот метод выбрасывает исключение.

Когда все шаги в совокупности не завершены в течение указанного [timeout](/api/class-locator.mdx#locator-check-option-timeout), этот метод выбрасывает [TimeoutError]. Передача нулевого тайм-аута отключает это.

---

### clear {#locator-clear}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.28</font><x-search>locator.clear</x-search>

Очистите поле ввода.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_role("textbox").clear()
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_role("textbox").clear()
```

</TabItem>
</Tabs>

**Аргументы**
- `force` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-clear-option-force"/><a href="#locator-clear-option-force" class="list-anchor">#</a>
  
  Нужно ли обходить проверки [actionability](../actionability.mdx). По умолчанию `false`.
- `no_wait_after` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-clear-option-no-wait-after"/><a href="#locator-clear-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Эта опция не имеет эффекта.
  :::
  
  
  Эта опция не имеет эффекта.
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-clear-option-timeout"/><a href="#locator-clear-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout) methods.

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-clear-return"/><a href="#locator-clear-return" class="list-anchor">#</a>

**Детали**

Этот метод ожидает проверки [actionability](../actionability.mdx), фокусируется на элементе, очищает его и вызывает событие `input` после очистки.

Если целевой элемент не является элементом `<input>`, `<textarea>` или `[contenteditable]`, этот метод выбрасывает ошибку. Однако, если элемент находится внутри элемента `<label>`, который имеет ассоциированный [control](https://developer.mozilla.org/en-US/docs/Web/API/HTMLLabelElement/control), будет очищен именно этот контрол.

---

### click {#locator-click}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.click</x-search>

Кликните по элементу.

**Использование**

Кликните по кнопке:

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_role("button").click()
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_role("button").click()
```

</TabItem>
</Tabs>

Щелчок с правой кнопкой мыши с удержанием Shift в определенной позиции на холсте:

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.locator("canvas").click(
    button="right", modifiers=["Shift"], position={"x": 23, "y": 32}
)
```

</TabItem>
<TabItem value="async">

```py
await page.locator("canvas").click(
    button="right", modifiers=["Shift"], position={"x": 23, "y": 32}
)
```

</TabItem>
</Tabs>

**Аргументы**
- `button` "left" | "right" | "middle" *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-click-option-button"/><a href="#locator-click-option-button" class="list-anchor">#</a>
  
  По умолчанию `left`.
- `click_count` [int] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-click-option-click-count"/><a href="#locator-click-option-click-count" class="list-anchor">#</a>
  
  по умолчанию 1. См. [UIEvent.detail].
- `delay` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-click-option-delay"/><a href="#locator-click-option-delay" class="list-anchor">#</a>
  
  Время ожидания между `mousedown` и `mouseup` в миллисекундах. По умолчанию 0.
- `force` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-click-option-force"/><a href="#locator-click-option-force" class="list-anchor">#</a>
  
  Нужно ли обходить проверки [actionability](../actionability.mdx). По умолчанию `false`.
- `modifiers` [List]\["Alt" | "Control" | "ControlOrMeta" | "Meta" | "Shift"\] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-click-option-modifiers"/><a href="#locator-click-option-modifiers" class="list-anchor">#</a>
  
  Модификаторные клавиши для нажатия. Гарантирует, что только эти модификаторы будут нажаты во время операции, а затем восстанавливает текущие модификаторы. Если не указано, используются текущие нажатые модификаторы. "ControlOrMeta" разрешается в "Control" на Windows и Linux и в "Meta" на macOS.
- `no_wait_after` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-click-option-no-wait-after"/><a href="#locator-click-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Эта опция по умолчанию будет `true` в будущем.
  :::
  
  
  Действия, инициирующие навигации, ожидают, пока эти навигации произойдут и страницы начнут загружаться. Вы можете отказаться от ожидания, установив этот флаг. Эта опция нужна только в исключительных случаях, таких как навигация на недоступные страницы. По умолчанию `false`.
- `position` [Dict] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-click-option-position"/><a href="#locator-click-option-position" class="list-anchor">#</a>
  - `x` [float]
    
    
  - `y` [float]
    
    
  Точка, используемая относительно верхнего левого угла рамки элемента. Если не указано, используется видимая точка элемента.
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-click-option-timeout"/><a href="#locator-click-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout) methods.
- `trial` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-click-option-trial"/><a href="#locator-click-option-trial" class="list-anchor">#</a>
  
  Если установлено, этот метод выполняет только проверки [actionability](../actionability.mdx) и пропускает действие. По умолчанию `false`. Полезно для ожидания, пока элемент будет готов к действию, без его выполнения. Обратите внимание, что клавиатурные `modifiers` будут нажаты независимо от `trial`, чтобы позволить тестирование элементов, которые видны только при нажатии этих клавиш.

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-click-return"/><a href="#locator-click-return" class="list-anchor">#</a>

**Детали**

Этот метод кликает по элементу, выполняя следующие шаги:
1. Ожидание проверок [actionability](../actionability.mdx) на элементе, если не установлена опция [force](/api/class-locator.mdx#locator-click-option-force).
1. Прокрутите элемент в вид, если это необходимо.
1. Используйте [page.mouse](/api/class-page.mdx#page-mouse) для клика в центр элемента или указанную [position](/api/class-locator.mdx#locator-click-option-position).
1. Ожидание, пока инициированные навигации либо завершатся успешно, либо потерпят неудачу, если не установлена опция [no_wait_after](/api/class-locator.mdx#locator-click-option-no-wait-after).

Если элемент отсоединен от DOM в любой момент во время действия, этот метод выбрасывает исключение.

Когда все шаги в совокупности не завершены в течение указанного [timeout](/api/class-locator.mdx#locator-click-option-timeout), этот метод выбрасывает [TimeoutError]. Передача нулевого тайм-аута отключает это.

---

### count {#locator-count}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.count</x-search>

Возвращает количество элементов, соответствующих локатору.

:::warning[Проверка количества]

Если вам нужно проверить количество элементов на странице, предпочтительнее использовать [expect(locator).to_have_count()](/api/class-locatorassertions.mdx#locator-assertions-to-have-count), чтобы избежать нестабильности. Подробнее см. в [руководстве по утверждениям](../test-assertions.mdx).
:::

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
count = page.get_by_role("listitem").count()
```

</TabItem>
<TabItem value="async">

```py
count = await page.get_by_role("listitem").count()
```

</TabItem>
</Tabs>

**Возвращает**
- [int]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-count-return"/><a href="#locator-count-return" class="list-anchor">#</a>

---

### dblclick {#locator-dblclick}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.dblclick</x-search>

Двойной клик по элементу.

**Использование**

```python
locator.dblclick()
locator.dblclick(**kwargs)
```

**Аргументы**
- `button` "left" | "right" | "middle" *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dblclick-option-button"/><a href="#locator-dblclick-option-button" class="list-anchor">#</a>
  
  По умолчанию `left`.
- `delay` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dblclick-option-delay"/><a href="#locator-dblclick-option-delay" class="list-anchor">#</a>
  
  Время ожидания между `mousedown` и `mouseup` в миллисекундах. По умолчанию 0.
- `force` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dblclick-option-force"/><a href="#locator-dblclick-option-force" class="list-anchor">#</a>
  
  Следует ли обходить проверки [actionability](../actionability.mdx). По умолчанию `false`.
- `modifiers` [List]\["Alt" | "Control" | "ControlOrMeta" | "Meta" | "Shift"\] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dblclick-option-modifiers"/><a href="#locator-dblclick-option-modifiers" class="list-anchor">#</a>
  
  Клавиши-модификаторы для нажатия. Гарантирует, что только эти модификаторы будут нажаты во время операции, а затем восстанавливает текущие модификаторы. Если не указано, используются текущие нажатые модификаторы. "ControlOrMeta" разрешается в "Control" на Windows и Linux и в "Meta" на macOS.
- `no_wait_after` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dblclick-option-no-wait-after"/><a href="#locator-dblclick-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Этот параметр не имеет эффекта.
  :::
  
  Этот параметр не имеет эффекта.
- `position` [Dict] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dblclick-option-position"/><a href="#locator-dblclick-option-position" class="list-anchor">#</a>
  - `x` [float]
    
    
  - `y` [float]
    
    
  Точка для использования относительно верхнего левого угла элемента. Если не указано, используется видимая точка элемента.
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dblclick-option-timeout"/><a href="#locator-dblclick-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).
- `trial` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dblclick-option-trial"/><a href="#locator-dblclick-option-trial" class="list-anchor">#</a>
  
  Если установлено, этот метод выполняет только проверки [actionability](../actionability.mdx) и пропускает действие. По умолчанию `false`. Полезно для ожидания, пока элемент будет готов к действию без его выполнения. Обратите внимание, что клавиатурные `modifiers` будут нажаты независимо от `trial`, чтобы позволить тестировать элементы, которые видны только при нажатии этих клавиш.

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dblclick-return"/><a href="#locator-dblclick-return" class="list-anchor">#</a>

**Детали**

Этот метод выполняет двойной клик по элементу, выполняя следующие шаги:
1. Ожидание проверок [actionability](../actionability.mdx) на элементе, если не установлена опция [force](/api/class-locator.mdx#locator-dblclick-option-force).
1. Прокрутка элемента в видимую область, если необходимо.
1. Использование [page.mouse](/api/class-page.mdx#page-mouse) для двойного клика в центре элемента или в указанной [position](/api/class-locator.mdx#locator-dblclick-option-position).

Если элемент отсоединен от DOM в любой момент во время действия, этот метод выбрасывает исключение.

Если все шаги не завершены в течение указанного [timeout](/api/class-locator.mdx#locator-dblclick-option-timeout), этот метод выбрасывает [TimeoutError]. Передача нулевого тайм-аута отключает это.

:::note

`element.dblclick()` генерирует два события `click` и одно событие `dblclick`.
:::

---

### dispatch_event {#locator-dispatch-event}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.dispatch_event</x-search>

Программно отправляет событие на соответствующий элемент.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
locator.dispatch_event("click")
```

</TabItem>
<TabItem value="async">

```py
await locator.dispatch_event("click")
```

</TabItem>
</Tabs>

**Аргументы**
- `type` [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dispatch-event-option-type"/><a href="#locator-dispatch-event-option-type" class="list-anchor">#</a>
  
  Тип DOM события: `"click"`, `"dragstart"`, и т.д.
- `event_init` [EvaluationArgument] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dispatch-event-option-event-init"/><a href="#locator-dispatch-event-option-event-init" class="list-anchor">#</a>
  
  Опциональные свойства инициализации события.
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dispatch-event-option-timeout"/><a href="#locator-dispatch-event-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-dispatch-event-return"/><a href="#locator-dispatch-event-return" class="list-anchor">#</a>

**Детали**

Приведенный выше фрагмент отправляет событие `click` на элемент. Независимо от состояния видимости элемента, `click` отправляется. Это эквивалентно вызову [element.click()](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/click).

Внутри создается экземпляр события на основе указанного [type](/api/class-locator.mdx#locator-dispatch-event-option-type), инициализируется с помощью свойств [event_init](/api/class-locator.mdx#locator-dispatch-event-option-event-init) и отправляется на элемент. События по умолчанию `composed`, `cancelable` и всплывают.

Поскольку [event_init](/api/class-locator.mdx#locator-dispatch-event-option-event-init) специфичен для события, пожалуйста, обратитесь к документации по событиям для списков начальных свойств:
* [DeviceMotionEvent](https://developer.mozilla.org/en-US/docs/Web/API/DeviceMotionEvent/DeviceMotionEvent)
* [DeviceOrientationEvent](https://developer.mozilla.org/en-US/docs/Web/API/DeviceOrientationEvent/DeviceOrientationEvent)
* [DragEvent](https://developer.mozilla.org/en-US/docs/Web/API/DragEvent/DragEvent)
* [Event](https://developer.mozilla.org/en-US/docs/Web/API/Event/Event)
* [FocusEvent](https://developer.mozilla.org/en-US/docs/Web/API/FocusEvent/FocusEvent)
* [KeyboardEvent](https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/KeyboardEvent)
* [MouseEvent](https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/MouseEvent)
* [PointerEvent](https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/PointerEvent)
* [TouchEvent](https://developer.mozilla.org/en-US/docs/Web/API/TouchEvent/TouchEvent)
* [WheelEvent](https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent/WheelEvent)

Вы также можете указать [JSHandle] в качестве значения свойства, если хотите, чтобы живые объекты передавались в событие:

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
data_transfer = page.evaluate_handle("new DataTransfer()")
locator.dispatch_event("#source", "dragstart", {"dataTransfer": data_transfer})
```

</TabItem>
<TabItem value="async">

```py
data_transfer = await page.evaluate_handle("new DataTransfer()")
await locator.dispatch_event("#source", "dragstart", {"dataTransfer": data_transfer})
```

</TabItem>
</Tabs>

---

### drag_to {#locator-drag-to}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.18</font><x-search>locator.drag_to</x-search>

Перетащите исходный элемент к целевому элементу и отпустите его.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
source = page.locator("#source")
target = page.locator("#target")

source.drag_to(target)
# или укажите точные позиции относительно верхних левых углов элементов:
source.drag_to(
  target,
  source_position={"x": 34, "y": 7},
  target_position={"x": 10, "y": 20}
)
```

</TabItem>
<TabItem value="async">

```py
source = page.locator("#source")
target = page.locator("#target")

await source.drag_to(target)
# или укажите точные позиции относительно верхних левых углов элементов:
await source.drag_to(
  target,
  source_position={"x": 34, "y": 7},
  target_position={"x": 10, "y": 20}
)
```

</TabItem>
</Tabs>

**Аргументы**
- `target` [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-drag-to-option-target"/><a href="#locator-drag-to-option-target" class="list-anchor">#</a>
  
  Локатор элемента, к которому нужно перетащить.
- `force` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-drag-to-option-force"/><a href="#locator-drag-to-option-force" class="list-anchor">#</a>
  
  Следует ли обходить проверки [actionability](../actionability.mdx). По умолчанию `false`.
- `no_wait_after` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-drag-to-option-no-wait-after"/><a href="#locator-drag-to-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Этот параметр не имеет эффекта.
  :::
  
  Этот параметр не имеет эффекта.
- `source_position` [Dict] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-drag-to-option-source-position"/><a href="#locator-drag-to-option-source-position" class="list-anchor">#</a>
  - `x` [float]
    
    
  - `y` [float]
    
    
  Клик по исходному элементу в этой точке относительно верхнего левого угла элемента. Если не указано, используется видимая точка элемента.
- `target_position` [Dict] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-drag-to-option-target-position"/><a href="#locator-drag-to-option-target-position" class="list-anchor">#</a>
  - `x` [float]
    
    
  - `y` [float]
    
    
  Отпустите на целевом элементе в этой точке относительно верхнего левого угла элемента. Если не указано, используется видимая точка элемента.
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-drag-to-option-timeout"/><a href="#locator-drag-to-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).
- `trial` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-drag-to-option-trial"/><a href="#locator-drag-to-option-trial" class="list-anchor">#</a>
  
  Если установлено, этот метод выполняет только проверки [actionability](../actionability.mdx) и пропускает действие. По умолчанию `false`. Полезно для ожидания, пока элемент будет готов к действию без его выполнения.

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-drag-to-return"/><a href="#locator-drag-to-return" class="list-anchor">#</a>

**Детали**

Этот метод перетаскивает локатор к другому целевому локатору или целевой позиции. Сначала он перемещается к исходному элементу, выполняет `mousedown`, затем перемещается к целевому элементу или позиции и выполняет `mouseup`.

---

### evaluate {#locator-evaluate}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.evaluate</x-search>

Выполняет JavaScript код на странице, принимая соответствующий элемент в качестве аргумента.

**Использование**

**Аргументы**
- `expression` [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-evaluate-option-expression"/><a href="#locator-evaluate-option-expression" class="list-anchor">#</a>
  
  JavaScript выражение, которое будет выполнено в контексте браузера. Если выражение оценивается как функция, функция автоматически вызывается.
- `arg` [EvaluationArgument] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-evaluate-option-arg"/><a href="#locator-evaluate-option-arg" class="list-anchor">#</a>
  
  Необязательный аргумент для передачи в [expression](/api/class-locator.mdx#locator-evaluate-option-expression).
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-evaluate-option-timeout"/><a href="#locator-evaluate-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [Dict]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-evaluate-return"/><a href="#locator-evaluate-return" class="list-anchor">#</a>

**Детали**

Возвращает значение, возвращаемое [expression](/api/class-locator.mdx#locator-evaluate-option-expression), вызываемое с соответствующим элементом в качестве первого аргумента и [arg](/api/class-locator.mdx#locator-evaluate-option-arg) в качестве второго аргумента.

Если [expression](/api/class-locator.mdx#locator-evaluate-option-expression) возвращает [Promise], этот метод будет ждать разрешения промиса и вернет его значение.

Если [expression](/api/class-locator.mdx#locator-evaluate-option-expression) выбрасывает или отклоняет, этот метод выбрасывает исключение.

---

### evaluate_all {#locator-evaluate-all}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.evaluate_all</x-search>

Выполняет JavaScript код на странице, принимая все соответствующие элементы в качестве аргумента.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
locator = page.locator("div")
more_than_ten = locator.evaluate_all("(divs, min) => divs.length > min", 10)
```

</TabItem>
<TabItem value="async">

```py
locator = page.locator("div")
more_than_ten = await locator.evaluate_all("(divs, min) => divs.length > min", 10)
```

</TabItem>
</Tabs>

**Аргументы**
- `expression` [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-evaluate-all-option-expression"/><a href="#locator-evaluate-all-option-expression" class="list-anchor">#</a>
  
  JavaScript выражение, которое будет выполнено в контексте браузера. Если выражение оценивается как функция, функция автоматически вызывается.
- `arg` [EvaluationArgument] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-evaluate-all-option-arg"/><a href="#locator-evaluate-all-option-arg" class="list-anchor">#</a>
  
  Необязательный аргумент для передачи в [expression](/api/class-locator.mdx#locator-evaluate-all-option-expression).

**Возвращает**
- [Dict]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-evaluate-all-return"/><a href="#locator-evaluate-all-return" class="list-anchor">#</a>

**Детали**

Возвращает значение, возвращаемое [expression](/api/class-locator.mdx#locator-evaluate-all-option-expression), вызываемое с массивом всех соответствующих элементов в качестве первого аргумента и [arg](/api/class-locator.mdx#locator-evaluate-all-option-arg) в качестве второго аргумента.

Если [expression](/api/class-locator.mdx#locator-evaluate-all-option-expression) возвращает [Promise], этот метод будет ждать разрешения промиса и вернет его значение.

Если [expression](/api/class-locator.mdx#locator-evaluate-all-option-expression) выбрасывает или отклоняет, этот метод выбрасывает исключение.

---

### evaluate_handle {#locator-evaluate-handle}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.evaluate_handle</x-search>

Выполняет JavaScript код на странице, принимая соответствующий элемент в качестве аргумента, и возвращает [JSHandle] с результатом.

**Использование**

```python
locator.evaluate_handle(expression)
locator.evaluate_handle(expression, **kwargs)
```

**Аргументы**
- `expression` [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-evaluate-handle-option-expression"/><a href="#locator-evaluate-handle-option-expression" class="list-anchor">#</a>
  
  JavaScript выражение, которое будет выполнено в контексте браузера. Если выражение оценивается как функция, функция автоматически вызывается.
- `arg` [EvaluationArgument] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-evaluate-handle-option-arg"/><a href="#locator-evaluate-handle-option-arg" class="list-anchor">#</a>
  
  Необязательный аргумент для передачи в [expression](/api/class-locator.mdx#locator-evaluate-handle-option-expression).
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-evaluate-handle-option-timeout"/><a href="#locator-evaluate-handle-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [JSHandle]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-evaluate-handle-return"/><a href="#locator-evaluate-handle-return" class="list-anchor">#</a>

**Детали**

Возвращает значение, возвращаемое [expression](/api/class-locator.mdx#locator-evaluate-handle-option-expression) как [JSHandle], вызываемое с соответствующим элементом в качестве первого аргумента и [arg](/api/class-locator.mdx#locator-evaluate-handle-option-arg) в качестве второго аргумента.

Единственное отличие между [locator.evaluate()](/api/class-locator.mdx#locator-evaluate) и [locator.evaluate_handle()](/api/class-locator.mdx#locator-evaluate-handle) заключается в том, что [locator.evaluate_handle()](/api/class-locator.mdx#locator-evaluate-handle) возвращает [JSHandle].

Если [expression](/api/class-locator.mdx#locator-evaluate-handle-option-expression) возвращает [Promise], этот метод будет ждать разрешения промиса и вернет его значение.

Если [expression](/api/class-locator.mdx#locator-evaluate-handle-option-expression) выбрасывает или отклоняет, этот метод выбрасывает исключение.

Смотрите [page.evaluate_handle()](/api/class-page.mdx#page-evaluate-handle) для получения более подробной информации.

---

### fill {#locator-fill}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.fill</x-search>

Устанавливает значение в поле ввода.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_role("textbox").fill("example value")
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_role("textbox").fill("example value")
```

</TabItem>
</Tabs>

**Аргументы**
- `value` [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-fill-option-value"/><a href="#locator-fill-option-value" class="list-anchor">#</a>
  
  Значение для установки в элемент `<input>`, `<textarea>` или `[contenteditable]`.
- `force` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-fill-option-force"/><a href="#locator-fill-option-force" class="list-anchor">#</a>
  
  Следует ли обходить проверки [actionability](../actionability.mdx). По умолчанию `false`.
- `no_wait_after` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-fill-option-no-wait-after"/><a href="#locator-fill-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Эта опция не имеет эффекта.
  :::
  
  Эта опция не имеет эффекта.
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-fill-option-timeout"/><a href="#locator-fill-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-fill-return"/><a href="#locator-fill-return" class="list-anchor">#</a>

**Детали**

Этот метод ждет проверки [actionability](../actionability.mdx), фокусируется на элементе, заполняет его и вызывает событие `input` после заполнения. Обратите внимание, что вы можете передать пустую строку, чтобы очистить поле ввода.

Если целевой элемент не является элементом `<input>`, `<textarea>` или `[contenteditable]`, этот метод выбрасывает ошибку. Однако, если элемент находится внутри элемента `<label>`, который имеет ассоциированный [control](https://developer.mozilla.org/en-US/docs/Web/API/HTMLLabelElement/control), будет заполнен именно этот контрол.

Для отправки более детализированных событий клавиатуры используйте [locator.press_sequentially()](/api/class-locator.mdx#locator-press-sequentially).

---

### filter {#locator-filter}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.22</font><x-search>locator.filter</x-search>

Этот метод сужает существующий локатор в соответствии с опциями, например, фильтрует по тексту. Он может быть связан для многократной фильтрации.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
row_locator = page.locator("tr")
# ...
row_locator.filter(has_text="text in column 1").filter(
    has=page.get_by_role("button", name="column 2 button")
).screenshot()
```

</TabItem>
<TabItem value="async">

```py
row_locator = page.locator("tr")
# ...
await row_locator.filter(has_text="text in column 1").filter(
    has=page.get_by_role("button", name="column 2 button")
).screenshot()

```

</TabItem>
</Tabs>

**Аргументы**
- `has` [Locator] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-filter-option-has"/><a href="#locator-filter-option-has" class="list-anchor">#</a>
  
  Сужает результаты метода до тех, которые содержат элементы, соответствующие этому относительному локатору. Например, `article`, который имеет `text=Playwright`, соответствует `<article><div>Playwright</div></article>`.
  
  Внутренний локатор **должен быть относительным** к внешнему локатору и запрашивается, начиная с совпадения внешнего локатора, а не с корня документа. Например, вы можете найти `content`, который имеет `div` в `<article><content><div>Playwright</div></content></article>`. Однако поиск `content`, который имеет `article div`, не удастся, потому что внутренний локатор должен быть относительным и не должен использовать элементы за пределами `content`.
  
  Обратите внимание, что внешние и внутренние локаторы должны принадлежать к одной и той же рамке. Внутренний локатор не должен содержать [FrameLocator]s.
- `has_not` [Locator] *(optional)* <font size="2">Добавлено в: v1.33</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-filter-option-has-not"/><a href="#locator-filter-option-has-not" class="list-anchor">#</a>
  
  Соответствует элементам, которые не содержат элемент, соответствующий внутреннему локатору. Внутренний локатор запрашивается относительно внешнего. Например, `article`, который не имеет `div`, соответствует `<article><span>Playwright</span></article>`.
  
  Обратите внимание, что внешние и внутренние локаторы должны принадлежать к одной и той же рамке. Внутренний локатор не должен содержать [FrameLocator]s.
- `has_not_text` [str] | [Pattern] *(optional)* <font size="2">Добавлено в: v1.33</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-filter-option-has-not-text"/><a href="#locator-filter-option-has-not-text" class="list-anchor">#</a>
  
  Соответствует элементам, которые не содержат указанный текст где-либо внутри, возможно, в дочернем или потомственном элементе. При передаче [строки] сопоставление нечувствительно к регистру и ищет подстроку.
- `has_text` [str] | [Pattern] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-filter-option-has-text"/><a href="#locator-filter-option-has-text" class="list-anchor">#</a>
  
  Соответствует элементам, содержащим указанный текст где-либо внутри, возможно, в дочернем или потомственном элементе. При передаче [строки] сопоставление нечувствительно к регистру и ищет подстроку. Например, `"Playwright"` соответствует `<article><div>Playwright</div></article>`.
- `visible` [bool] *(optional)* <font size="2">Добавлено в: v1.51</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-filter-option-visible"/><a href="#locator-filter-option-visible" class="list-anchor">#</a>
  
  Соответствует только видимым или невидимым элементам.

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-filter-return"/><a href="#locator-filter-return" class="list-anchor">#</a>

---

### focus {#locator-focus}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.focus</x-search>

Вызывает [focus](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus) на соответствующем элементе.

**Использование**

```python
locator.focus()
locator.focus(**kwargs)
```

**Аргументы**
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-focus-option-timeout"/><a href="#locator-focus-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout) methods.

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-focus-return"/><a href="#locator-focus-return" class="list-anchor">#</a>

---

### frame_locator {#locator-frame-locator}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.17</font><x-search>locator.frame_locator</x-search>

При работе с iframes, вы можете создать локатор фрейма, который войдет в iframe и позволит находить элементы в этом iframe:

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
locator = page.frame_locator("iframe").get_by_text("Submit")
locator.click()
```

</TabItem>
<TabItem value="async">

```py
locator = page.frame_locator("iframe").get_by_text("Submit")
await locator.click()
```

</TabItem>
</Tabs>

**Аргументы**
- `selector` [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-frame-locator-option-selector"/><a href="#locator-frame-locator-option-selector" class="list-anchor">#</a>
  
  Селектор для использования при разрешении DOM элемента.

**Возвращает**
- [FrameLocator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-frame-locator-return"/><a href="#locator-frame-locator-return" class="list-anchor">#</a>

---

### get_attribute {#locator-get-attribute}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.get_attribute</x-search>

Возвращает значение атрибута соответствующего элемента.

:::warning[Проверка атрибутов]

Если вам нужно проверить атрибут элемента, предпочтите [expect(locator).to_have_attribute()](/api/class-locatorassertions.mdx#locator-assertions-to-have-attribute), чтобы избежать нестабильности. Подробнее см. в [руководстве по утверждениям](../test-assertions.mdx).
:::

**Использование**

```python
locator.get_attribute(name)
locator.get_attribute(name, **kwargs)
```

**Аргументы**
- `name` [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-attribute-option-name"/><a href="#locator-get-attribute-option-name" class="list-anchor">#</a>
  
  Имя атрибута, для которого нужно получить значение.
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-attribute-option-timeout"/><a href="#locator-get-attribute-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [NoneType] | [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-attribute-return"/><a href="#locator-get-attribute-return" class="list-anchor">#</a>

---

### get_by_alt_text {#locator-get-by-alt-text}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.27</font><x-search>locator.get_by_alt_text</x-search>

Позволяет находить элементы по их alt тексту.

**Использование**

Например, этот метод найдет изображение по alt тексту "Playwright logo":

```html
<img alt='Playwright logo'>
```

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_alt_text("Playwright logo").click()
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_alt_text("Playwright logo").click()
```

</TabItem>
</Tabs>

**Аргументы**
- `text` [str] | [Pattern]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-alt-text-option-text"/><a href="#locator-get-by-alt-text-option-text" class="list-anchor">#</a>
  
  Текст для поиска элемента.
- `exact` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-alt-text-option-exact"/><a href="#locator-get-by-alt-text-option-exact" class="list-anchor">#</a>
  
  Искать точное совпадение: с учетом регистра и целой строки. По умолчанию false. Игнорируется при поиске по регулярному выражению. Обратите внимание, что точное совпадение все равно обрезает пробелы.

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-alt-text-return"/><a href="#locator-get-by-alt-text-return" class="list-anchor">#</a>

---

### get_by_label {#locator-get-by-label}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.27</font><x-search>locator.get_by_label</x-search>

Позволяет находить элементы ввода по тексту связанного элемента `<label>` или `aria-labelledby`, или по атрибуту `aria-label`.

**Использование**

Например, этот метод найдет поля ввода по меткам "Username" и "Password" в следующем DOM:

```html
<input aria-label="Username">
<label for="password-input">Password:</label>
<input id="password-input">
```

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_label("Username").fill("john")
page.get_by_label("Password").fill("secret")
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_label("Username").fill("john")
await page.get_by_label("Password").fill("secret")
```

</TabItem>
</Tabs>

**Аргументы**
- `text` [str] | [Pattern]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-label-option-text"/><a href="#locator-get-by-label-option-text" class="list-anchor">#</a>
  
  Текст для поиска элемента.
- `exact` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-label-option-exact"/><a href="#locator-get-by-label-option-exact" class="list-anchor">#</a>
  
  Искать точное совпадение: с учетом регистра и целой строки. По умолчанию false. Игнорируется при поиске по регулярному выражению. Обратите внимание, что точное совпадение все равно обрезает пробелы.

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-label-return"/><a href="#locator-get-by-label-return" class="list-anchor">#</a>

---

### get_by_placeholder {#locator-get-by-placeholder}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.27</font><x-search>locator.get_by_placeholder</x-search>

Позволяет находить элементы ввода по тексту-заполнителю.

**Использование**

Например, рассмотрим следующую структуру DOM.

```html
<input type="email" placeholder="name@example.com" />
```

Вы можете заполнить поле ввода, найдя его по тексту-заполнителю:

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_placeholder("name@example.com").fill("playwright@microsoft.com")
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_placeholder("name@example.com").fill("playwright@microsoft.com")
```

</TabItem>
</Tabs>

**Аргументы**
- `text` [str] | [Pattern]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-placeholder-option-text"/><a href="#locator-get-by-placeholder-option-text" class="list-anchor">#</a>
  
  Текст для поиска элемента.
- `exact` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-placeholder-option-exact"/><a href="#locator-get-by-placeholder-option-exact" class="list-anchor">#</a>
  
  Искать точное совпадение: с учетом регистра и целой строки. По умолчанию false. Игнорируется при поиске по регулярному выражению. Обратите внимание, что точное совпадение все равно обрезает пробелы.

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-placeholder-return"/><a href="#locator-get-by-placeholder-return" class="list-anchor">#</a>

---

### get_by_role {#locator-get-by-role}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.27</font><x-search>locator.get_by_role</x-search>

Позволяет находить элементы по их [ARIA роли](https://www.w3.org/TR/wai-aria-1.2/#roles), [ARIA атрибутам](https://www.w3.org/TR/wai-aria-1.2/#aria-attributes) и [доступному имени](https://w3c.github.io/accname/#dfn-accessible-name).

**Использование**

Рассмотрим следующую структуру DOM.

```html
<h3>Sign up</h3>
<label>
  <input type="checkbox" /> Subscribe
</label>
<br/>
<button>Submit</button>
```

Вы можете найти каждый элемент по его неявной роли:

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
expect(page.get_by_role("heading", name="Sign up")).to_be_visible()

page.get_by_role("checkbox", name="Subscribe").check()

page.get_by_role("button", name=re.compile("submit", re.IGNORECASE)).click()
```

</TabItem>
<TabItem value="async">

```py
await expect(page.get_by_role("heading", name="Sign up")).to_be_visible()

await page.get_by_role("checkbox", name="Subscribe").check()

await page.get_by_role("button", name=re.compile("submit", re.IGNORECASE)).click()
```

</TabItem>
</Tabs>

**Аргументы**
- `role` "alert" | "alertdialog" | "application" | "article" | "banner" | "blockquote" | "button" | "caption" | "cell" | "checkbox" | "code" | "columnheader" | "combobox" | "complementary" | "contentinfo" | "definition" | "deletion" | "dialog" | "directory" | "document" | "emphasis" | "feed" | "figure" | "form" | "generic" | "grid" | "gridcell" | "group" | "heading" | "img" | "insertion" | "link" | "list" | "listbox" | "listitem" | "log" | "main" | "marquee" | "math" | "meter" | "menu" | "menubar" | "menuitem" | "menuitemcheckbox" | "menuitemradio" | "navigation" | "none" | "note" | "option" | "paragraph" | "presentation" | "progressbar" | "radio" | "radiogroup" | "region" | "row" | "rowgroup" | "rowheader" | "scrollbar" | "search" | "searchbox" | "separator" | "slider" | "spinbutton" | "status" | "strong" | "subscript" | "superscript" | "switch" | "tab" | "table" | "tablist" | "tabpanel" | "term" | "textbox" | "time" | "timer" | "toolbar" | "tooltip" | "tree" | "treegrid" | "treeitem"<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-role-option-role"/><a href="#locator-get-by-role-option-role" class="list-anchor">#</a>
  
  Требуемая ARIA роль.
- `checked` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-role-option-checked"/><a href="#locator-get-by-role-option-checked" class="list-anchor">#</a>
  
  Атрибут, который обычно устанавливается с помощью `aria-checked` или нативных `<input type=checkbox>` контролов.
  
  Узнайте больше о [`aria-checked`](https://www.w3.org/TR/wai-aria-1.2/#aria-checked).
- `disabled` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-role-option-disabled"/><a href="#locator-get-by-role-option-disabled" class="list-anchor">#</a>
  
  Атрибут, который обычно устанавливается с помощью `aria-disabled` или `disabled`.
  
  :::note
  
  В отличие от большинства других атрибутов, `disabled` наследуется через иерархию DOM. Узнайте больше о [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.2/#aria-disabled).
  :::
  
- `exact` [bool] *(опционально)* <font size="2">Добавлено в: v1.28</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-role-option-exact"/><a href="#locator-get-by-role-option-exact" class="list-anchor">#</a>
  
  Совпадает ли [name](/api/class-locator.mdx#locator-get-by-role-option-name) точно: с учетом регистра и целой строки. По умолчанию false. Игнорируется, когда [name](/api/class-locator.mdx#locator-get-by-role-option-name) является регулярным выражением. Обратите внимание, что точное совпадение все равно обрезает пробелы.
- `expanded` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-role-option-expanded"/><a href="#locator-get-by-role-option-expanded" class="list-anchor">#</a>
  
  Атрибут, который обычно устанавливается с помощью `aria-expanded`.
  
  Узнайте больше о [`aria-expanded`](https://www.w3.org/TR/wai-aria-1.2/#aria-expanded).
- `include_hidden` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-role-option-include-hidden"/><a href="#locator-get-by-role-option-include-hidden" class="list-anchor">#</a>
  
  Опция, которая контролирует, соответствуют ли скрытые элементы. По умолчанию, только не скрытые элементы, как [определено ARIA](https://www.w3.org/TR/wai-aria-1.2/#tree_exclusion), соответствуют селектору роли.
  
  Узнайте больше о [`aria-hidden`](https://www.w3.org/TR/wai-aria-1.2/#aria-hidden).
- `level` [int] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-role-option-level"/><a href="#locator-get-by-role-option-level" class="list-anchor">#</a>
  
  Числовой атрибут, который обычно присутствует для ролей `heading`, `listitem`, `row`, `treeitem`, с значениями по умолчанию для элементов `<h1>-<h6>`.
  
  Узнайте больше о [`aria-level`](https://www.w3.org/TR/wai-aria-1.2/#aria-level).
- `name` [str] | [Pattern] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-role-option-name"/><a href="#locator-get-by-role-option-name" class="list-anchor">#</a>
  
  Опция для соответствия [доступному имени](https://w3c.github.io/accname/#dfn-accessible-name). По умолчанию, соответствие не учитывает регистр и ищет подстроку, используйте [exact](/api/class-locator.mdx#locator-get-by-role-option-exact) для управления этим поведением.
  
  Узнайте больше о [доступном имени](https://w3c.github.io/accname/#dfn-accessible-name).
- `pressed` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-role-option-pressed"/><a href="#locator-get-by-role-option-pressed" class="list-anchor">#</a>
  
  Атрибут, который обычно устанавливается с помощью `aria-pressed`.
  
  Узнайте больше о [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.2/#aria-pressed).
- `selected` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-role-option-selected"/><a href="#locator-get-by-role-option-selected" class="list-anchor">#</a>
  
  Атрибут, который обычно устанавливается с помощью `aria-selected`.
  
  Узнайте больше о [`aria-selected`](https://www.w3.org/TR/wai-aria-1.2/#aria-selected).

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-role-return"/><a href="#locator-get-by-role-return" class="list-anchor">#</a>

**Детали**

Селектор роли **не заменяет** аудиты доступности и тесты на соответствие, но дает раннюю обратную связь о руководствах ARIA.

Многие HTML элементы имеют неявно [определенную роль](https://w3c.github.io/html-aam/#html-element-role-mappings), которая распознается селектором роли. Вы можете найти все [поддерживаемые роли здесь](https://www.w3.org/TR/wai-aria-1.2/#role_definitions). Руководства ARIA **не рекомендуют** дублировать неявные роли и атрибуты, устанавливая `role` и/или `aria-*` атрибуты на значения по умолчанию.

---

### get_by_test_id {#locator-get-by-test-id}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.27</font><x-search>locator.get_by_test_id</x-search>

Находит элемент по тестовому идентификатору.

**Использование**

Рассмотрим следующую структуру DOM.

```html
<button data-testid="directions">Itinéraire</button>
```

Вы можете найти элемент по его тестовому идентификатору:

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_test_id("directions").click()
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_test_id("directions").click()
```

</TabItem>
</Tabs>

**Аргументы**
- `test_id` [str] | [Pattern]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-test-id-option-test-id"/><a href="#locator-get-by-test-id-option-test-id" class="list-anchor">#</a>
  
  Идентификатор для поиска элемента.

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-test-id-return"/><a href="#locator-get-by-test-id-return" class="list-anchor">#</a>

**Детали**

По умолчанию используется атрибут `data-testid` в качестве тестового идентификатора. Используйте [selectors.set_test_id_attribute()](/api/class-selectors.mdx#selectors-set-test-id-attribute), чтобы настроить другой атрибут тестового идентификатора, если это необходимо.

---

### get_by_text {#locator-get-by-text}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.27</font><x-search>locator.get_by_text</x-search>

Позволяет находить элементы, содержащие заданный текст.

См. также [locator.filter()](/api/class-locator.mdx#locator-filter), который позволяет сопоставлять по другим критериям, таким как доступная роль, а затем фильтровать по содержимому текста.

**Использование**

Рассмотрим следующую структуру DOM:

```html
<div>Hello <span>world</span></div>
<div>Hello</div>
```

Вы можете найти по подстроке текста, точной строке или регулярному выражению:

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
# Совпадает с <span>
page.get_by_text("world")

# Совпадает с первым <div>
page.get_by_text("Hello world")

# Совпадает со вторым <div>
page.get_by_text("Hello", exact=True)

# Совпадает с обоими <div>
page.get_by_text(re.compile("Hello"))

# Совпадает со вторым <div>
page.get_by_text(re.compile("^hello$", re.IGNORECASE))
```

</TabItem>
<TabItem value="async">

```py
# Совпадает с <span>
page.get_by_text("world")

# Совпадает с первым <div>
page.get_by_text("Hello world")

# Совпадает со вторым <div>
page.get_by_text("Hello", exact=True)

# Совпадает с обоими <div>
page.get_by_text(re.compile("Hello"))

# Совпадает со вторым <div>
page.get_by_text(re.compile("^hello$", re.IGNORECASE))
```

</TabItem>
</Tabs>

**Аргументы**
- `text` [str] | [Pattern]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-text-option-text"/><a href="#locator-get-by-text-option-text" class="list-anchor">#</a>
  
  Текст для поиска элемента.
- `exact` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-text-option-exact"/><a href="#locator-get-by-text-option-exact" class="list-anchor">#</a>
  
  Искать точное совпадение: с учетом регистра и всей строки. По умолчанию false. Игнорируется при поиске по регулярному выражению. Обратите внимание, что точное совпадение все равно обрезает пробелы.

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-text-return"/><a href="#locator-get-by-text-return" class="list-anchor">#</a>

**Детали**

Сопоставление по тексту всегда нормализует пробелы, даже при точном совпадении. Например, оно превращает несколько пробелов в один, превращает разрывы строк в пробелы и игнорирует начальные и конечные пробелы.

Элементы ввода типа `button` и `submit` сопоставляются по их `value`, а не по содержимому текста. Например, поиск по тексту `"Log in"` совпадает с `<input type=button value="Log in">`.

---

### get_by_title {#locator-get-by-title}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.27</font><x-search>locator.get_by_title</x-search>

Позволяет находить элементы по их атрибуту title.

**Использование**

Рассмотрим следующую структуру DOM.

```html
<span title='Issues count'>25 issues</span>
```

Вы можете проверить количество проблем, найдя его по тексту заголовка:

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
expect(page.get_by_title("Issues count")).to_have_text("25 issues")
```

</TabItem>
<TabItem value="async">

```py
await expect(page.get_by_title("Issues count")).to_have_text("25 issues")
```

</TabItem>
</Tabs>

**Аргументы**
- `text` [str] | [Pattern]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-title-option-text"/><a href="#locator-get-by-title-option-text" class="list-anchor">#</a>
  
  Текст для поиска элемента.
- `exact` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-title-option-exact"/><a href="#locator-get-by-title-option-exact" class="list-anchor">#</a>
  
  Искать точное совпадение: с учетом регистра и всей строки. По умолчанию false. Игнорируется при поиске по регулярному выражению. Обратите внимание, что точное совпадение все равно обрезает пробелы.

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-get-by-title-return"/><a href="#locator-get-by-title-return" class="list-anchor">#</a>

---

### highlight {#locator-highlight}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.20</font><x-search>locator.highlight</x-search>

Подсвечивает соответствующий элемент(ы) на экране. Полезно для отладки, не коммитьте код, использующий [locator.highlight()](/api/class-locator.mdx#locator-highlight).

**Использование**

```python
locator.highlight()
```

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-highlight-return"/><a href="#locator-highlight-return" class="list-anchor">#</a>

---

### hover {#locator-hover}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.hover</x-search>

Наведение курсора на соответствующий элемент.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_role("link").hover()
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_role("link").hover()
```

</TabItem>
</Tabs>

**Аргументы**
- `force` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-hover-option-force"/><a href="#locator-hover-option-force" class="list-anchor">#</a>
  
  Пропустить проверки [actionability](../actionability.mdx). По умолчанию `false`.
- `modifiers` [List]\["Alt" | "Control" | "ControlOrMeta" | "Meta" | "Shift"\] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-hover-option-modifiers"/><a href="#locator-hover-option-modifiers" class="list-anchor">#</a>
  
  Модификаторные клавиши для нажатия. Обеспечивает, что только эти модификаторы будут нажаты во время операции, а затем восстанавливает текущие модификаторы. Если не указано, используются текущие нажатые модификаторы. "ControlOrMeta" разрешается в "Control" на Windows и Linux и в "Meta" на macOS.
- `no_wait_after` [bool] *(optional)* <font size="2">Добавлено в: v1.28</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-hover-option-no-wait-after"/><a href="#locator-hover-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Этот параметр не имеет эффекта.
  :::
  
  
  Этот параметр не имеет эффекта.
- `position` [Dict] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-hover-option-position"/><a href="#locator-hover-option-position" class="list-anchor">#</a>
  - `x` [float]
    
    
  - `y` [float]
    
    
  Точка для использования относительно верхнего левого угла элемента. Если не указано, используется видимая точка элемента.
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-hover-option-timeout"/><a href="#locator-hover-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).
- `trial` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-hover-option-trial"/><a href="#locator-hover-option-trial" class="list-anchor">#</a>
  
  Если установлено, этот метод выполняет только проверки [actionability](../actionability.mdx) и пропускает действие. По умолчанию `false`. Полезно для ожидания, пока элемент будет готов к действию без его выполнения. Обратите внимание, что клавиатурные `modifiers` будут нажаты независимо от `trial`, чтобы позволить тестировать элементы, которые видны только при нажатии этих клавиш.

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-hover-return"/><a href="#locator-hover-return" class="list-anchor">#</a>

**Детали**

Этот метод наводит курсор на элемент, выполняя следующие шаги:
1. Ожидание проверок [actionability](../actionability.mdx) на элементе, если не установлен параметр [force](/api/class-locator.mdx#locator-hover-option-force).
1. Прокрутка элемента в вид, если это необходимо.
1. Использование [page.mouse](/api/class-page.mdx#page-mouse) для наведения курсора на центр элемента или указанную [position](/api/class-locator.mdx#locator-hover-option-position).

Если элемент отсоединен от DOM в любой момент во время действия, этот метод выбрасывает исключение.

Когда все шаги в совокупности не завершены в течение указанного [timeout](/api/class-locator.mdx#locator-hover-option-timeout), этот метод выбрасывает [TimeoutError]. Передача нулевого тайм-аута отключает это.

---

### inner_html {#locator-inner-html}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.inner_html</x-search>

Возвращает [`element.innerHTML`](https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML).

**Использование**

```python
locator.inner_html()
locator.inner_html(**kwargs)
```

**Аргументы**
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-inner-html-option-timeout"/><a href="#locator-inner-html-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-inner-html-return"/><a href="#locator-inner-html-return" class="list-anchor">#</a>

---

### inner_text {#locator-inner-text}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.inner_text</x-search>

Возвращает [`element.innerText`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/innerText).

:::warning[Asserting text]

Если вам нужно проверить текст на странице, предпочтите [expect(locator).to_have_text()](/api/class-locatorassertions.mdx#locator-assertions-to-have-text) с опцией [use_inner_text](/api/class-locatorassertions.mdx#locator-assertions-to-have-text-option-use-inner-text), чтобы избежать нестабильности. Подробнее см. в [руководстве по утверждениям](../test-assertions.mdx).
:::

**Использование**

```python
locator.inner_text()
locator.inner_text(**kwargs)
```

**Аргументы**
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-inner-text-option-timeout"/><a href="#locator-inner-text-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-inner-text-return"/><a href="#locator-inner-text-return" class="list-anchor">#</a>

---

### input_value {#locator-input-value}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.input_value</x-search>

Возвращает значение для соответствующего элемента `<input>`, `<textarea>` или `<select>`.

:::warning[Asserting value]

Если вам нужно проверить значение ввода, предпочтите [expect(locator).to_have_value()](/api/class-locatorassertions.mdx#locator-assertions-to-have-value), чтобы избежать нестабильности. Подробнее см. в [руководстве по утверждениям](../test-assertions.mdx).
:::

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
value = page.get_by_role("textbox").input_value()
```

</TabItem>
<TabItem value="async">

```py
value = await page.get_by_role("textbox").input_value()
```

</TabItem>
</Tabs>

**Аргументы**
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-input-value-option-timeout"/><a href="#locator-input-value-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-input-value-return"/><a href="#locator-input-value-return" class="list-anchor">#</a>

**Детали**

Вызывает ошибку для элементов, которые не являются input, textarea или select. Однако, если элемент находится внутри элемента `<label>`, который имеет связанный [control](https://developer.mozilla.org/en-US/docs/Web/API/HTMLLabelElement/control), возвращает значение этого элемента управления.

---

### is_checked {#locator-is-checked}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.is_checked</x-search>

Возвращает, отмечен ли элемент. Вызывает ошибку, если элемент не является флажком или радиокнопкой.

:::warning[Asserting checked state]

Если вам нужно проверить, что флажок установлен, предпочтите [expect(locator).to_be_checked()](/api/class-locatorassertions.mdx#locator-assertions-to-be-checked), чтобы избежать нестабильности. Подробнее см. в [руководстве по утверждениям](../test-assertions.mdx).
:::

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
checked = page.get_by_role("checkbox").is_checked()
```

</TabItem>
<TabItem value="async">

```py
checked = await page.get_by_role("checkbox").is_checked()
```

</TabItem>
</Tabs>

**Аргументы**
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-is-checked-option-timeout"/><a href="#locator-is-checked-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [bool]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-is-checked-return"/><a href="#locator-is-checked-return" class="list-anchor">#</a>

---

### is_disabled {#locator-is-disabled}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.is_disabled</x-search>

Возвращает, отключен ли элемент, противоположность [enabled](../actionability.mdx#enabled).

:::warning[Asserting disabled state]

Если вам нужно проверить, что элемент отключен, предпочтите [expect(locator).to_be_disabled()](/api/class-locatorassertions.mdx#locator-assertions-to-be-disabled), чтобы избежать нестабильности. Подробнее см. в [руководстве по утверждениям](../test-assertions.mdx).
:::

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
disabled = page.get_by_role("button").is_disabled()
```

</TabItem>
<TabItem value="async">

```py
disabled = await page.get_by_role("button").is_disabled()
```

</TabItem>
</Tabs>

**Аргументы**
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-is-disabled-option-timeout"/><a href="#locator-is-disabled-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [bool]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-is-disabled-return"/><a href="#locator-is-disabled-return" class="list-anchor">#</a>

---

### is_editable {#locator-is-editable}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.is_editable</x-search>

Возвращает, является ли элемент [editable](../actionability.mdx#editable). Если целевой элемент не является `<input>`, `<textarea>`, `<select>`, `[contenteditable]` и не имеет роли, допускающей `[aria-readonly]`, этот метод вызывает ошибку.

:::warning[Asserting editable state]

Если вам нужно проверить, что элемент редактируемый, предпочтите [expect(locator).to_be_editable()](/api/class-locatorassertions.mdx#locator-assertions-to-be-editable), чтобы избежать нестабильности. Подробнее см. в [руководстве по утверждениям](../test-assertions.mdx).
:::

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
editable = page.get_by_role("textbox").is_editable()
```

</TabItem>
<TabItem value="async">

```py
editable = await page.get_by_role("textbox").is_editable()
```

</TabItem>
</Tabs>

**Аргументы**
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-is-editable-option-timeout"/><a href="#locator-is-editable-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [bool]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-is-editable-return"/><a href="#locator-is-editable-return" class="list-anchor">#</a>

---

### is_enabled {#locator-is-enabled}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.is_enabled</x-search>

Возвращает, включен ли элемент [enabled](../actionability.mdx#enabled).

:::warning[Asserting enabled state]

Если вам нужно проверить, что элемент включен, предпочтите [expect(locator).to_be_enabled()](/api/class-locatorassertions.mdx#locator-assertions-to-be-enabled), чтобы избежать нестабильности. Подробнее см. в [руководстве по утверждениям](../test-assertions.mdx).
:::

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
enabled = page.get_by_role("button").is_enabled()
```

</TabItem>
<TabItem value="async">

```py
enabled = await page.get_by_role("button").is_enabled()
```

</TabItem>
</Tabs>

**Аргументы**
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-is-enabled-option-timeout"/><a href="#locator-is-enabled-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [bool]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-is-enabled-return"/><a href="#locator-is-enabled-return" class="list-anchor">#</a>

---

### is_hidden {#locator-is-hidden}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.is_hidden</x-search>

Возвращает, скрыт ли элемент, противоположность [visible](../actionability.mdx#visible).

:::warning[Проверка видимости]

Если вам нужно проверить, что элемент скрыт, предпочтите [expect(locator).to_be_hidden()](/api/class-locatorassertions.mdx#locator-assertions-to-be-hidden), чтобы избежать нестабильности. Подробнее см. в [руководстве по утверждениям](../test-assertions.mdx).
:::

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]}
>
<TabItem value="sync">

```py
hidden = page.get_by_role("button").is_hidden()
```

</TabItem>
<TabItem value="async">

```py
hidden = await page.get_by_role("button").is_hidden()
```

</TabItem>
</Tabs>

**Аргументы**
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-is-hidden-option-timeout"/><a href="#locator-is-hidden-option-timeout" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Этот параметр игнорируется. [locator.is_hidden()](/api/class-locator.mdx#locator-is-hidden) не ждет, пока элемент станет скрытым, и возвращает результат немедленно.
  :::
  

**Возвращает**
- [bool]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-is-hidden-return"/><a href="#locator-is-hidden-return" class="list-anchor">#</a>

---

### is_visible {#locator-is-visible}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.is_visible</x-search>

Возвращает, виден ли элемент ([visible](../actionability.mdx#visible)).

:::warning[Проверка видимости]

Если вам нужно проверить, что элемент виден, предпочтите [expect(locator).to_be_visible()](/api/class-locatorassertions.mdx#locator-assertions-to-be-visible), чтобы избежать нестабильности. Подробнее см. в [руководстве по утверждениям](../test-assertions.mdx).
:::

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]}
>
<TabItem value="sync">

```py
visible = page.get_by_role("button").is_visible()
```

</TabItem>
<TabItem value="async">

```py
visible = await page.get_by_role("button").is_visible()
```

</TabItem>
</Tabs>

**Аргументы**
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-is-visible-option-timeout"/><a href="#locator-is-visible-option-timeout" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Этот параметр игнорируется. [locator.is_visible()](/api/class-locator.mdx#locator-is-visible) не ждет, пока элемент станет видимым, и возвращает результат немедленно.
  :::
  

**Возвращает**
- [bool]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-is-visible-return"/><a href="#locator-is-visible-return" class="list-anchor">#</a>

---

### locator {#locator-locator}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.locator</x-search>

Метод находит элемент, соответствующий указанному селектору в поддереве локатора. Он также принимает параметры фильтрации, аналогичные методу [locator.filter()](/api/class-locator.mdx#locator-filter).

[Узнать больше о локаторах](../locators.mdx).

**Использование**

```python
locator.locator(selector_or_locator)
locator.locator(selector_or_locator, **kwargs)
```

**Аргументы**
- `selector_or_locator` [str] | [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-locator-option-selector-or-locator"/><a href="#locator-locator-option-selector-or-locator" class="list-anchor">#</a>
  
  Селектор или локатор для использования при разрешении DOM-элемента.
- `has` [Locator] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-locator-option-has"/><a href="#locator-locator-option-has" class="list-anchor">#</a>
  
  Сужает результаты метода до тех, которые содержат элементы, соответствующие этому относительному локатору. Например, `article`, который имеет `text=Playwright`, соответствует `<article><div>Playwright</div></article>`.
  
  Внутренний локатор **должен быть относительным** к внешнему локатору и запрашивается, начиная с совпадения внешнего локатора, а не с корня документа. Например, вы можете найти `content`, который имеет `div` в `<article><content><div>Playwright</div></content></article>`. Однако поиск `content`, который имеет `article div`, не удастся, потому что внутренний локатор должен быть относительным и не должен использовать элементы за пределами `content`.
  
  Обратите внимание, что внешние и внутренние локаторы должны принадлежать к одному и тому же фрейму. Внутренний локатор не должен содержать [FrameLocator]s.
- `has_not` [Locator] *(опционально)* <font size="2">Добавлено в: v1.33</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-locator-option-has-not"/><a href="#locator-locator-option-has-not" class="list-anchor">#</a>
  
  Соответствует элементам, которые не содержат элемент, соответствующий внутреннему локатору. Внутренний локатор запрашивается относительно внешнего. Например, `article`, который не имеет `div`, соответствует `<article><span>Playwright</span></article>`.
  
  Обратите внимание, что внешние и внутренние локаторы должны принадлежать к одному и тому же фрейму. Внутренний локатор не должен содержать [FrameLocator]s.
- `has_not_text` [str] | [Pattern] *(опционально)* <font size="2">Добавлено в: v1.33</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-locator-option-has-not-text"/><a href="#locator-locator-option-has-not-text" class="list-anchor">#</a>
  
  Соответствует элементам, которые не содержат указанный текст где-либо внутри, возможно, в дочернем или потомственном элементе. При передаче [строки] сопоставление нечувствительно к регистру и ищет подстроку.
- `has_text` [str] | [Pattern] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-locator-option-has-text"/><a href="#locator-locator-option-has-text" class="list-anchor">#</a>
  
  Соответствует элементам, содержащим указанный текст где-либо внутри, возможно, в дочернем или потомственном элементе. При передаче [строки] сопоставление нечувствительно к регистру и ищет подстроку. Например, `"Playwright"` соответствует `<article><div>Playwright</div></article>`.

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-locator-return"/><a href="#locator-locator-return" class="list-anchor">#</a>

---

### nth {#locator-nth}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.nth</x-search>

Возвращает локатор для n-го совпадающего элемента. Индексация начинается с нуля, `nth(0)` выбирает первый элемент.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]}
>
<TabItem value="sync">

```py
banana = page.get_by_role("listitem").nth(2)
```

</TabItem>
<TabItem value="async">

```py
banana = await page.get_by_role("listitem").nth(2)
```

</TabItem>
</Tabs>

**Аргументы**
- `index` [int]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-nth-option-index"/><a href="#locator-nth-option-index" class="list-anchor">#</a>

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-nth-return"/><a href="#locator-nth-return" class="list-anchor">#</a>

---

### or_ {#locator-or}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.33</font><x-search>locator.or_</x-search>

Создает локатор, соответствующий всем элементам, которые соответствуют одному или обоим из двух локаторов.

Обратите внимание, что когда оба локатора что-то совпадают, результирующий локатор будет иметь несколько совпадений, что может вызвать нарушение [строгости локатора](../locators.mdx#strictness).

**Использование**

Рассмотрим сценарий, когда вы хотите нажать кнопку "New email", но вместо этого иногда появляется диалоговое окно настроек безопасности. В этом случае вы можете подождать либо кнопку "New email", либо диалог и действовать соответственно.

:::note

Если на экране появляются и кнопка "New email", и диалог безопасности, локатор "or" будет соответствовать обоим из них, возможно, вызывая [ошибку нарушения строгого режима](../locators.mdx#strictness). В этом случае вы можете использовать [locator.first](/api/class-locator.mdx#locator-first), чтобы соответствовать только одному из них.
:::

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]}
>
<TabItem value="sync">

```py
new_email = page.get_by_role("button", name="New")
dialog = page.get_by_text("Confirm security settings")
expect(new_email.or_(dialog).first).to_be_visible()
if (dialog.is_visible()):
  page.get_by_role("button", name="Dismiss").click()
new_email.click()
```

</TabItem>
<TabItem value="async">

```py
new_email = page.get_by_role("button", name="New")
dialog = page.get_by_text("Confirm security settings")
await expect(new_email.or_(dialog).first).to_be_visible()
if (await dialog.is_visible()):
  await page.get_by_role("button", name="Dismiss").click()
await new_email.click()
```

</TabItem>
</Tabs>

**Аргументы**
- `locator` [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-or-option-locator"/><a href="#locator-or-option-locator" class="list-anchor">#</a>
  
  Альтернативный локатор для соответствия.

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-or-return"/><a href="#locator-or-return" class="list-anchor">#</a>

---

### press {#locator-press}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.press</x-search>

Фокусируется на совпадающем элементе и нажимает комбинацию клавиш.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]}
>
<TabItem value="sync">

```py
page.get_by_role("textbox").press("Backspace")
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_role("textbox").press("Backspace")
```

</TabItem>
</Tabs>

**Аргументы**
- `key` [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-press-option-key"/><a href="#locator-press-option-key" class="list-anchor">#</a>
  
  Имя клавиши для нажатия или символ для генерации, например, `ArrowLeft` или `a`.
- `delay` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-press-option-delay"/><a href="#locator-press-option-delay" class="list-anchor">#</a>
  
  Время ожидания между `keydown` и `keyup` в миллисекундах. По умолчанию 0.
- `no_wait_after` [bool] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-press-option-no-wait-after"/><a href="#locator-press-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Этот параметр по умолчанию будет `true` в будущем.
  :::
  
  
  Действия, инициирующие навигации, ожидают, пока эти навигации произойдут и страницы начнут загружаться. Вы можете отказаться от ожидания, установив этот флаг. Вам понадобится этот параметр только в исключительных случаях, таких как навигация на недоступные страницы. По умолчанию `false`.
- `timeout` [float] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-press-option-timeout"/><a href="#locator-press-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Установите `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-press-return"/><a href="#locator-press-return" class="list-anchor">#</a>

**Детали**

Фокусируется на элементе, а затем использует [keyboard.down()](/api/class-keyboard.mdx#keyboard-down) и [keyboard.up()](/api/class-keyboard.mdx#keyboard-up).

[key](/api/class-locator.mdx#locator-press-option-key) может указывать предполагаемое значение [keyboardEvent.key](https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key) или один символ для генерации текста. Надмножество значений [key](/api/class-locator.mdx#locator-press-option-key) можно найти [здесь](https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values). Примеры клавиш:

`F1` - `F12`, `Digit0`- `Digit9`, `KeyA`- `KeyZ`, `Backquote`, `Minus`, `Equal`, `Backslash`, `Backspace`, `Tab`, `Delete`, `Escape`, `ArrowDown`, `End`, `Enter`, `Home`, `Insert`, `PageDown`, `PageUp`, `ArrowRight`, `ArrowUp` и т.д.

Также поддерживаются следующие модификационные сочетания: `Shift`, `Control`, `Alt`, `Meta`, `ShiftLeft`, `ControlOrMeta`. `ControlOrMeta` разрешается в `Control` на Windows и Linux и в `Meta` на macOS.

Удержание `Shift` будет вводить текст, соответствующий [key](/api/class-locator.mdx#locator-press-option-key) в верхнем регистре.

Если [key](/api/class-locator.mdx#locator-press-option-key) является одним символом, он чувствителен к регистру, поэтому значения `a` и `A` будут генерировать разные соответствующие тексты.

Также поддерживаются сочетания клавиш, такие как `key: "Control+o"`, `key: "Control++` или `key: "Control+Shift+T"`. При указании с модификатором модификатор нажимается и удерживается, пока не будет нажата последующая клавиша.

---

### press_sequentially {#locator-press-sequentially}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.38</font><x-search>locator.press_sequentially</x-search>

:::tip

В большинстве случаев следует использовать [locator.fill()](/api/class-locator.mdx#locator-fill). Необходимо нажимать клавиши поочередно, только если на странице есть специальная обработка клавиатуры.
:::

Фокусируется на элементе, а затем отправляет событие `keydown`, `keypress`/`input` и `keyup` для каждого символа в тексте.

Чтобы нажать специальную клавишу, такую как `Control` или `ArrowDown`, используйте [locator.press()](/api/class-locator.mdx#locator-press).

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
locator.press_sequentially("hello") # печатает мгновенно
locator.press_sequentially("world", delay=100) # печатает медленнее, как пользователь
```

</TabItem>
<TabItem value="async">

```py
await locator.press_sequentially("hello") # печатает мгновенно
await locator.press_sequentially("world", delay=100) # печатает медленнее, как пользователь
```

</TabItem>
</Tabs>

Пример ввода в текстовое поле и последующей отправки формы:

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
locator = page.get_by_label("Password")
locator.press_sequentially("my password")
locator.press("Enter")
```

</TabItem>
<TabItem value="async">

```py
locator = page.get_by_label("Password")
await locator.press_sequentially("my password")
await locator.press("Enter")
```

</TabItem>
</Tabs>

**Аргументы**
- `text` [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-press-sequentially-option-text"/><a href="#locator-press-sequentially-option-text" class="list-anchor">#</a>
  
  Строка символов для поочередного нажатия в сфокусированном элементе.
- `delay` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-press-sequentially-option-delay"/><a href="#locator-press-sequentially-option-delay" class="list-anchor">#</a>
  
  Время ожидания между нажатиями клавиш в миллисекундах. По умолчанию 0.
- `no_wait_after` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-press-sequentially-option-no-wait-after"/><a href="#locator-press-sequentially-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Этот параметр не имеет эффекта.
  :::
  
  Этот параметр не имеет эффекта.
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-press-sequentially-option-timeout"/><a href="#locator-press-sequentially-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Установите `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-press-sequentially-return"/><a href="#locator-press-sequentially-return" class="list-anchor">#</a>

---

### screenshot {#locator-screenshot}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.screenshot</x-search>

Сделать скриншот элемента, соответствующего локатору.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_role("link").screenshot()
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_role("link").screenshot()
```

</TabItem>
</Tabs>

Отключить анимации и сохранить скриншот в файл:

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_role("link").screenshot(animations="disabled", path="link.png")
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_role("link").screenshot(animations="disabled", path="link.png")
```

</TabItem>
</Tabs>

**Аргументы**
- `animations` "disabled" | "allow" *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-screenshot-option-animations"/><a href="#locator-screenshot-option-animations" class="list-anchor">#</a>
  
  При установке в `"disabled"`, останавливает CSS-анимации, CSS-переходы и веб-анимации. Анимации получают разное обращение в зависимости от их продолжительности:
  * конечные анимации быстро перематываются до завершения, чтобы они вызвали событие `transitionend`.
  * бесконечные анимации отменяются до начального состояния, а затем воспроизводятся после скриншота.
  
  По умолчанию `"allow"`, что оставляет анимации нетронутыми.
- `caret` "hide" | "initial" *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-screenshot-option-caret"/><a href="#locator-screenshot-option-caret" class="list-anchor">#</a>
  
  При установке в `"hide"`, скриншот скроет текстовый курсор. При установке в `"initial"`, поведение текстового курсора не изменится. По умолчанию `"hide"`.
- `mask` [List]\[[Locator]\] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-screenshot-option-mask"/><a href="#locator-screenshot-option-mask" class="list-anchor">#</a>
  
  Укажите локаторы, которые должны быть замаскированы при создании скриншота. Замаскированные элементы будут покрыты розовым прямоугольником `#FF00FF` (настраивается с помощью [mask_color](/api/class-locator.mdx#locator-screenshot-option-mask-color)), который полностью покрывает их ограничивающий прямоугольник. Маска также применяется к невидимым элементам, см. [Matching only visible elements](../locators.mdx#matching-only-visible-elements) для отключения этого.
- `mask_color` [str] *(optional)* <font size="2">Добавлено в: v1.35</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-screenshot-option-mask-color"/><a href="#locator-screenshot-option-mask-color" class="list-anchor">#</a>
  
  Укажите цвет наложения для замаскированных элементов в [CSS color format](https://developer.mozilla.org/en-US/docs/Web/CSS/color_value). Цвет по умолчанию розовый `#FF00FF`.
- `omit_background` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-screenshot-option-omit-background"/><a href="#locator-screenshot-option-omit-background" class="list-anchor">#</a>
  
  Скрывает белый фон по умолчанию и позволяет делать скриншоты с прозрачностью. Не применимо к изображениям `jpeg`. По умолчанию `false`.
- `path` [Union]\[[str], [pathlib.Path]\] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-screenshot-option-path"/><a href="#locator-screenshot-option-path" class="list-anchor">#</a>
  
  Путь к файлу для сохранения изображения. Тип скриншота будет определен по расширению файла. Если [path](/api/class-locator.mdx#locator-screenshot-option-path) является относительным путем, то он разрешается относительно текущей рабочей директории. Если путь не указан, изображение не будет сохранено на диск.
- `quality` [int] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-screenshot-option-quality"/><a href="#locator-screenshot-option-quality" class="list-anchor">#</a>
  
  Качество изображения, от 0 до 100. Не применимо к изображениям `png`.
- `scale` "css" | "device" *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-screenshot-option-scale"/><a href="#locator-screenshot-option-scale" class="list-anchor">#</a>
  
  При установке в `"css"`, скриншот будет иметь один пиксель на каждый css пиксель на странице. Для устройств с высоким разрешением это позволит уменьшить размер скриншотов. Использование опции `"device"` создаст один пиксель на каждый пиксель устройства, так что скриншоты устройств с высоким разрешением будут в два раза больше или даже больше.
  
  По умолчанию `"device"`.
- `style` [str] *(optional)* <font size="2">Добавлено в: v1.41</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-screenshot-option-style"/><a href="#locator-screenshot-option-style" class="list-anchor">#</a>
  
  Текст таблицы стилей для применения при создании скриншота. Здесь вы можете скрыть динамические элементы, сделать элементы невидимыми или изменить их свойства, чтобы помочь вам создавать повторяемые скриншоты. Эта таблица стилей проникает в Shadow DOM и применяется к внутренним фреймам.
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-screenshot-option-timeout"/><a href="#locator-screenshot-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Установите `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).
- `type` "png" | "jpeg" *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-screenshot-option-type"/><a href="#locator-screenshot-option-type" class="list-anchor">#</a>
  
  Укажите тип скриншота, по умолчанию `png`.

**Возвращает**
- [bytes]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-screenshot-return"/><a href="#locator-screenshot-return" class="list-anchor">#</a>

**Детали**

Этот метод делает скриншот страницы, обрезанный до размера и положения конкретного элемента, соответствующего локатору. Если элемент закрыт другими элементами, он не будет фактически виден на скриншоте. Если элемент является прокручиваемым контейнером, на скриншоте будет виден только текущий прокручиваемый контент.

Этот метод ожидает проверки [actionability](../actionability.mdx), затем прокручивает элемент в вид перед созданием скриншота. Если элемент отсоединен от DOM, метод выдает ошибку.

Возвращает буфер с захваченным скриншотом.

---

### scroll_into_view_if_needed {#locator-scroll-into-view-if-needed}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.scroll_into_view_if_needed</x-search>

Этот метод ожидает проверки [actionability](../actionability.mdx), затем пытается прокрутить элемент в вид, если он не полностью виден, как определено `ratio` [IntersectionObserver](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API).

См. [scrolling](../input.mdx#scrolling) для альтернативных способов прокрутки.

**Использование**

```python
locator.scroll_into_view_if_needed()
locator.scroll_into_view_if_needed(**kwargs)
```

**Аргументы**
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-scroll-into-view-if-needed-option-timeout"/><a href="#locator-scroll-into-view-if-needed-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Установите `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout) methods.

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-scroll-into-view-if-needed-return"/><a href="#locator-scroll-into-view-if-needed-return" class="list-anchor">#</a>

---

### select_option {#locator-select-option}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.select_option</x-search>

Выбирает опцию или опции в `<select>`.

**Использование**

```html
<select multiple>
  <option value="red">Red</option>
  <option value="green">Green</option>
  <option value="blue">Blue</option>
</select>
```

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
# одиночный выбор, соответствующий значению или метке
element.select_option("blue")
# одиночный выбор, соответствующий метке
element.select_option(label="blue")
# множественный выбор для blue, red и второй опции
element.select_option(value=["red", "green", "blue"])
```

</TabItem>
<TabItem value="async">

```py
# одиночный выбор, соответствующий значению или метке
await element.select_option("blue")
# одиночный выбор, соответствующий метке
await element.select_option(label="blue")
# множественный выбор для blue, red и второй опции
await element.select_option(value=["red", "green", "blue"])
```

</TabItem>
</Tabs>

**Аргументы**
- `force` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-select-option-option-force"/><a href="#locator-select-option-option-force" class="list-anchor">#</a>
  
  Следует ли обходить проверки [actionability](../actionability.mdx). По умолчанию `false`.
- `no_wait_after` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-select-option-option-no-wait-after"/><a href="#locator-select-option-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Этот параметр не имеет эффекта.
  :::
  
  Этот параметр не имеет эффекта.
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-select-option-option-timeout"/><a href="#locator-select-option-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Установите `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout) methods.
- `element` [ElementHandle] | [List]\[[ElementHandle]\] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-select-option-option-element"/><a href="#locator-select-option-option-element" class="list-anchor">#</a>
  
  Элементы опций для выбора. Необязательно.
- `index` [int] | [List]\[[int]\] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-select-option-option-index"/><a href="#locator-select-option-option-index" class="list-anchor">#</a>
  
  Опции для выбора по индексу. Необязательно.
- `value` [str] | [List]\[[str]\] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-select-option-option-value"/><a href="#locator-select-option-option-value" class="list-anchor">#</a>
  
  Опции для выбора по значению. Если `<select>` имеет атрибут `multiple`, все указанные опции будут выбраны, в противном случае будет выбрана только первая опция, соответствующая одной из переданных опций. Необязательно.
- `label` [str] | [List]\[[str]\] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-select-option-option-label"/><a href="#locator-select-option-option-label" class="list-anchor">#</a>
  
  Опции для выбора по метке. Если `<select>` имеет атрибут `multiple`, все указанные опции будут выбраны, в противном случае будет выбрана только первая опция, соответствующая одной из переданных опций. Необязательно.

**Возвращает**
- [List]\[[str]\]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-select-option-return"/><a href="#locator-select-option-return" class="list-anchor">#</a>

**Детали**

Этот метод ожидает проверки [actionability](../actionability.mdx), ждет, пока все указанные опции не появятся в элементе `<select>`, и выбирает эти опции.

Если целевой элемент не является элементом `<select>`, этот метод выдает ошибку. Однако, если элемент находится внутри элемента `<label>`, который имеет ассоциированный [control](https://developer.mozilla.org/en-US/docs/Web/API/HTMLLabelElement/control), будет использован этот контрол.

Возвращает массив значений опций, которые были успешно выбраны.

Вызывает событие `change` и `input` после того, как все предоставленные опции были выбраны.

---

### select_text {#locator-select-text}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.select_text</x-search>

Этот метод ожидает проверки [actionability](../actionability.mdx), затем фокусируется на элементе и выделяет весь его текст.

Если элемент находится внутри элемента `<label>`, который имеет связанный [control](https://developer.mozilla.org/en-US/docs/Web/API/HTMLLabelElement/control), фокусируется и выделяет текст в контроле вместо этого.

**Использование**

```python
locator.select_text()
locator.select_text(**kwargs)
```

**Аргументы**
- `force` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-select-text-option-force"/><a href="#locator-select-text-option-force" class="list-anchor">#</a>
  
  Нужно ли обходить проверки [actionability](../actionability.mdx). По умолчанию `false`.
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-select-text-option-timeout"/><a href="#locator-select-text-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-select-text-return"/><a href="#locator-select-text-return" class="list-anchor">#</a>

---

### set_checked {#locator-set-checked}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.15</font><x-search>locator.set_checked</x-search>

Установите состояние флажка или элемента радио.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_role("checkbox").set_checked(True)
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_role("checkbox").set_checked(True)
```

</TabItem>
</Tabs>

**Аргументы**
- `checked` [bool]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-set-checked-option-checked"/><a href="#locator-set-checked-option-checked" class="list-anchor">#</a>
  
  Нужно ли установить или снять флажок.
- `force` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-set-checked-option-force"/><a href="#locator-set-checked-option-force" class="list-anchor">#</a>
  
  Нужно ли обходить проверки [actionability](../actionability.mdx). По умолчанию `false`.
- `no_wait_after` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-set-checked-option-no-wait-after"/><a href="#locator-set-checked-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Deprecated]
  Этот параметр не имеет эффекта.
  :::
  
  Этот параметр не имеет эффекта.
- `position` [Dict] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-set-checked-option-position"/><a href="#locator-set-checked-option-position" class="list-anchor">#</a>
  - `x` [float]
    
    
  - `y` [float]
    
    
  Точка, используемая относительно верхнего левого угла элемента. Если не указано, используется видимая точка элемента.
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-set-checked-option-timeout"/><a href="#locator-set-checked-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).
- `trial` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-set-checked-option-trial"/><a href="#locator-set-checked-option-trial" class="list-anchor">#</a>
  
  Если установлено, этот метод только выполняет проверки [actionability](../actionability.mdx) и пропускает действие. По умолчанию `false`. Полезно для ожидания, пока элемент будет готов к действию без его выполнения.

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-set-checked-return"/><a href="#locator-set-checked-return" class="list-anchor">#</a>

**Детали**

Этот метод устанавливает или снимает флажок с элемента, выполняя следующие шаги:
1. Убедитесь, что найденный элемент является флажком или радио-кнопкой. Если нет, этот метод вызывает ошибку.
1. Если элемент уже имеет правильное состояние, этот метод возвращается немедленно.
1. Ожидайте проверки [actionability](../actionability.mdx) на найденном элементе, если не установлен параметр [force](/api/class-locator.mdx#locator-set-checked-option-force). Если элемент отсоединяется во время проверок, все действие повторяется.
1. Прокрутите элемент в вид, если это необходимо.
1. Используйте [page.mouse](/api/class-page.mdx#page-mouse) для нажатия в центре элемента.
1. Убедитесь, что элемент теперь установлен или снят. Если нет, этот метод вызывает ошибку.

Если все шаги вместе не завершились в течение указанного [timeout](/api/class-locator.mdx#locator-set-checked-option-timeout), этот метод вызывает [TimeoutError]. Передача нулевого тайм-аута отключает это.

---

### set_input_files {#locator-set-input-files}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.set_input_files</x-search>

Загрузите файл или несколько файлов в `<input type=file>`. Для входов с атрибутом `[webkitdirectory]` поддерживается только один путь к каталогу.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
# Выберите один файл
page.get_by_label("Upload file").set_input_files('myfile.pdf')

# Выберите несколько файлов
page.get_by_label("Upload files").set_input_files(['file1.txt', 'file2.txt'])

# Выберите каталог
page.get_by_label("Upload directory").set_input_files('mydir')

# Удалите все выбранные файлы
page.get_by_label("Upload file").set_input_files([])

# Загрузите буфер из памяти
page.get_by_label("Upload file").set_input_files(
    files=[
        {"name": "test.txt", "mimeType": "text/plain", "buffer": b"this is a test"}
    ],
)
```

</TabItem>
<TabItem value="async">

```py
# Выберите один файл
await page.get_by_label("Upload file").set_input_files('myfile.pdf')

# Выберите несколько файлов
await page.get_by_label("Upload files").set_input_files(['file1.txt', 'file2.txt'])

# Выберите каталог
await page.get_by_label("Upload directory").set_input_files('mydir')

# Удалите все выбранные файлы
await page.get_by_label("Upload file").set_input_files([])

# Загрузите буфер из памяти
await page.get_by_label("Upload file").set_input_files(
    files=[
        {"name": "test.txt", "mimeType": "text/plain", "buffer": b"this is a test"}
    ],
)
```

</TabItem>
</Tabs>

**Аргументы**
- `files` [Union]\[[str], [pathlib.Path]\] | [List]\[[Union]\[[str], [pathlib.Path]\]\] | [Dict] | [List]\[[Dict]\]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-set-input-files-option-files"/><a href="#locator-set-input-files-option-files" class="list-anchor">#</a>
  - `name` [str]
    
    Имя файла
  - `mimeType` [str]
    
    Тип файла
  - `buffer` [bytes]
    
    Содержимое файла
- `no_wait_after` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-set-input-files-option-no-wait-after"/><a href="#locator-set-input-files-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Deprecated]
  Этот параметр не имеет эффекта.
  :::
  
  Этот параметр не имеет эффекта.
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-set-input-files-option-timeout"/><a href="#locator-set-input-files-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout) methods.

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-set-input-files-return"/><a href="#locator-set-input-files-return" class="list-anchor">#</a>

**Детали**

Устанавливает значение входа файла на эти пути к файлам или файлы. Если некоторые из `filePaths` являются относительными путями, они разрешаются относительно текущего рабочего каталога. Для пустого массива очищает выбранные файлы.

Этот метод ожидает, что [Locator] указывает на [input element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input). Однако, если элемент находится внутри элемента `<label>`, который имеет связанный [control](https://developer.mozilla.org/en-US/docs/Web/API/HTMLLabelElement/control), он нацелен на контроль вместо этого.

---

### tap {#locator-tap}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.tap</x-search>

Выполните жест нажатия на элемент, соответствующий локатору. Для примеров эмуляции других жестов путем ручной отправки событий касания, см. страницу [эмуляция устаревших событий касания](../touch-events.mdx).

**Использование**

```python
locator.tap()
locator.tap(**kwargs)
```

**Аргументы**
- `force` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-tap-option-force"/><a href="#locator-tap-option-force" class="list-anchor">#</a>
  
  Нужно ли обходить проверки [actionability](../actionability.mdx). По умолчанию `false`.
- `modifiers` [List]\["Alt" | "Control" | "ControlOrMeta" | "Meta" | "Shift"\] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-tap-option-modifiers"/><a href="#locator-tap-option-modifiers" class="list-anchor">#</a>
  
  Модификаторы клавиш для нажатия. Гарантирует, что только эти модификаторы нажаты во время операции, а затем восстанавливает текущие модификаторы. Если не указано, используются текущие нажатые модификаторы. "ControlOrMeta" разрешается как "Control" на Windows и Linux и как "Meta" на macOS.
- `no_wait_after` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-tap-option-no-wait-after"/><a href="#locator-tap-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Deprecated]
  Этот параметр не имеет эффекта.
  :::
  
  Этот параметр не имеет эффекта.
- `position` [Dict] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-tap-option-position"/><a href="#locator-tap-option-position" class="list-anchor">#</a>
  - `x` [float]
    
    
  - `y` [float]
    
    
  Точка, используемая относительно верхнего левого угла элемента. Если не указано, используется видимая точка элемента.
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-tap-option-timeout"/><a href="#locator-tap-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout) methods.
- `trial` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-tap-option-trial"/><a href="#locator-tap-option-trial" class="list-anchor">#</a>
  
  Если установлено, этот метод только выполняет проверки [actionability](../actionability.mdx) и пропускает действие. По умолчанию `false`. Полезно для ожидания, пока элемент будет готов к действию без его выполнения. Обратите внимание, что клавиатурные `modifiers` будут нажаты независимо от `trial`, чтобы позволить тестировать элементы, которые видны только при нажатии этих клавиш.

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-tap-return"/><a href="#locator-tap-return" class="list-anchor">#</a>

**Детали**

Этот метод нажимает на элемент, выполняя следующие шаги:
1. Ожидайте проверки [actionability](../actionability.mdx) на элементе, если не установлен параметр [force](/api/class-locator.mdx#locator-tap-option-force).
1. Прокрутите элемент в вид, если это необходимо.
1. Используйте [page.touchscreen](/api/class-page.mdx#page-touchscreen) для нажатия в центре элемента или указанной [position](/api/class-locator.mdx#locator-tap-option-position).

Если элемент отсоединяется от DOM в любой момент во время действия, этот метод вызывает ошибку.

Если все шаги вместе не завершились в течение указанного [timeout](/api/class-locator.mdx#locator-tap-option-timeout), этот метод вызывает [TimeoutError]. Передача нулевого тайм-аута отключает это.

:::note

`element.tap()` требует, чтобы параметр `hasTouch` контекста браузера был установлен в true.
:::

---

### text_content {#locator-text-content}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.text_content</x-search>

Возвращает [`node.textContent`](https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent).

:::warning[Asserting text]

Если вам нужно проверить текст на странице, предпочтите [expect(locator).to_have_text()](/api/class-locatorassertions.mdx#locator-assertions-to-have-text), чтобы избежать нестабильности. См. [руководство по утверждениям](../test-assertions.mdx) для получения более подробной информации.
:::

**Использование**

```python
locator.text_content()
locator.text_content(**kwargs)
```

**Аргументы**
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-text-content-option-timeout"/><a href="#locator-text-content-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout) methods.

**Возвращает**
- [NoneType] | [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-text-content-return"/><a href="#locator-text-content-return" class="list-anchor">#</a>

---

### uncheck {#locator-uncheck}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.uncheck</x-search>

Убедитесь, что элемент checkbox или radio снят.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
page.get_by_role("checkbox").uncheck()
```

</TabItem>
<TabItem value="async">

```py
await page.get_by_role("checkbox").uncheck()
```

</TabItem>
</Tabs>

**Аргументы**
- `force` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-uncheck-option-force"/><a href="#locator-uncheck-option-force" class="list-anchor">#</a>
  
  Следует ли обходить проверки [actionability](../actionability.mdx). По умолчанию `false`.
- `no_wait_after` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-uncheck-option-no-wait-after"/><a href="#locator-uncheck-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Устарело]
  Этот параметр не имеет эффекта.
  :::
  
  Этот параметр не имеет эффекта.
- `position` [Dict] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-uncheck-option-position"/><a href="#locator-uncheck-option-position" class="list-anchor">#</a>
  - `x` [float]
    
    
  - `y` [float]
    
    
  Точка, используемая относительно верхнего левого угла элемента. Если не указано, используется видимая точка элемента.
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-uncheck-option-timeout"/><a href="#locator-uncheck-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).
- `trial` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-uncheck-option-trial"/><a href="#locator-uncheck-option-trial" class="list-anchor">#</a>
  
  Если установлено, этот метод выполняет только проверки [actionability](../actionability.mdx) и пропускает действие. По умолчанию `false`. Полезно для ожидания, пока элемент будет готов к действию, без его выполнения.

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-uncheck-return"/><a href="#locator-uncheck-return" class="list-anchor">#</a>

**Детали**

Этот метод снимает отметку с элемента, выполняя следующие шаги:
1. Убедитесь, что элемент является checkbox или radio input. Если нет, этот метод выбрасывает исключение. Если элемент уже снят, этот метод возвращается немедленно.
1. Ожидайте проверки [actionability](../actionability.mdx) на элементе, если не установлен параметр [force](/api/class-locator.mdx#locator-uncheck-option-force).
1. Прокрутите элемент в вид, если это необходимо.
1. Используйте [page.mouse](/api/class-page.mdx#page-mouse) для клика в центр элемента.
1. Убедитесь, что элемент теперь снят. Если нет, этот метод выбрасывает исключение.

Если элемент отсоединен от DOM в любой момент во время действия, этот метод выбрасывает исключение.

Когда все шаги в совокупности не завершены в течение указанного [timeout](/api/class-locator.mdx#locator-uncheck-option-timeout), этот метод выбрасывает [TimeoutError]. Передача нулевого тайм-аута отключает это.

---

### wait_for {#locator-wait-for}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.16</font><x-search>locator.wait_for</x-search>

Возвращает, когда элемент, указанный локатором, удовлетворяет параметру [state](/api/class-locator.mdx#locator-wait-for-option-state).

Если целевой элемент уже удовлетворяет условию, метод возвращается немедленно. В противном случае, ожидает до [timeout](/api/class-locator.mdx#locator-wait-for-option-timeout) миллисекунд, пока условие не будет выполнено.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
order_sent = page.locator("#order-sent")
order_sent.wait_for()
```

</TabItem>
<TabItem value="async">

```py
order_sent = page.locator("#order-sent")
await order_sent.wait_for()
```

</TabItem>
</Tabs>

**Аргументы**
- `state` "attached" | "detached" | "visible" | "hidden" *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-wait-for-option-state"/><a href="#locator-wait-for-option-state" class="list-anchor">#</a>
  
  По умолчанию `'visible'`. Может быть:
  * `'attached'` - ожидание, пока элемент будет присутствовать в DOM.
  * `'detached'` - ожидание, пока элемент не будет присутствовать в DOM.
  * `'visible'` - ожидание, пока элемент не будет иметь пустую ограничивающую рамку и `visibility:hidden`. Обратите внимание, что элемент без содержимого или с `display:none` имеет пустую ограничивающую рамку и не считается видимым.
  * `'hidden'` - ожидание, пока элемент не будет отсоединен от DOM, или иметь пустую ограничивающую рамку или `visibility:hidden`. Это противоположно опции `'visible'`.
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-wait-for-option-timeout"/><a href="#locator-wait-for-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-wait-for-return"/><a href="#locator-wait-for-return" class="list-anchor">#</a>

---

## Свойства

### content_frame {#locator-content-frame}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.43</font><x-search>locator.content_frame</x-search>

Возвращает объект [FrameLocator], указывающий на тот же `iframe`, что и этот локатор.

Полезно, когда у вас есть объект [Locator], полученный где-то, и позже вы хотите взаимодействовать с содержимым внутри фрейма.

Для обратной операции используйте [frame_locator.owner](/api/class-framelocator.mdx#frame-locator-owner).

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
locator = page.locator("iframe[name=\"embedded\"]")
# ...
frame_locator = locator.content_frame
frame_locator.get_by_role("button").click()
```

</TabItem>
<TabItem value="async">

```py
locator = page.locator("iframe[name=\"embedded\"]")
# ...
frame_locator = locator.content_frame
await frame_locator.get_by_role("button").click()
```

</TabItem>
</Tabs>

**Возвращает**
- [FrameLocator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-content-frame-return"/><a href="#locator-content-frame-return" class="list-anchor">#</a>

---

### first {#locator-first}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.first</x-search>

Возвращает локатор к первому совпадающему элементу.

**Использование**

```python
locator.first
```

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-first-return"/><a href="#locator-first-return" class="list-anchor">#</a>

---

### last {#locator-last}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.last</x-search>

Возвращает локатор к последнему совпадающему элементу.

**Использование**

<Tabs
  groupId="python-flavor"
  defaultValue="sync"
  values={[
    {label: 'Sync', value: 'sync'},
    {label: 'Async', value: 'async'}
  ]
}>
<TabItem value="sync">

```py
banana = page.get_by_role("listitem").last
```

</TabItem>
<TabItem value="async">

```py
banana = await page.get_by_role("listitem").last
```

</TabItem>
</Tabs>

**Возвращает**
- [Locator]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-last-return"/><a href="#locator-last-return" class="list-anchor">#</a>

---

### page {#locator-page}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.19</font><x-search>locator.page</x-search>

Страница, к которой принадлежит этот локатор.

**Использование**

```python
locator.page
```

**Возвращает**
- [Page]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-page-return"/><a href="#locator-page-return" class="list-anchor">#</a>

---

## Устарело

### element_handle {#locator-element-handle}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.element_handle</x-search>

:::warning[Не рекомендуется]

Всегда предпочитайте использовать [Locator] и веб-утверждения вместо [ElementHandle], так как последние по своей природе подвержены гонкам.

:::

Разрешает данный локатор к первому совпадающему DOM элементу. Если совпадающих элементов нет, ожидает один. Если несколько элементов соответствуют локатору, выбрасывает исключение.

**Использование**

```python
locator.element_handle()
locator.element_handle(**kwargs)
```

**Аргументы**
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-element-handle-option-timeout"/><a href="#locator-element-handle-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout) методы.

**Возвращает**
- [ElementHandle]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-element-handle-return"/><a href="#locator-element-handle-return" class="list-anchor">#</a>

---

### element_handles {#locator-element-handles}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.element_handles</x-search>

:::warning[Discouraged]

Всегда предпочитайте использовать [Locator] и веб-утверждения вместо [ElementHandle], так как последние по своей природе подвержены гонкам.

:::

Разрешает указанный локатор для всех соответствующих элементов DOM. Если соответствующих элементов нет, возвращает пустой список.

**Использование**

```python
locator.element_handles()
```

**Возвращает**
- [List]\[[ElementHandle]\]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-element-handles-return"/><a href="#locator-element-handles-return" class="list-anchor">#</a>

---

### type {#locator-type}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.14</font><x-search>locator.type</x-search>

:::warning Deprecated

В большинстве случаев следует использовать [locator.fill()](/api/class-locator.mdx#locator-fill) вместо этого. Вам нужно нажимать клавиши по одной только в случае, если на странице есть специальная обработка клавиатуры - в этом случае используйте [locator.press_sequentially()](/api/class-locator.mdx#locator-press-sequentially).

:::

Фокусирует элемент, а затем отправляет событие `keydown`, `keypress`/`input` и `keyup` для каждого символа в тексте.

Чтобы нажать специальную клавишу, такую как `Control` или `ArrowDown`, используйте [locator.press()](/api/class-locator.mdx#locator-press).

**Использование**

**Аргументы**
- `text` [str]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-type-option-text"/><a href="#locator-type-option-text" class="list-anchor">#</a>
  
  Текст для ввода в сфокусированный элемент.
- `delay` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-type-option-delay"/><a href="#locator-type-option-delay" class="list-anchor">#</a>
  
  Время ожидания между нажатиями клавиш в миллисекундах. По умолчанию 0.
- `no_wait_after` [bool] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-type-option-no-wait-after"/><a href="#locator-type-option-no-wait-after" class="list-anchor">#</a>
  
  :::warning[Deprecated]
  Этот параметр не имеет эффекта.
  :::
  
  Этот параметр не имеет эффекта.
- `timeout` [float] *(optional)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-type-option-timeout"/><a href="#locator-type-option-timeout" class="list-anchor">#</a>
  
  Максимальное время в миллисекундах. По умолчанию `30000` (30 секунд). Передайте `0`, чтобы отключить тайм-аут. Значение по умолчанию можно изменить, используя методы [browser_context.set_default_timeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.set_default_timeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [NoneType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="locator-type-return"/><a href="#locator-type-return" class="list-anchor">#</a>


[Accessibility]: /api/class-accessibility.mdx "Accessibility"
[APIRequest]: /api/class-apirequest.mdx "APIRequest"
[APIRequestContext]: /api/class-apirequestcontext.mdx "APIRequestContext"
[APIResponse]: /api/class-apiresponse.mdx "APIResponse"
[APIResponseAssertions]: /api/class-apiresponseassertions.mdx "APIResponseAssertions"
[Browser]: /api/class-browser.mdx "Browser"
[BrowserContext]: /api/class-browsercontext.mdx "BrowserContext"
[BrowserType]: /api/class-browsertype.mdx "BrowserType"
[CDPSession]: /api/class-cdpsession.mdx "CDPSession"
[Clock]: /api/class-clock.mdx "Clock"
[ConsoleMessage]: /api/class-consolemessage.mdx "ConsoleMessage"
[Dialog]: /api/class-dialog.mdx "Dialog"
[Download]: /api/class-download.mdx "Download"
[ElementHandle]: /api/class-elementhandle.mdx "ElementHandle"
[Error]: /api/class-error.mdx "Error"
[FileChooser]: /api/class-filechooser.mdx "FileChooser"
[Frame]: /api/class-frame.mdx "Frame"
[FrameLocator]: /api/class-framelocator.mdx "FrameLocator"
[JSHandle]: /api/class-jshandle.mdx "JSHandle"
[Keyboard]: /api/class-keyboard.mdx "Keyboard"
[Locator]: /api/class-locator.mdx "Locator"
[LocatorAssertions]: /api/class-locatorassertions.mdx "LocatorAssertions"
[Mouse]: /api/class-mouse.mdx "Mouse"
[Page]: /api/class-page.mdx "Page"
[PageAssertions]: /api/class-pageassertions.mdx "PageAssertions"
[Playwright]: /api/class-playwright.mdx "Playwright"
[Request]: /api/class-request.mdx "Request"
[Response]: /api/class-response.mdx "Response"
[Route]: /api/class-route.mdx "Route"
[Selectors]: /api/class-selectors.mdx "Selectors"
[TimeoutError]: /api/class-timeouterror.mdx "TimeoutError"
[Touchscreen]: /api/class-touchscreen.mdx "Touchscreen"
[Tracing]: /api/class-tracing.mdx "Tracing"
[Video]: /api/class-video.mdx "Video"
[WebError]: /api/class-weberror.mdx "WebError"
[WebSocket]: /api/class-websocket.mdx "WebSocket"
[WebSocketRoute]: /api/class-websocketroute.mdx "WebSocketRoute"
[Worker]: /api/class-worker.mdx "Worker"
[Element]: https://developer.mozilla.org/en-US/docs/Web/API/element "Element"
[EvaluationArgument]: /evaluating.mdx#evaluation-argument "EvaluationArgument"
[Promise]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise "Promise"
[iterator]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols "Iterator"
[origin]: https://developer.mozilla.org/en-US/docs/Glossary/Origin "Origin"
[selector]: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors "selector"
[Serializable]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description "Serializable"
[UIEvent.detail]: https://developer.mozilla.org/en-US/docs/Web/API/UIEvent/detail "UIEvent.detail"
[UnixTime]: https://en.wikipedia.org/wiki/Unix_time "Unix Time"
[xpath]: https://developer.mozilla.org/en-US/docs/Web/XPath "xpath"

[Any]: https://docs.python.org/3/library/typing.html#typing.Any "Any"
[bool]: https://docs.python.org/3/library/stdtypes.html "bool"
[bytes]: https://docs.python.org/3/library/stdtypes.html#bytes "bytes"
[Callable]: https://docs.python.org/3/library/typing.html#typing.Callable "Callable"
[EventContextManager]: https://docs.python.org/3/reference/datamodel.html#context-managers "Event context manager"
[EventEmitter]: https://pyee.readthedocs.io/en/latest/#pyee.BaseEventEmitter "EventEmitter"
[Exception]: https://docs.python.org/3/library/exceptions.html#Exception "Exception"
[Dict]: https://docs.python.org/3/library/typing.html#typing.Dict "Dict"
[float]: https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex "float"
[int]: https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex "int"
[List]: https://docs.python.org/3/library/typing.html#typing.List "List"
[NoneType]: https://docs.python.org/3/library/constants.html#None "None"
[Pattern]: https://docs.python.org/3/library/re.html "Pattern"
[URL]: https://en.wikipedia.org/wiki/URL "URL"
[pathlib.Path]: https://realpython.com/python-pathlib/ "pathlib.Path"
[str]: https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str "str"
[Union]: https://docs.python.org/3/library/typing.html#typing.Union "Union"
[datetime]: https://docs.python.org/3/library/datetime.html#datetime.datetime "datetime"

[all available image tags]: https://mcr.microsoft.com/en-us/product/playwright/python/about "all available image tags"
[Microsoft Artifact Registry]: https://mcr.microsoft.com/en-us/product/playwright/python/about "Microsoft Artifact Registry"
[Dockerfile.noble]: https://github.com/microsoft/playwright-python/blob/main/utils/docker/Dockerfile.noble "Dockerfile.noble"
