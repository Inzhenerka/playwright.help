The [WebSocket] класс представляет собой WebSocket-соединения внутри страницы. Он предоставляет возможность инспектировать и изменять данные, которые передаются и принимаются.

Если вы хотите перехватывать или изменять фреймы WebSocket, рассмотрите возможность использования [WebSocketRoute].

---

## Методы

### isClosed {#web-socket-is-closed}

Указывает, что веб-сокет был закрыт.

**Использование**

```js
webSocket.isClosed();
```

**Возвращает**
- [boolean]

---

### url {#web-socket-url}

Содержит URL WebSocket.

**Использование**

```js
webSocket.url();
```

**Возвращает**
- [string]

---

### waitForEvent {#web-socket-wait-for-event}

Ожидает, пока событие не будет вызвано, и передает его значение в функцию-предикат. Возвращает, когда предикат возвращает истинное значение. Выдаст ошибку, если webSocket будет закрыт до вызова события. Возвращает значение данных события.

**Использование**

```js
await webSocket.waitForEvent(event);
await webSocket.waitForEvent(event, optionsOrPredicate, options);
```

**Аргументы**
- `event` [string]
  
  Имя события, такое же, как и при вызове `webSocket.on(event)`.
- `optionsOrPredicate` [function] | [Object] *(опционально)*
  - `predicate` [function]
    
    Получает данные события и разрешается в истинное значение, когда ожидание должно завершиться.
  - `timeout` [number] *(опционально)*
    
    Максимальное время ожидания в миллисекундах. По умолчанию `0` - без таймаута. Значение по умолчанию можно изменить с помощью опции `actionTimeout` в конфигурации или с помощью методов [browserContext.setDefaultTimeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.setDefaultTimeout()](/api/class-page.mdx#page-set-default-timeout).
  
  Либо предикат, который получает событие, либо объект опций. Опционально.
- `options` [Object] *(опционально)*
  - `predicate` [function] *(опционально)*
    
    Получает данные события и разрешается в истинное значение, когда ожидание должно завершиться.

**Возвращает**
- [Promise]&lt;[Object]&gt;

---

## События

### on('close') {#web-socket-event-close}

Вызывается, когда веб-сокет закрывается.

**Использование**

```js
webSocket.on('close', data => {});
```

**Данные события**
- [WebSocket]

---

### on('framereceived') {#web-socket-event-frame-received}

Вызывается, когда веб-сокет получает фрейм.

**Использование**

```js
webSocket.on('framereceived', data => {});
```

**Данные события**
- [Object]
  - `payload` [string] | [Buffer]
    
    полезная нагрузка фрейма

---

### on('framesent') {#web-socket-event-frame-sent}

Вызывается, когда веб-сокет отправляет фрейм.

**Использование**

```js
webSocket.on('framesent', data => {});
```

**Данные события**
- [Object]
  - `payload` [string] | [Buffer]
    
    полезная нагрузка фрейма

---

### on('socketerror') {#web-socket-event-socket-error}

Вызывается, когда у веб-сокета возникает ошибка.

**Использование**

```js
webSocket.on('socketerror', data => {});
```

**Данные события**
- [string]