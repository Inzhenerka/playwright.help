---
id: class-browser
title: "Browser"
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import HTMLCard from '@site/src/components/HTMLCard';

Браузер создается с помощью [browserType.launch()](/api/class-browsertype.mdx#browser-type-launch). Пример использования [Browser] для создания [Page]:

```js
const { firefox } = require('playwright');  // Или 'chromium', или 'webkit'.

(async () => {
  const browser = await firefox.launch();
  const page = await browser.newPage();
  await page.goto('https://example.com');
  await browser.close();
})();
```

---

## Методы

### browserType {#browser-browser-type}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.23</font><x-search>browser.browserType</x-search>

Получает тип браузера (chromium, firefox или webkit), к которому принадлежит браузер.

**Использование**

```js
browser.browserType();
```

**Возвращает**
- [BrowserType]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-browser-type-return"/><a href="#browser-browser-type-return" class="list-anchor">#</a>

---

### close {#browser-close}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>browser.close</x-search>

Если этот браузер был получен с помощью [browserType.launch()](/api/class-browsertype.mdx#browser-type-launch), закрывает браузер и все его страницы (если они были открыты).

Если этот браузер подключен, очищает все созданные контексты, принадлежащие этому браузеру, и отключается от сервера браузера.

:::note

Это похоже на принудительное завершение работы браузера. Чтобы закрыть страницы корректно и убедиться, что вы получаете события закрытия страниц, вызовите [browserContext.close()](/api/class-browsercontext.mdx#browser-context-close) на любых экземплярах [BrowserContext], которые вы явно создали ранее с помощью [browser.newContext()](/api/class-browser.mdx#browser-new-context) **перед** вызовом [browser.close()](/api/class-browser.mdx#browser-close).
:::

Объект [Browser] считается утилизированным и больше не может быть использован.

**Использование**

```js
await browser.close();
await browser.close(options);
```

**Аргументы**
- `options` [Object] *(необязательно)*
  - `reason` [string] *(необязательно)* <font size="2">Добавлено в: v1.40</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-close-option-reason"/><a href="#browser-close-option-reason" class="list-anchor">#</a>
    
    Причина, которая будет сообщена о прерываниях операций из-за закрытия браузера.

**Возвращает**
- [Promise]&lt;[void]&gt;<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-close-return"/><a href="#browser-close-return" class="list-anchor">#</a>

---

### contexts {#browser-contexts}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>browser.contexts</x-search>

Возвращает массив всех открытых контекстов браузера. В новом браузере это вернет ноль контекстов браузера.

**Использование**

```js
const browser = await pw.webkit.launch();
console.log(browser.contexts().length); // выводит `0`

const context = await browser.newContext();
console.log(browser.contexts().length); // выводит `1`
```

**Возвращает**
- [Array]&lt;[BrowserContext]&gt;<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-contexts-return"/><a href="#browser-contexts-return" class="list-anchor">#</a>

---

### isConnected {#browser-is-connected}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>browser.isConnected</x-search>

Указывает, что браузер подключен.

**Использование**

```js
browser.isConnected();
```

**Возвращает**
- [boolean]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-is-connected-return"/><a href="#browser-is-connected-return" class="list-anchor">#</a>

---

### newBrowserCDPSession {#browser-new-browser-cdp-session}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.11</font><x-search>browser.newBrowserCDPSession</x-search>

:::note

CDP-сессии поддерживаются только в браузерах на основе Chromium.
:::

Возвращает вновь созданную сессию браузера.

**Использование**

```js
await browser.newBrowserCDPSession();
```

**Возвращает**
- [Promise]&lt;[CDPSession]&gt;<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-browser-cdp-session-return"/><a href="#browser-new-browser-cdp-session-return" class="list-anchor">#</a>

---

### newContext {#browser-new-context}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>browser.newContext</x-search>

Создает новый контекст браузера. Он не будет делиться куками/кэшем с другими контекстами браузера.

:::note

Если вы используете этот метод для создания [BrowserContext]s, рекомендуется явно закрывать возвращаемый контекст с помощью [browserContext.close()](/api/class-browsercontext.mdx#browser-context-close), когда ваш код завершит работу с [BrowserContext], и перед вызовом [browser.close()](/api/class-browser.mdx#browser-close). Это обеспечит корректное закрытие `context` и полное сохранение любых артефактов, таких как HAR и видео.
:::

**Использование**

```js
(async () => {
  const browser = await playwright.firefox.launch();  // Или 'chromium', или 'webkit'.
  // Создать новый инкогнито контекст браузера.
  const context = await browser.newContext();
  // Создать новую страницу в чистом контексте.
  const page = await context.newPage();
  await page.goto('https://example.com');

  // Корректно закрыть все
  await context.close();
  await browser.close();
})();
```

**Аргументы**
- `options` [Object] *(необязательно)*
  - `acceptDownloads` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-accept-downloads"/><a href="#browser-new-context-option-accept-downloads" class="list-anchor">#</a>
    
    Указывает, следует ли автоматически загружать все вложения. По умолчанию `true`, при этом все загрузки принимаются.
  - `baseURL` [string] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-base-url"/><a href="#browser-new-context-option-base-url" class="list-anchor">#</a>
    
    При использовании [page.goto()](/api/class-page.mdx#page-goto), [page.route()](/api/class-page.mdx#page-route), [page.waitForURL()](/api/class-page.mdx#page-wait-for-url), [page.waitForRequest()](/api/class-page.mdx#page-wait-for-request), или [page.waitForResponse()](/api/class-page.mdx#page-wait-for-response) учитывается базовый URL, используя конструктор [`URL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL/URL) для построения соответствующего URL. По умолчанию не установлен. Примеры:
    * baseURL: `http://localhost:3000` и переход к `/bar.html` приводит к `http://localhost:3000/bar.html`
    * baseURL: `http://localhost:3000/foo/` и переход к `./bar.html` приводит к `http://localhost:3000/foo/bar.html`
    * baseURL: `http://localhost:3000/foo` (без завершающего слэша) и переход к `./bar.html` приводит к `http://localhost:3000/bar.html`
  - `bypassCSP` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-bypass-csp"/><a href="#browser-new-context-option-bypass-csp" class="list-anchor">#</a>
    
    Переключает обход политики безопасности контента страницы. По умолчанию `false`.
  - `clientCertificates` [Array]&lt;[Object]&gt; *(необязательно)* <font size="2">Добавлено в: 1.46</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-client-certificates"/><a href="#browser-new-context-option-client-certificates" class="list-anchor">#</a>
    - `origin` [string]
      
      Точный источник, для которого сертификат действителен. Источник включает протокол `https`, имя хоста и, возможно, порт.
    - `certPath` [string] *(необязательно)*
      
      Путь к файлу с сертификатом в формате PEM.
    - `cert` [Buffer] *(необязательно)*
      
      Прямое значение сертификата в формате PEM.
    - `keyPath` [string] *(необязательно)*
      
      Путь к файлу с закрытым ключом в формате PEM.
    - `key` [Buffer] *(необязательно)*
      
      Прямое значение закрытого ключа в формате PEM.
    - `pfxPath` [string] *(необязательно)*
      
      Путь к PFX или PKCS12 закодированному закрытому ключу и цепочке сертификатов.
    - `pfx` [Buffer] *(необязательно)*
      
      Прямое значение PFX или PKCS12 закодированного закрытого ключа и цепочки сертификатов.
    - `passphrase` [string] *(необязательно)*
      
      Пароль для закрытого ключа (PEM или PFX).
    
    TLS-аутентификация клиента позволяет серверу запрашивать клиентский сертификат и проверять его.
    
    **Детали**
    
    Массив клиентских сертификатов для использования. Каждый объект сертификата должен иметь либо оба `certPath` и `keyPath`, либо один `pfxPath`, либо их соответствующие прямые значения (`cert` и `key`, или `pfx`). Опционально, свойство `passphrase` должно быть предоставлено, если сертификат зашифрован. Свойство `origin` должно быть предоставлено с точным соответствием к исходному запросу, для которого сертификат действителен.
    
    :::note
    
    При использовании WebKit на macOS доступ к `localhost` не будет учитывать клиентские сертификаты. Вы можете сделать это, заменив `localhost` на `local.playwright`.
    :::
    
  - `colorScheme` [null] | "light" | "dark" | "no-preference" *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-color-scheme"/><a href="#browser-new-context-option-color-scheme" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию [prefers-colors-scheme](https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme), поддерживаемые значения: `'light'` и `'dark'`. См. [page.emulateMedia()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `null` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'light'`.
  - `contrast` [null] | "no-preference" | "more" *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-contrast"/><a href="#browser-new-context-option-contrast" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию `'prefers-contrast'`, поддерживаемые значения: `'no-preference'`, `'more'`. См. [page.emulateMedia()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `null` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'no-preference'`.
  - `deviceScaleFactor` [number] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-device-scale-factor"/><a href="#browser-new-context-option-device-scale-factor" class="list-anchor">#</a>
    
    Указывает коэффициент масштабирования устройства (можно рассматривать как dpr). По умолчанию `1`. Узнайте больше о [эмуляции устройств с коэффициентом масштабирования устройства](../emulation.mdx#devices).
  - `extraHTTPHeaders` [Object]&lt;[string], [string]&gt; *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-extra-http-headers"/><a href="#browser-new-context-option-extra-http-headers" class="list-anchor">#</a>
    
    Объект, содержащий дополнительные HTTP-заголовки, которые будут отправлены с каждым запросом. По умолчанию отсутствуют.
  - `forcedColors` [null] | "active" | "none" *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-forced-colors"/><a href="#browser-new-context-option-forced-colors" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию `'forced-colors'`, поддерживаемые значения: `'active'`, `'none'`. См. [page.emulateMedia()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `null` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'none'`.
  - `geolocation` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-geolocation"/><a href="#browser-new-context-option-geolocation" class="list-anchor">#</a>
    - `latitude` [number]
      
      Широта от -90 до 90.
    - `longitude` [number]
      
      Долгота от -180 до 180.
    - `accuracy` [number] *(необязательно)*
      
      Ненегативное значение точности. По умолчанию `0`.
  - `hasTouch` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-has-touch"/><a href="#browser-new-context-option-has-touch" class="list-anchor">#</a>
    
    Указывает, поддерживает ли область просмотра события касания. По умолчанию false. Узнайте больше о [мобильной эмуляции](../emulation.mdx#devices).
  - `httpCredentials` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-http-credentials"/><a href="#browser-new-context-option-http-credentials" class="list-anchor">#</a>
    - `username` [string]
      
      
    - `password` [string]
      
      
    - `origin` [string] *(необязательно)*
      
      Ограничивает отправку http-учетных данных на конкретный источник (scheme://host:port).
    - `send` "unauthorized" | "always" *(необязательно)*
      
      Эта опция применяется только к запросам, отправленным из соответствующего [APIRequestContext], и не влияет на запросы, отправленные из браузера. `'always'` - заголовок `Authorization` с учетными данными базовой аутентификации будет отправлен с каждым API-запросом. `'unauthorized` - учетные данные отправляются только при получении ответа 401 (Unauthorized) с заголовком `WWW-Authenticate`. По умолчанию `'unauthorized'`.
    
    Учетные данные для [HTTP-аутентификации](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication). Если источник не указан, имя пользователя и пароль отправляются на любые серверы при несанкционированных ответах.
  - `ignoreHTTPSErrors` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-ignore-https-errors"/><a href="#browser-new-context-option-ignore-https-errors" class="list-anchor">#</a>
    
    Указывает, следует ли игнорировать ошибки HTTPS при отправке сетевых запросов. По умолчанию `false`.
  - `isMobile` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-is-mobile"/><a href="#browser-new-context-option-is-mobile" class="list-anchor">#</a>
    
    Указывает, учитывается ли тег `meta viewport` и включены ли события касания. isMobile является частью устройства, поэтому вам не нужно устанавливать его вручную. По умолчанию `false` и не поддерживается в Firefox. Узнайте больше о [мобильной эмуляции](../emulation.mdx#ismobile).
  - `javaScriptEnabled` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-java-script-enabled"/><a href="#browser-new-context-option-java-script-enabled" class="list-anchor">#</a>
    
    Указывает, следует ли включать JavaScript в контексте. По умолчанию `true`. Узнайте больше о [отключении JavaScript](../emulation.mdx#javascript-enabled).
  - `locale` [string] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-locale"/><a href="#browser-new-context-option-locale" class="list-anchor">#</a>
    
    Укажите локаль пользователя, например `en-GB`, `de-DE` и т.д. Локаль повлияет на значение `navigator.language`, значение заголовка запроса `Accept-Language`, а также на правила форматирования чисел и дат. По умолчанию используется локаль по умолчанию системы. Узнайте больше о эмуляции в нашем [руководстве по эмуляции](../emulation.mdx#locale--timezone).
  - `logger` [Logger] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-logger"/><a href="#browser-new-context-option-logger" class="list-anchor">#</a>
    
    Логгер для ведения журнала Playwright.
  - `offline` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-offline"/><a href="#browser-new-context-option-offline" class="list-anchor">#</a>
    
    Указывает, следует ли эмулировать отключение сети. По умолчанию `false`. Узнайте больше о [эмуляции сети](../emulation.mdx#offline).
  - `permissions` [Array]&lt;[string]&gt; *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-permissions"/><a href="#browser-new-context-option-permissions" class="list-anchor">#</a>
    
    Список разрешений, которые будут предоставлены всем страницам в этом контексте. См. [browserContext.grantPermissions()](/api/class-browsercontext.mdx#browser-context-grant-permissions) для получения дополнительных сведений. По умолчанию отсутствуют.
  - `proxy` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-proxy"/><a href="#browser-new-context-option-proxy" class="list-anchor">#</a>
    - `server` [string]
      
      Прокси, который будет использоваться для всех запросов. Поддерживаются HTTP и SOCKS прокси, например `http://myproxy.com:3128` или `socks5://myproxy.com:3128`. Краткая форма `myproxy.com:3128` считается HTTP-прокси.
    - `bypass` [string] *(необязательно)*
      
      Необязательные домены, разделенные запятыми, для обхода прокси, например `".com, chromium.org, .domain.com"`.
    - `username` [string] *(необязательно)*
      
      Необязательное имя пользователя для использования, если HTTP-прокси требует аутентификации.
    - `password` [string] *(необязательно)*
      
      Необязательный пароль для использования, если HTTP-прокси требует аутентификации.
    
    Настройки сетевого прокси для использования с этим контекстом. По умолчанию отсутствуют.
  - `recordHar` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-record-har"/><a href="#browser-new-context-option-record-har" class="list-anchor">#</a>
    - `omitContent` [boolean] *(необязательно)*
      
      Необязательная настройка для управления тем, следует ли исключать содержимое запроса из HAR. По умолчанию `false`. Устарело, используйте политику `content` вместо этого.
    - `content` "omit" | "embed" | "attach" *(необязательно)*
      
      Необязательная настройка для управления управлением содержимым ресурсов. Если указано `omit`, содержимое не сохраняется. Если указано `attach`, ресурсы сохраняются как отдельные файлы или записи в ZIP-архиве. Если указано `embed`, содержимое хранится встроенным в файл HAR в соответствии со спецификацией HAR. По умолчанию `attach` для файлов вывода `.zip` и `embed` для всех других расширений файлов.
    - `path` [string]
      
      Путь в файловой системе для записи файла HAR. Если имя файла заканчивается на `.zip`, по умолчанию используется `content: 'attach'`.
    - `mode` "full" | "minimal" *(необязательно)*
      
      При установке в `minimal` записывается только информация, необходимая для маршрутизации из HAR. Это исключает размеры, время, страницы, куки, безопасность и другие типы информации HAR, которые не используются при воспроизведении из HAR. По умолчанию `full`.
    - `urlFilter` [string] | [RegExp] *(необязательно)*
      
      Шаблон glob или regex для фильтрации запросов, которые хранятся в HAR. Когда был предоставлен [baseURL](/api/class-browser.mdx#browser-new-context-option-base-url) через параметры контекста, и переданный URL является путем, он объединяется с помощью конструктора [`new URL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL/URL). По умолчанию отсутствует.
    
    Включает запись [HAR](http://www.softwareishard.com/blog/har-12-spec) для всех страниц в файл `recordHar.path`. Если не указано, HAR не записывается. Убедитесь, что вы дождались [browserContext.close()](/api/class-browsercontext.mdx#browser-context-close) для сохранения HAR.
  - `recordVideo` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-record-video"/><a href="#browser-new-context-option-record-video" class="list-anchor">#</a>
    - `dir` [string]
      
      Путь к директории для сохранения видео.
    - `size` [Object] *(необязательно)*
      - `width` [number]
        
        Ширина видео.
      - `height` [number]
        
        Высота видео.
      
      Необязательные размеры записываемых видео. Если не указано, размер будет равен `viewport`, уменьшенному для соответствия 800x800. Если `viewport` не настроен явно, размер видео по умолчанию составляет 800x450. Фактическое изображение каждой страницы будет уменьшено, если это необходимо, чтобы соответствовать указанному размеру.
    
    Включает запись видео для всех страниц в директорию `recordVideo.dir`. Если не указано, видео не записываются. Убедитесь, что вы дождались [browserContext.close()](/api/class-browsercontext.mdx#browser-context-close) для сохранения видео.
  - `reducedMotion` [null] | "reduce" | "no-preference" *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-reduced-motion"/><a href="#browser-new-context-option-reduced-motion" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию `'prefers-reduced-motion'`, поддерживаемые значения: `'reduce'`, `'no-preference'`. См. [page.emulateMedia()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `null` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'no-preference'`.
  - `screen` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-screen"/><a href="#browser-new-context-option-screen" class="list-anchor">#</a>
    - `width` [number]
      
      ширина страницы в пикселях.
    - `height` [number]
      
      высота страницы в пикселях.
    
    Эмулирует постоянный размер экрана окна, доступного внутри веб-страницы через `window.screen`. Используется только при установке [viewport](/api/class-browser.mdx#browser-new-context-option-viewport).
  - `serviceWorkers` "allow" | "block" *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-service-workers"/><a href="#browser-new-context-option-service-workers" class="list-anchor">#</a>
    
    Указывает, разрешено ли сайтам регистрировать сервисные рабочие процессы. По умолчанию `'allow'`.
    * `'allow'`: [Сервисные рабочие процессы](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API) могут быть зарегистрированы.
    * `'block'`: Playwright будет блокировать все регистрации сервисных рабочих процессов.
  - `storageState` [string] | [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-storage-state"/><a href="#browser-new-context-option-storage-state" class="list-anchor">#</a>
    - `cookies` [Array]&lt;[Object]&gt;
      - `name` [string]
        
        
      - `value` [string]
        
        
      - `domain` [string]
        
        Домен и путь обязательны. Чтобы куки применялись ко всем поддоменам, префикс домена должен быть точкой, например: ".example.com"
      - `path` [string]
        
        Домен и путь обязательны.
      - `expires` [number]
        
        Время Unix в секундах.
      - `httpOnly` [boolean]
        
        
      - `secure` [boolean]
        
        
      - `sameSite` "Strict" | "Lax" | "None"
        
        флаг sameSite
      
      Куки для установки для контекста.
    - `origins` [Array]&lt;[Object]&gt;
      - `origin` [string]
        
        
      - `localStorage` [Array]&lt;[Object]&gt;
        - `name` [string]
          
          
        - `value` [string]
          
          
        localStorage для установки для контекста.
      
      
    Узнайте больше о [состоянии хранилища и аутентификации](../auth.mdx).
    
    Заполняет контекст заданным состоянием хранилища. Эта опция может быть использована для инициализации контекста с информацией о входе, полученной через [browserContext.storageState()](/api/class-browsercontext.mdx#browser-context-storage-state).
  - `strictSelectors` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-strict-selectors"/><a href="#browser-new-context-option-strict-selectors" class="list-anchor">#</a>
    
    Если установлено в true, включает строгий режим селекторов для этого контекста. В строгом режиме селекторов все операции на селекторах, которые подразумевают единственный целевой элемент DOM, будут вызывать ошибку, если совпадает более одного элемента. Эта опция не влияет на любые API локаторов (локаторы всегда строгие). По умолчанию `false`. См. [Locator], чтобы узнать больше о строгом режиме.
  - `timezoneId` [string] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-timezone-id"/><a href="#browser-new-context-option-timezone-id" class="list-anchor">#</a>
    
    Изменяет часовой пояс контекста. См. [metaZones.txt ICU](https://cs.chromium.org/chromium/src/third_party/icu/source/data/misc/metaZones.txt?rcl=faee8bc70570192d82d2978a71e2a615788597d1) для списка поддерживаемых идентификаторов часовых поясов. По умолчанию используется часовой пояс системы.
  - `userAgent` [string] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-user-agent"/><a href="#browser-new-context-option-user-agent" class="list-anchor">#</a>
    
    Специфический пользовательский агент для использования в этом контексте.
  - `videoSize` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-video-size"/><a href="#browser-new-context-option-video-size" class="list-anchor">#</a>
    
    :::warning[Устарело]
    Используйте [recordVideo](/api/class-browser.mdx#browser-new-context-option-record-video) вместо этого.
    :::
    
    - `width` [number]
      
      Ширина видео.
    - `height` [number]
      
      Высота видео.
  - `videosPath` [string] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-videos-path"/><a href="#browser-new-context-option-videos-path" class="list-anchor">#</a>
    
    :::warning[Устарело]
    Используйте [recordVideo](/api/class-browser.mdx#browser-new-context-option-record-video) вместо этого.
    :::
    
  - `viewport` [null] | [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-option-viewport"/><a href="#browser-new-context-option-viewport" class="list-anchor">#</a>
    - `width` [number]
      
      ширина страницы в пикселях.
    - `height` [number]
      
      высота страницы в пикселях.
    
    Эмулирует постоянный размер области просмотра для каждой страницы. По умолчанию 1280x720. Используйте `null`, чтобы отключить эмуляцию постоянного размера области просмотра. Узнайте больше о [эмуляции области просмотра](../emulation#viewport).
    
    :::note
    
    Значение `null` исключает из стандартных предустановок, делает размер области просмотра зависимым от размера окна хоста, определенного операционной системой. Это делает выполнение тестов недетерминированным.
    :::
    
**Возвращает**
- [Promise]&lt;[BrowserContext]&gt;<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-context-return"/><a href="#browser-new-context-return" class="list-anchor">#</a>

---

### newPage {#browser-new-page}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>browser.newPage</x-search>

Создает новую страницу в новом контексте браузера. Закрытие этой страницы также закроет контекст.

Это удобный API, который следует использовать только для сценариев с одной страницей и коротких фрагментов. Код в производственной среде и тестовые фреймворки должны явно создавать [browser.newContext()](/api/class-browser.mdx#browser-new-context), за которым следует [browserContext.newPage()](/api/class-browsercontext.mdx#browser-context-new-page), чтобы контролировать их точные сроки жизни.

**Использование**

```js
await browser.newPage();
await browser.newPage(options);
```

**Аргументы**
- `options` [Object] *(необязательно)*
  - `acceptDownloads` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-accept-downloads"/><a href="#browser-new-page-option-accept-downloads" class="list-anchor">#</a>
    
    Указывает, следует ли автоматически загружать все вложения. По умолчанию `true`, при этом все загрузки принимаются.
  - `baseURL` [string] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-base-url"/><a href="#browser-new-page-option-base-url" class="list-anchor">#</a>
    
    При использовании [page.goto()](/api/class-page.mdx#page-goto), [page.route()](/api/class-page.mdx#page-route), [page.waitForURL()](/api/class-page.mdx#page-wait-for-url), [page.waitForRequest()](/api/class-page.mdx#page-wait-for-request), или [page.waitForResponse()](/api/class-page.mdx#page-wait-for-response) учитывается базовый URL, используя конструктор [`URL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL/URL) для построения соответствующего URL. По умолчанию не установлен. Примеры:
    * baseURL: `http://localhost:3000` и переход к `/bar.html` приводит к `http://localhost:3000/bar.html`
    * baseURL: `http://localhost:3000/foo/` и переход к `./bar.html` приводит к `http://localhost:3000/foo/bar.html`
    * baseURL: `http://localhost:3000/foo` (без завершающего слэша) и переход к `./bar.html` приводит к `http://localhost:3000/bar.html`
  - `bypassCSP` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-bypass-csp"/><a href="#browser-new-page-option-bypass-csp" class="list-anchor">#</a>
    
    Переключает обход политики безопасности контента страницы. По умолчанию `false`.
  - `clientCertificates` [Array]&lt;[Object]&gt; *(необязательно)* <font size="2">Добавлено в: 1.46</font><a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-client-certificates"/><a href="#browser-new-page-option-client-certificates" class="list-anchor">#</a>
    - `origin` [string]
      
      Точный источник, для которого сертификат действителен. Источник включает протокол `https`, имя хоста и, возможно, порт.
    - `certPath` [string] *(необязательно)*
      
      Путь к файлу с сертификатом в формате PEM.
    - `cert` [Buffer] *(необязательно)*
      
      Прямое значение сертификата в формате PEM.
    - `keyPath` [string] *(необязательно)*
      
      Путь к файлу с закрытым ключом в формате PEM.
    - `key` [Buffer] *(необязательно)*
      
      Прямое значение закрытого ключа в формате PEM.
    - `pfxPath` [string] *(необязательно)*
      
      Путь к PFX или PKCS12 закодированному закрытому ключу и цепочке сертификатов.
    - `pfx` [Buffer] *(необязательно)*
      
      Прямое значение PFX или PKCS12 закодированного закрытого ключа и цепочки сертификатов.
    - `passphrase` [string] *(необязательно)*
      
      Пароль для закрытого ключа (PEM или PFX).
    
    TLS-аутентификация клиента позволяет серверу запрашивать клиентский сертификат и проверять его.
    
    **Детали**
    
    Массив клиентских сертификатов для использования. Каждый объект сертификата должен иметь либо оба `certPath` и `keyPath`, либо один `pfxPath`, либо их соответствующие прямые значения (`cert` и `key`, или `pfx`). Опционально, свойство `passphrase` должно быть предоставлено, если сертификат зашифрован. Свойство `origin` должно быть предоставлено с точным соответствием к исходному запросу, для которого сертификат действителен.
    
    :::note
    
    При использовании WebKit на macOS доступ к `localhost` не будет учитывать клиентские сертификаты. Вы можете сделать это, заменив `localhost` на `local.playwright`.
    :::
    
  - `colorScheme` [null] | "light" | "dark" | "no-preference" *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-color-scheme"/><a href="#browser-new-page-option-color-scheme" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию [prefers-colors-scheme](https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme), поддерживаемые значения: `'light'` и `'dark'`. См. [page.emulateMedia()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `null` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'light'`.
  - `contrast` [null] | "no-preference" | "more" *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-contrast"/><a href="#browser-new-page-option-contrast" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию `'prefers-contrast'`, поддерживаемые значения: `'no-preference'`, `'more'`. См. [page.emulateMedia()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `null` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'no-preference'`.
  - `deviceScaleFactor` [number] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-device-scale-factor"/><a href="#browser-new-page-option-device-scale-factor" class="list-anchor">#</a>
    
    Указывает коэффициент масштабирования устройства (можно рассматривать как dpr). По умолчанию `1`. Узнайте больше о [эмуляции устройств с коэффициентом масштабирования устройства](../emulation.mdx#devices).
  - `extraHTTPHeaders` [Object]&lt;[string], [string]&gt; *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-extra-http-headers"/><a href="#browser-new-page-option-extra-http-headers" class="list-anchor">#</a>
    
    Объект, содержащий дополнительные HTTP-заголовки, которые будут отправлены с каждым запросом. По умолчанию отсутствуют.
  - `forcedColors` [null] | "active" | "none" *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-forced-colors"/><a href="#browser-new-page-option-forced-colors" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию `'forced-colors'`, поддерживаемые значения: `'active'`, `'none'`. См. [page.emulateMedia()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `null` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'none'`.
  - `geolocation` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-geolocation"/><a href="#browser-new-page-option-geolocation" class="list-anchor">#</a>
    - `latitude` [number]
      
      Широта от -90 до 90.
    - `longitude` [number]
      
      Долгота от -180 до 180.
    - `accuracy` [number] *(необязательно)*
      
      Ненегативное значение точности. По умолчанию `0`.
  - `hasTouch` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-has-touch"/><a href="#browser-new-page-option-has-touch" class="list-anchor">#</a>
    
    Указывает, поддерживает ли область просмотра события касания. По умолчанию false. Узнайте больше о [мобильной эмуляции](../emulation.mdx#devices).
  - `httpCredentials` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-http-credentials"/><a href="#browser-new-page-option-http-credentials" class="list-anchor">#</a>
    - `username` [string]
      
      
    - `password` [string]
      
      
    - `origin` [string] *(необязательно)*
      
      Ограничивает отправку http-учетных данных на конкретный источник (scheme://host:port).
    - `send` "unauthorized" | "always" *(необязательно)*
      
      Эта опция применяется только к запросам, отправленным из соответствующего [APIRequestContext], и не влияет на запросы, отправленные из браузера. `'always'` - заголовок `Authorization` с учетными данными базовой аутентификации будет отправлен с каждым API-запросом. `'unauthorized` - учетные данные отправляются только при получении ответа 401 (Unauthorized) с заголовком `WWW-Authenticate`. По умолчанию `'unauthorized'`.
    
    Учетные данные для [HTTP-аутентификации](https://developer.mozilla.org/en-US/docs/Web/HTTP/Authentication). Если источник не указан, имя пользователя и пароль отправляются на любые серверы при несанкционированных ответах.
  - `ignoreHTTPSErrors` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-ignore-https-errors"/><a href="#browser-new-page-option-ignore-https-errors" class="list-anchor">#</a>
    
    Указывает, следует ли игнорировать ошибки HTTPS при отправке сетевых запросов. По умолчанию `false`.
  - `isMobile` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-is-mobile"/><a href="#browser-new-page-option-is-mobile" class="list-anchor">#</a>
    
    Указывает, учитывается ли тег `meta viewport` и включены ли события касания. isMobile является частью устройства, поэтому вам не нужно устанавливать его вручную. По умолчанию `false` и не поддерживается в Firefox. Узнайте больше о [мобильной эмуляции](../emulation.mdx#ismobile).
  - `javaScriptEnabled` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-java-script-enabled"/><a href="#browser-new-page-option-java-script-enabled" class="list-anchor">#</a>
    
    Указывает, следует ли включать JavaScript в контексте. По умолчанию `true`. Узнайте больше о [отключении JavaScript](../emulation.mdx#javascript-enabled).
  - `locale` [string] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-locale"/><a href="#browser-new-page-option-locale" class="list-anchor">#</a>
    
    Укажите локаль пользователя, например `en-GB`, `de-DE` и т.д. Локаль повлияет на значение `navigator.language`, значение заголовка запроса `Accept-Language`, а также на правила форматирования чисел и дат. По умолчанию используется локаль по умолчанию системы. Узнайте больше о эмуляции в нашем [руководстве по эмуляции](../emulation.mdx#locale--timezone).
  - `logger` [Logger] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-logger"/><a href="#browser-new-page-option-logger" class="list-anchor">#</a>
    
    Логгер для ведения журнала Playwright.
  - `offline` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-offline"/><a href="#browser-new-page-option-offline" class="list-anchor">#</a>
    
    Указывает, следует ли эмулировать отключение сети. По умолчанию `false`. Узнайте больше о [эмуляции сети](../emulation.mdx#offline).
  - `permissions` [Array]&lt;[string]&gt; *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-permissions"/><a href="#browser-new-page-option-permissions" class="list-anchor">#</a>
    
    Список разрешений, которые будут предоставлены всем страницам в этом контексте. См. [browserContext.grantPermissions()](/api/class-browsercontext.mdx#browser-context-grant-permissions) для получения дополнительных сведений. По умолчанию отсутствуют.
  - `proxy` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-proxy"/><a href="#browser-new-page-option-proxy" class="list-anchor">#</a>
    - `server` [string]
      
      Прокси, который будет использоваться для всех запросов. Поддерживаются HTTP и SOCKS прокси, например `http://myproxy.com:3128` или `socks5://myproxy.com:3128`. Краткая форма `myproxy.com:3128` считается HTTP-прокси.
    - `bypass` [string] *(необязательно)*
      
      Необязательные домены, разделенные запятыми, для обхода прокси, например `".com, chromium.org, .domain.com"`.
    - `username` [string] *(необязательно)*
      
      Необязательное имя пользователя для использования, если HTTP-прокси требует аутентификации.
    - `password` [string] *(необязательно)*
      
      Необязательный пароль для использования, если HTTP-прокси требует аутентификации.
    
    Настройки сетевого прокси для использования с этим контекстом. По умолчанию отсутствуют.
  - `recordHar` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-record-har"/><a href="#browser-new-page-option-record-har" class="list-anchor">#</a>
    - `omitContent` [boolean] *(необязательно)*
      
      Необязательная настройка для управления тем, следует ли исключать содержимое запроса из HAR. По умолчанию `false`. Устарело, используйте политику `content` вместо этого.
    - `content` "omit" | "embed" | "attach" *(необязательно)*
      
      Необязательная настройка для управления управлением содержимым ресурсов. Если указано `omit`, содержимое не сохраняется. Если указано `attach`, ресурсы сохраняются как отдельные файлы или записи в ZIP-архиве. Если указано `embed`, содержимое хранится встроенным в файл HAR в соответствии со спецификацией HAR. По умолчанию `attach` для файлов вывода `.zip` и `embed` для всех других расширений файлов.
    - `path` [string]
      
      Путь в файловой системе для записи файла HAR. Если имя файла заканчивается на `.zip`, по умолчанию используется `content: 'attach'`.
    - `mode` "full" | "minimal" *(необязательно)*
      
      При установке в `minimal` записывается только информация, необходимая для маршрутизации из HAR. Это исключает размеры, время, страницы, куки, безопасность и другие типы информации HAR, которые не используются при воспроизведении из HAR. По умолчанию `full`.
    - `urlFilter` [string] | [RegExp] *(необязательно)*
      
      Шаблон glob или regex для фильтрации запросов, которые хранятся в HAR. Когда был предоставлен [baseURL](/api/class-browser.mdx#browser-new-context-option-base-url) через параметры контекста, и переданный URL является путем, он объединяется с помощью конструктора [`new URL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL/URL). По умолчанию отсутствует.
    
    Включает запись [HAR](http://www.softwareishard.com/blog/har-12-spec) для всех страниц в файл `recordHar.path`. Если не указано, HAR не записывается. Убедитесь, что вы дождались [browserContext.close()](/api/class-browsercontext.mdx#browser-context-close) для сохранения HAR.
  - `recordVideo` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-record-video"/><a href="#browser-new-page-option-record-video" class="list-anchor">#</a>
    - `dir` [string]
      
      Путь к директории для сохранения видео.
    - `size` [Object] *(необязательно)*
      - `width` [number]
        
        Ширина видео.
      - `height` [number]
        
        Высота видео.
      
      Необязательные размеры записываемых видео. Если не указано, размер будет равен `viewport`, уменьшенному для соответствия 800x800. Если `viewport` не настроен явно, размер видео по умолчанию составляет 800x450. Фактическое изображение каждой страницы будет уменьшено, если это необходимо, чтобы соответствовать указанному размеру.
    
    Включает запись видео для всех страниц в директорию `recordVideo.dir`. Если не указано, видео не записываются. Убедитесь, что вы дождались [browserContext.close()](/api/class-browsercontext.mdx#browser-context-close) для сохранения видео.
  - `reducedMotion` [null] | "reduce" | "no-preference" *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-reduced-motion"/><a href="#browser-new-page-option-reduced-motion" class="list-anchor">#</a>
    
    Эмулирует медиа-функцию `'prefers-reduced-motion'`, поддерживаемые значения: `'reduce'`, `'no-preference'`. См. [page.emulateMedia()](/api/class-page.mdx#page-emulate-media) для получения дополнительных сведений. Передача `null` сбрасывает эмуляцию на системные настройки по умолчанию. По умолчанию `'no-preference'`.
  - `screen` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-screen"/><a href="#browser-new-page-option-screen" class="list-anchor">#</a>
    - `width` [number]
      
      ширина страницы в пикселях.
    - `height` [number]
      
      высота страницы в пикселях.
    
    Эмулирует постоянный размер экрана окна, доступного внутри веб-страницы через `window.screen`. Используется только при установке [viewport](/api/class-browser.mdx#browser-new-page-option-viewport).
  - `serviceWorkers` "allow" | "block" *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-service-workers"/><a href="#browser-new-page-option-service-workers" class="list-anchor">#</a>
    
    Указывает, разрешено ли сайтам регистрировать сервисные рабочие процессы. По умолчанию `'allow'`.
    * `'allow'`: [Сервисные рабочие процессы](https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API) могут быть зарегистрированы.
    * `'block'`: Playwright будет блокировать все регистрации сервисных рабочих процессов.
  - `storageState` [string] | [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-storage-state"/><a href="#browser-new-page-option-storage-state" class="list-anchor">#</a>
    - `cookies` [Array]&lt;[Object]&gt;
      - `name` [string]
        
        
      - `value` [string]
        
        
      - `domain` [string]
        
        Домен и путь обязательны. Чтобы куки применялись ко всем поддоменам, префикс домена должен быть точкой, например: ".example.com"
      - `path` [string]
        
        Домен и путь обязательны.
      - `expires` [number]
        
        Время Unix в секундах.
      - `httpOnly` [boolean]
        
        
      - `secure` [boolean]
        
        
      - `sameSite` "Strict" | "Lax" | "None"
        
        флаг sameSite
      
      Куки для установки для контекста.
    - `origins` [Array]&lt;[Object]&gt;
      - `origin` [string]
        
        
      - `localStorage` [Array]&lt;[Object]&gt;
        - `name` [string]
          
          
        - `value` [string]
          
          
        localStorage для установки для контекста.
      
      
    Узнайте больше о [состоянии хранилища и аутентификации](../auth.mdx).
    
    Заполняет контекст заданным состоянием хранилища. Эта опция может быть использована для инициализации контекста с информацией о входе, полученной через [browserContext.storageState()](/api/class-browsercontext.mdx#browser-context-storage-state).
  - `strictSelectors` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-strict-selectors"/><a href="#browser-new-page-option-strict-selectors" class="list-anchor">#</a>
    
    Если установлено в true, включает строгий режим селекторов для этого контекста. В строгом режиме селекторов все операции на селекторах, которые подразумевают единственный целевой элемент DOM, будут вызывать ошибку, если совпадает более одного элемента. Эта опция не влияет на любые API локаторов (локаторы всегда строгие). По умолчанию `false`. См. [Locator], чтобы узнать больше о строгом режиме.
  - `timezoneId` [string] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-timezone-id"/><a href="#browser-new-page-option-timezone-id" class="list-anchor">#</a>
    
    Изменяет часовой пояс контекста. См. [metaZones.txt ICU](https://cs.chromium.org/chromium/src/third_party/icu/source/data/misc/metaZones.txt?rcl=faee8bc70570192d82d2978a71e2a615788597d1) для списка поддерживаемых идентификаторов часовых поясов. По умолчанию используется часовой пояс системы.
  - `userAgent` [string] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-user-agent"/><a href="#browser-new-page-option-user-agent" class="list-anchor">#</a>
    
    Специфический пользовательский агент для использования в этом контексте.
  - `videoSize` [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-video-size"/><a href="#browser-new-page-option-video-size" class="list-anchor">#</a>
    
    :::warning[Устарело]
    Используйте [recordVideo](/api/class-browser.mdx#browser-new-page-option-record-video) вместо этого.
    :::
    
    - `width` [number]
      
      Ширина видео.
    - `height` [number]
      
      Высота видео.
  - `videosPath` [string] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-videos-path"/><a href="#browser-new-page-option-videos-path" class="list-anchor">#</a>
    
    :::warning[Устарело]
    Используйте [recordVideo](/api/class-browser.mdx#browser-new-page-option-record-video) вместо этого.
    :::
    
  - `viewport` [null] | [Object] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-option-viewport"/><a href="#browser-new-page-option-viewport" class="list-anchor">#</a>
    - `width` [number]
      
      ширина страницы в пикселях.
    - `height` [number]
      
      высота страницы в пикселях.
    
    Эмулирует постоянный размер области просмотра для каждой страницы. По умолчанию 1280x720. Используйте `null`, чтобы отключить эмуляцию постоянного размера области просмотра. Узнайте больше о [эмуляции области просмотра](../emulation#viewport).
    
    :::note
    
    Значение `null` исключает из стандартных предустановок, делает размер области просмотра зависимым от размера окна хоста, определенного операционной системой. Это делает выполнение тестов недетерминированным.
    :::
    
**Возвращает**
- [Promise]&lt;[Page]&gt;<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-new-page-return"/><a href="#browser-new-page-return" class="list-anchor">#</a>

---

### removeAllListeners {#browser-remove-all-listeners}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.47</font><x-search>browser.removeAllListeners</x-search>

Удаляет всех слушателей данного типа (или всех зарегистрированных слушателей, если тип не указан). Позволяет дождаться завершения асинхронных слушателей или игнорировать последующие ошибки от этих слушателей.

**Использование**

```js
await browser.removeAllListeners();
await browser.removeAllListeners(type, options);
```

**Аргументы**
- `type` [string] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-remove-all-listeners-option-type"/><a href="#browser-remove-all-listeners-option-type" class="list-anchor">#</a>
- `options` [Object] *(необязательно)*
  - `behavior` "wait" | "ignoreErrors" | "default" *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-remove-all-listeners-option-behavior"/><a href="#browser-remove-all-listeners-option-behavior" class="list-anchor">#</a>
    
    Указывает, следует ли ждать завершения уже работающих слушателей и что делать, если они вызывают ошибки:
    * `'default'` - не ждать завершения текущих вызовов слушателей (если таковые имеются), если слушатель вызывает ошибку, это может привести к необработанной ошибке
    * `'wait'` - дождаться завершения текущих вызовов слушателей (если таковые имеются)
    * `'ignoreErrors'` - не ждать завершения текущих вызовов слушателей (если таковые имеются), все ошибки, вызванные слушателями после удаления, будут тихо перехвачены

**Возвращает**
- [Promise]&lt;[void]&gt;<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-remove-all-listeners-return"/><a href="#browser-remove-all-listeners-return" class="list-anchor">#</a>

---

### startTracing {#browser-start-tracing}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.11</font><x-search>browser.startTracing</x-search>

:::note

Этот API управляет [Chromium Tracing](https://www.chromium.org/developers/how-tos/trace-event-profiling-tool), который является низкоуровневым инструментом отладки, специфичным для Chromium. API для управления [Playwright Tracing](../trace-viewer) можно найти [здесь](./class-tracing).
:::

Вы можете использовать [browser.startTracing()](/api/class-browser.mdx#browser-start-tracing) и [browser.stopTracing()](/api/class-browser.mdx#browser-stop-tracing), чтобы создать файл трассировки, который можно открыть в панели производительности Chrome DevTools.

**Использование**

```js
await browser.startTracing(page, { path: 'trace.json' });
await page.goto('https://www.google.com');
await browser.stopTracing();
```

**Аргументы**
- `page` [Page] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-start-tracing-option-page"/><a href="#browser-start-tracing-option-page" class="list-anchor">#</a>
  
  Необязательный параметр, если указан, трассировка включает скриншоты указанной страницы.
- `options` [Object] *(необязательно)*
  - `categories` [Array]&lt;[string]&gt; *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-start-tracing-option-categories"/><a href="#browser-start-tracing-option-categories" class="list-anchor">#</a>
    
    Укажите пользовательские категории для использования вместо стандартных.
  - `path` [string] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-start-tracing-option-path"/><a href="#browser-start-tracing-option-path" class="list-anchor">#</a>
    
    Путь для записи файла трассировки.
  - `screenshots` [boolean] *(необязательно)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-start-tracing-option-screenshots"/><a href="#browser-start-tracing-option-screenshots" class="list-anchor">#</a>
    
    Захватывает скриншоты в трассировке.

**Возвращает**
- [Promise]&lt;[void]&gt;<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-start-tracing-return"/><a href="#browser-start-tracing-return" class="list-anchor">#</a>

---

### stopTracing {#browser-stop-tracing}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.11</font><x-search>browser.stopTracing</x-search>

:::note

Этот API управляет [Chromium Tracing](https://www.chromium.org/developers/how-tos/trace-event-profiling-tool), который является низкоуровневым инструментом отладки, специфичным для Chromium. API для управления [Playwright Tracing](../trace-viewer) можно найти [здесь](./class-tracing).
:::

Возвращает буфер с данными трассировки.

**Использование**

```js
await browser.stopTracing();
```

**Возвращает**
- [Promise]&lt;[Buffer]&gt;<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-stop-tracing-return"/><a href="#browser-stop-tracing-return" class="list-anchor">#</a>

---

### version {#browser-version}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>browser.version</x-search>

Возвращает версию браузера.

**Использование**

```js
browser.version();
```

**Возвращает**
- [string]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="browser-version-return"/><a href="#browser-version-return" class="list-anchor">#</a>

---

## События

### on('disconnected') {#browser-event-disconnected}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>browser.on('disconnected')</x-search>

Событие, которое возникает, когда браузер отключается от приложения браузера. Это может произойти по одной из следующих причин:
* Приложение браузера закрыто или аварийно завершило работу.
* Метод [browser.close()](/api/class-browser.mdx#browser-close) был вызван.

**Использование**

```js
browser.on('disconnected', data => {});
```

**Данные события**
- [Browser]

[Accessibility]: /api/class-accessibility.mdx "Accessibility"
[Android]: /api/class-android.mdx "Android"
[AndroidDevice]: /api/class-androiddevice.mdx "AndroidDevice"
[AndroidInput]: /api/class-androidinput.mdx "AndroidInput"
[AndroidSocket]: /api/class-androidsocket.mdx "AndroidSocket"
[AndroidWebView]: /api/class-androidwebview.mdx "AndroidWebView"
[APIRequest]: /api/class-apirequest.mdx "APIRequest"
[APIRequestContext]: /api/class-apirequestcontext.mdx "APIRequestContext"
[APIResponse]: /api/class-apiresponse.mdx "APIResponse"
[APIResponseAssertions]: /api/class-apiresponseassertions.mdx "APIResponseAssertions"
[Browser]: /api/class-browser.mdx "Browser"
[BrowserContext]: /api/class-browsercontext.mdx "BrowserContext"
[BrowserServer]: /api/class-browserserver.mdx "BrowserServer"
[BrowserType]: /api/class-browsertype.mdx "BrowserType"
[CDPSession]: /api/class-cdpsession.mdx "CDPSession"
[Clock]: /api/class-clock.mdx "Clock"
[ConsoleMessage]: /api/class-consolemessage.mdx "ConsoleMessage"
[Coverage]: /api/class-coverage.mdx "Coverage"
[Dialog]: /api/class-dialog.mdx "Dialog"
[Download]: /api/class-download.mdx "Download"
[Electron]: /api/class-electron.mdx "Electron"
[ElectronApplication]: /api/class-electronapplication.mdx "ElectronApplication"
[ElementHandle]: /api/class-elementhandle.mdx "ElementHandle"
[FileChooser]: /api/class-filechooser.mdx "FileChooser"
[Frame]: /api/class-frame.mdx "Frame"
[FrameLocator]: /api/class-framelocator.mdx "FrameLocator"
[GenericAssertions]: /api/class-genericassertions.mdx "GenericAssertions"
[JSHandle]: /api/class-jshandle.mdx "JSHandle"
[Keyboard]: /api/class-keyboard.mdx "Keyboard"
[Locator]: /api/class-locator.mdx "Locator"
[LocatorAssertions]: /api/class-locatorassertions.mdx "LocatorAssertions"
[Logger]: /api/class-logger.mdx "Logger"
[Mouse]: /api/class-mouse.mdx "Mouse"
[Page]: /api/class-page.mdx "Page"
[PageAssertions]: /api/class-pageassertions.mdx "PageAssertions"
[Playwright]: /api/class-playwright.mdx "Playwright"
[PlaywrightAssertions]: /api/class-playwrightassertions.mdx "PlaywrightAssertions"
[Request]: /api/class-request.mdx "Request"
[Response]: /api/class-response.mdx "Response"
[Route]: /api/class-route.mdx "Route"
[Selectors]: /api/class-selectors.mdx "Selectors"
[SnapshotAssertions]: /api/class-snapshotassertions.mdx "SnapshotAssertions"
[TimeoutError]: /api/class-timeouterror.mdx "TimeoutError"
[Touchscreen]: /api/class-touchscreen.mdx "Touchscreen"
[Tracing]: /api/class-tracing.mdx "Tracing"
[Video]: /api/class-video.mdx "Video"
[WebError]: /api/class-weberror.mdx "WebError"
[WebSocket]: /api/class-websocket.mdx "WebSocket"
[WebSocketRoute]: /api/class-websocketroute.mdx "WebSocketRoute"
[Worker]: /api/class-worker.mdx "Worker"
[Fixtures]: /api/class-fixtures.mdx "Fixtures"
[FullConfig]: /api/class-fullconfig.mdx "FullConfig"
[FullProject]: /api/class-fullproject.mdx "FullProject"
[Location]: /api/class-location.mdx "Location"
[Test]: /api/class-test.mdx "Test"
[TestConfig]: /api/class-testconfig.mdx "TestConfig"
[TestInfo]: /api/class-testinfo.mdx "TestInfo"
[TestInfoError]: /api/class-testinfoerror.mdx "TestInfoError"
[TestOptions]: /api/class-testoptions.mdx "TestOptions"
[TestProject]: /api/class-testproject.mdx "TestProject"
[TestStepInfo]: /api/class-teststepinfo.mdx "TestStepInfo"
[WorkerInfo]: /api/class-workerinfo.mdx "WorkerInfo"
[Reporter]: /api/class-reporter.mdx "Reporter"
[Suite]: /api/class-suite.mdx "Suite"
[TestCase]: /api/class-testcase.mdx "TestCase"
[TestError]: /api/class-testerror.mdx "TestError"
[TestResult]: /api/class-testresult.mdx "TestResult"
[TestStep]: /api/class-teststep.mdx "TestStep"
[Element]: https://developer.mozilla.org/en-US/docs/Web/API/element "Element"
[EvaluationArgument]: /evaluating.mdx#evaluation-argument "EvaluationArgument"
[Promise]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise "Promise"
[iterator]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols "Iterator"
[origin]: https://developer.mozilla.org/en-US/docs/Glossary/Origin "Origin"
[selector]: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors "selector"
[Serializable]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description "Serializable"
[UIEvent.detail]: https://developer.mozilla.org/en-US/docs/Web/API/UIEvent/detail "UIEvent.detail"
[UnixTime]: https://en.wikipedia.org/wiki/Unix_time "Unix Time"
[xpath]: https://developer.mozilla.org/en-US/docs/Web/XPath "xpath"

[Array]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array "Array"
[boolean]: