---
id: class-filechooser
title: "FileChooser"
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import HTMLCard from '@site/src/components/HTMLCard';

Объекты [FileChooser] создаются страницей в событии [page.on('filechooser')](/api/class-page.mdx#page-event-file-chooser).

```js
// Начинаем ожидать выбора файла перед кликом. Обратите внимание, что нет await.
const fileChooserPromise = page.waitForEvent('filechooser');
await page.getByText('Upload file').click();
const fileChooser = await fileChooserPromise;
await fileChooser.setFiles(path.join(__dirname, 'myfile.pdf'));
```

---

## Методы

### element {#file-chooser-element}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>fileChooser.element</x-search>

Возвращает элемент ввода, связанный с этим выбором файла.

**Использование**

```js
fileChooser.element();
```

**Возвращает**
- [ElementHandle]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="file-chooser-element-return"/><a href="#file-chooser-element-return" class="list-anchor">#</a>

---

### isMultiple {#file-chooser-is-multiple}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>fileChooser.isMultiple</x-search>

Возвращает, принимает ли этот выбор файла несколько файлов.

**Использование**

```js
fileChooser.isMultiple();
```

**Возвращает**
- [boolean]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="file-chooser-is-multiple-return"/><a href="#file-chooser-is-multiple-return" class="list-anchor">#</a>

---

### page {#file-chooser-page}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>fileChooser.page</x-search>

Возвращает страницу, к которой принадлежит этот выбор файла.

**Использование**

```js
fileChooser.page();
```

**Возвращает**
- [Page]<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="file-chooser-page-return"/><a href="#file-chooser-page-return" class="list-anchor">#</a>

---

### setFiles {#file-chooser-set-files}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено до v1.9</font><x-search>fileChooser.setFiles</x-search>

Устанавливает значение ввода файла, с которым связан этот выбор. Если некоторые из `filePaths` являются относительными путями, они разрешаются относительно текущего рабочего каталога. Для пустого массива очищает выбранные файлы.

**Использование**

```js
await fileChooser.setFiles(files);
await fileChooser.setFiles(files, options);
```

**Аргументы**
- `files` [string] | [Array]&lt;[string]&gt; | [Object] | [Array]&lt;[Object]&gt;<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="file-chooser-set-files-option-files"/><a href="#file-chooser-set-files-option-files" class="list-anchor">#</a>
  - `name` [string]
    
    Имя файла
  - `mimeType` [string]
    
    Тип файла
  - `buffer` [Buffer]
    
    Содержимое файла
- `options` [Object] *(опционально)*
  - `noWaitAfter` [boolean] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="file-chooser-set-files-option-no-wait-after"/><a href="#file-chooser-set-files-option-no-wait-after" class="list-anchor">#</a>
    
    :::warning[Устарело]
    Этот параметр не имеет эффекта.
    :::
    
    Этот параметр не имеет эффекта.
  - `timeout` [number] *(опционально)*<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="file-chooser-set-files-option-timeout"/><a href="#file-chooser-set-files-option-timeout" class="list-anchor">#</a>
    
    Максимальное время в миллисекундах. По умолчанию `0` - без таймаута. Значение по умолчанию можно изменить через параметр `actionTimeout` в конфигурации или с помощью методов [browserContext.setDefaultTimeout()](/api/class-browsercontext.mdx#browser-context-set-default-timeout) или [page.setDefaultTimeout()](/api/class-page.mdx#page-set-default-timeout).

**Возвращает**
- [Promise]&lt;[void]&gt;<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="file-chooser-set-files-return"/><a href="#file-chooser-set-files-return" class="list-anchor">#</a>