---
id: class-teststep
title: "TestStep"
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import HTMLCard from '@site/src/components/HTMLCard';


Представляет шаг в [TestRun].


---

## Методы

### titlePath {#test-step-title-path}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.10</font><x-search>testStep.titlePath</x-search>

Возвращает список заголовков шагов от корневого шага до текущего шага.

**Использование**

```js
testStep.titlePath();
```

**Возвращает**
- [Array]&lt;[string]&gt;<a aria-hidden="true" tabIndex="-1" class="list-anchor-link" id="test-step-title-path-return"/><a href="#test-step-title-path-return" class="list-anchor">#</a>

---

## Свойства

### annotations {#test-step-annotations}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.51</font><x-search>testStep.annotations</x-search>

Список аннотаций, применимых к текущему шагу теста.

**Использование**

```js
testStep.annotations
```

**Тип**
- [Array]&lt;[Object]&gt;
  - `type` [string]
    
    Тип аннотации, например `'skip'`.
  - `description` [string] *(опционально)*
    
    Опциональное описание.

---

### attachments {#test-step-attachments}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.50</font><x-search>testStep.attachments</x-search>

Список файлов или буферов, прикрепленных в ходе выполнения шага через [testInfo.attach()](/api/class-testinfo.mdx#test-info-attach).

**Использование**

```js
testStep.attachments
```

**Тип**
- [Array]&lt;[Object]&gt;
  - `name` [string]
    
    Имя вложения.
  - `contentType` [string]
    
    Тип содержимого этого вложения для корректного отображения в отчете, например `'application/json'` или `'image/png'`.
  - `path` [string] *(опционально)*
    
    Опциональный путь на файловой системе к прикрепленному файлу.
  - `body` [Buffer] *(опционально)*
    
    Опциональное тело вложения, используемое вместо файла.

---

### category {#test-step-category}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.10</font><x-search>testStep.category</x-search>

Категория шага для различения шагов с разным происхождением и уровнем детализации. Встроенные категории:
* `hook` для инициализации и завершения фикстур и хуков
* `expect` для вызовов expect
* `pw:api` для вызовов API Playwright.
* `test.step` для вызовов API test.step.

**Использование**

```js
testStep.category
```

**Тип**
- [string]

---

### duration {#test-step-duration}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.10</font><x-search>testStep.duration</x-search>

Время выполнения в миллисекундах.

**Использование**

```js
testStep.duration
```

**Тип**
- [number]

---

### error {#test-step-error}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.10</font><x-search>testStep.error</x-search>

Ошибка, возникшая во время выполнения шага, если таковая имеется.

**Использование**

```js
testStep.error
```

**Тип**
- [TestError]

---

### location {#test-step-location}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.10</font><x-search>testStep.location</x-search>

Опциональное местоположение в исходном коде, где определен шаг.

**Использование**

```js
testStep.location
```

**Тип**
- [Location]

---

### parent {#test-step-parent}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.10</font><x-search>testStep.parent</x-search>

Родительский шаг, если таковой имеется.

**Использование**

```js
testStep.parent
```

**Тип**
- [TestStep]

---

### startTime {#test-step-start-time}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.10</font><x-search>testStep.startTime</x-search>

Время начала выполнения данного шага теста.

**Использование**

```js
testStep.startTime
```

**Тип**
- [Date]

---

### steps {#test-step-steps}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.10</font><x-search>testStep.steps</x-search>

Список шагов внутри данного шага.

**Использование**

```js
testStep.steps
```

**Тип**
- [Array]&lt;[TestStep]&gt;

---

### title {#test-step-title}

<font size="2" style={{position: "relative", top: "-20px"}}>Добавлено в: v1.10</font><x-search>testStep.title</x-search>

Понятный пользователю заголовок шага теста.

**Использование**

```js
testStep.title
```

**Тип**
- [string]