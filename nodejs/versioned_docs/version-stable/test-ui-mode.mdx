---
id: test-ui-mode
title: "Режим UI"
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import HTMLCard from '@site/src/components/HTMLCard';

import LiteYouTube from '@site/src/components/LiteYouTube';

## Введение

Режим UI позволяет исследовать, запускать и отлаживать тесты с возможностью путешествия во времени, включая режим наблюдения. Все тестовые файлы отображаются в боковой панели тестирования, что позволяет развернуть каждый файл и блок описания для индивидуального запуска, просмотра, наблюдения и отладки каждого теста. Фильтруйте тесты по **имени**, [**проектам**](./test-projects) (установленным в вашем файле `playwright.config`), **@тегу** или по статусу выполнения: **пройдено**, **неудачно** и **пропущено**. Просматривайте полный след ваших тестов и перемещайтесь назад и вперед по каждому действию, чтобы увидеть, что происходило на каждом этапе. Вы также можете вынести снимок DOM в отдельное окно для более удобной отладки.

<LiteYouTube id="d0u6XhXknzU" title="Режим UI Playwright" />

## Открытие режима UI

Чтобы открыть режим UI, выполните следующую команду в вашем терминале:

```bash
npx playwright test --ui
```

## Запуск ваших тестов

После запуска режима UI вы увидите список всех ваших тестовых файлов. Вы можете запустить все ваши тесты, нажав на значок треугольника в боковой панели. Вы также можете запустить один тестовый файл, блок тестов или один тест, наведя курсор на имя и нажав на треугольник рядом с ним.

![запуск тестов в режиме ui](https://github.com/microsoft/playwright/assets/13063165/6b87712f-64a5-4d73-a91d-6562b864712c)

## Фильтрация тестов

Фильтруйте тесты по тексту или `@тегу`, а также по пройденным, неудачным или пропущенным тестам. Вы также можете фильтровать по [проектам](./test-projects), установленным в вашем файле `playwright.config`. Если вы используете зависимости проектов, убедитесь, что сначала запускаете ваши тесты настройки перед запуском тестов, которые от них зависят. Режим UI не учитывает тесты настройки, поэтому вам придется запускать их вручную.

![фильтрация тестов в режиме ui](https://github.com/microsoft/playwright/assets/13063165/6f05e589-036d-45d5-9078-38134e1261e4)

## Просмотр временной шкалы

В верхней части следа вы можете увидеть временную шкалу вашего теста с различными цветами, выделяющими навигацию и действия. Перемещайтесь назад и вперед, чтобы увидеть снимок изображения для каждого действия. Дважды щелкните по действию, чтобы увидеть временной диапазон для этого действия. Вы можете использовать ползунок на временной шкале, чтобы увеличить количество выбранных действий, и они будут показаны на вкладке Действия, а все журналы консоли и сети будут отфильтрованы, чтобы показывать только журналы для выбранных действий.

![просмотр временной шкалы в режиме ui](https://github.com/microsoft/playwright/assets/13063165/811a9985-32aa-4a3e-9869-de32053cf468)

## Действия

На вкладке Действия вы можете увидеть, какой локатор использовался для каждого действия и сколько времени заняло его выполнение. Наведите курсор на каждое действие вашего теста и визуально увидьте изменения в снимке DOM. Перемещайтесь назад и вперед во времени и щелкните по действию, чтобы исследовать и отладить. Используйте вкладки До и После, чтобы визуально увидеть, что произошло до и после действия. ![использование действий до и после в режиме ui](https://github.com/microsoft/playwright/assets/13063165/7b22fab5-7346-4b98-8fdd-a78ed280647f)

## Вынесение и исследование DOM

Вынесите снимок DOM в отдельное окно для более удобной отладки, нажав на значок вынесения над снимком DOM. Оттуда вы можете открыть DevTools браузера и исследовать HTML, CSS, консоль и т.д. Вернитесь в режим UI и щелкните по другому действию и вынесите его, чтобы легко сравнить два снимка рядом или отладить каждый по отдельности.

![вынесение снимка dom в режиме ui](https://github.com/microsoft/playwright/assets/13063165/f9f43a0c-78d7-4574-9a58-c69d2ec53c8f)

## Выбор локатора

Нажмите на кнопку выбора локатора и наведите курсор на снимок DOM, чтобы увидеть локатор для каждого элемента, выделенного при наведении. Щелкните по элементу, чтобы добавить его в игровую площадку локаторов. Вы можете изменить локатор на игровой площадке и посмотреть, соответствует ли ваш измененный локатор каким-либо локаторам в снимке DOM. Когда вы будете удовлетворены локатором, вы можете использовать кнопку копирования, чтобы скопировать локатор и вставить его в ваш тест.

![выбор локатора в режиме ui](https://github.com/microsoft/playwright/assets/13063165/9e7eeb84-bd26-4010-8614-75e24b56c716)

## Исходный код

Когда вы наводите курсор на каждое действие вашего теста, строка кода для этого действия выделяется в панели исходного кода. Кнопка "Открыть в VSCode" находится в верхнем правом углу этого раздела. При нажатии на кнопку ваш тест откроется в VS Code прямо на строке кода, на которую вы нажали.

![показ исходного кода тестов в режиме ui](https://github.com/microsoft/playwright/assets/13063165/49b9fa2a-8a57-4044-acaa-0a2ea4784c5c)

## Вызов

Вкладка вызова показывает вам информацию о действии, такую как время выполнения, какой локатор использовался, был ли включен строгий режим и какой ключ использовался.

![показ вкладки вызова в режиме ui](https://github.com/microsoft/playwright/assets/13063165/442314c3-0b16-4400-bf25-c198f8654849)

## Журнал

Просмотрите полный журнал вашего теста, чтобы лучше понять, что Playwright делает за кулисами, например, прокручивает в вид, ожидает, пока элемент станет видимым, включенным и стабильным, и выполняет такие действия, как клик, заполнение, нажатие и т.д.

![показ журнала тестов в режиме ui](https://github.com/microsoft/playwright/assets/13063165/1d214ee5-2c07-414d-a342-f88d0864ac89)

## Ошибки

Если ваш тест не удался, вы увидите сообщения об ошибках для каждого теста на вкладке Ошибки. Временная шкала также покажет красную линию, подчеркивающую, где произошла ошибка. Вы также можете щелкнуть по вкладке исходного кода, чтобы увидеть, на какой строке исходного кода произошла ошибка.

![показ ошибок в режиме ui](https://github.com/microsoft/playwright/assets/13063165/ffca2fd1-5349-41fb-ade9-ace143bb2c58)

## Консоль

Просмотрите журналы консоли из браузера, а также из вашего теста. Различные значки отображаются, чтобы показать, пришел ли журнал консоли из браузера или из тестового файла.

![показ журналов консоли из тестов в режиме ui](https://github.com/microsoft/playwright/assets/13063165/b6a44763-da04-4152-bbac-3369ca4a60ac)

## Сеть

Вкладка Сеть показывает вам все сетевые запросы, которые были сделаны во время вашего теста. Вы можете сортировать по различным типам запросов, коду состояния, методу, запросу, типу контента, продолжительности и размеру. Щелкните по запросу, чтобы увидеть больше информации о нем, такую как заголовки запроса, заголовки ответа, тело запроса и тело ответа.

![показ сетевых запросов из тестов в режиме ui](https://github.com/microsoft/playwright/assets/13063165/946c2722-447a-4005-9518-b4e9b73a8240)

## Вложения

Вкладка "Вложения" позволяет вам исследовать вложения. Если вы проводите [тестирование визуальной регрессии](./test-snapshots.mdx), вы сможете сравнивать скриншоты, изучая разницу изображений, фактическое изображение и ожидаемое изображение. Когда вы щелкаете по ожидаемому изображению, вы можете использовать ползунок, чтобы перемещать одно изображение поверх другого, чтобы легко увидеть различия в ваших скриншотах.

![режим ui с вложениями](https://github.com/microsoft/playwright/assets/13063165/bb83b406-84ed-4380-a96c-0e62d1388093)

## Метаданные

Рядом с вкладкой Действия вы найдете вкладку Метаданные, которая покажет вам больше информации о вашем тесте, такую как браузер, размер окна просмотра, продолжительность теста и многое другое.

![вкладка метаданных в режиме ui](https://github.com/microsoft/playwright/assets/13063165/befff46e-381a-41c2-8259-e47442add425)

## Режим наблюдения

Рядом с именем каждого теста в боковой панели вы найдете значок глаза. Нажав на значок, вы активируете режим наблюдения, который будет повторно запускать тест при внесении изменений в него. Вы можете наблюдать за несколькими тестами одновременно, нажав на значок глаза рядом с каждым из них или за всеми тестами, нажав на значок глаза в верхней части боковой панели.

![режим наблюдения в режиме ui](https://github.com/microsoft/playwright/assets/13063165/20d7d44c-b52d-43ff-8871-8b828671f3da)

## Docker и GitHub Codespaces

Для сред Docker и GitHub Codespaces вы можете запустить режим UI в браузере. Чтобы конечная точка была доступна за пределами контейнера, она должна быть привязана к интерфейсу `0.0.0.0`:

```bash
npx playwright test --ui-host=0.0.0.0
```

В случае GitHub Codespaces порт [перенаправляется автоматически](https://docs.github.com/en/codespaces/developing-in-codespaces/forwarding-ports-in-your-codespace#about-forwarded-ports), поэтому вы можете открыть режим UI в браузере, нажав на ссылку в терминале.

Чтобы иметь статический порт, вы можете передать флаг `--ui-port`:

```bash
npx playwright test --ui-port=8080 --ui-host=0.0.0.0
```

:::note
Имейте в виду, что при указании флага `--ui-host=0.0.0.0` режим UI с вашими следами, паролями и секретами будет доступен с других машин в вашей сети. В случае GitHub Codespaces порты по умолчанию доступны только с вашей учетной записи.
:::

[Accessibility]: /api/class-accessibility.mdx "Accessibility"
[Android]: /api/class-android.mdx "Android"
[AndroidDevice]: /api/class-androiddevice.mdx "AndroidDevice"
[AndroidInput]: /api/class-androidinput.mdx "AndroidInput"
[AndroidSocket]: /api/class-androidsocket.mdx "AndroidSocket"
[AndroidWebView]: /api/class-androidwebview.mdx "AndroidWebView"
[APIRequest]: /api/class-apirequest.mdx "APIRequest"
[APIRequestContext]: /api/class-apirequestcontext.mdx "APIRequestContext"
[APIResponse]: /api/class-apiresponse.mdx "APIResponse"
[APIResponseAssertions]: /api/class-apiresponseassertions.mdx "APIResponseAssertions"
[Browser]: /api/class-browser.mdx "Browser"
[BrowserContext]: /api/class-browsercontext.mdx "BrowserContext"
[BrowserServer]: /api/class-browserserver.mdx "BrowserServer"
[BrowserType]: /api/class-browsertype.mdx "BrowserType"
[CDPSession]: /api/class-cdpsession.mdx "CDPSession"
[Clock]: /api/class-clock.mdx "Clock"
[ConsoleMessage]: /api/class-consolemessage.mdx "ConsoleMessage"
[Coverage]: /api/class-coverage.mdx "Coverage"
[Dialog]: /api/class-dialog.mdx "Dialog"
[Download]: /api/class-download.mdx "Download"
[Electron]: /api/class-electron.mdx "Electron"
[ElectronApplication]: /api/class-electronapplication.mdx "ElectronApplication"
[ElementHandle]: /api/class-elementhandle.mdx "ElementHandle"
[FileChooser]: /api/class-filechooser.mdx "FileChooser"
[Frame]: /api/class-frame.mdx "Frame"
[FrameLocator]: /api/class-framelocator.mdx "FrameLocator"
[GenericAssertions]: /api/class-genericassertions.mdx "GenericAssertions"
[JSHandle]: /api/class-jshandle.mdx "JSHandle"
[Keyboard]: /api/class-keyboard.mdx "Keyboard"
[Locator]: /api/class-locator.mdx "Locator"
[LocatorAssertions]: /api/class-locatorassertions.mdx "LocatorAssertions"
[Logger]: /api/class-logger.mdx "Logger"
[Mouse]: /api/class-mouse.mdx "Mouse"
[Page]: /api/class-page.mdx "Page"
[PageAssertions]: /api/class-pageassertions.mdx "PageAssertions"
[Playwright]: /api/class-playwright.mdx "Playwright"
[PlaywrightAssertions]: /api/class-playwrightassertions.mdx "PlaywrightAssertions"
[Request]: /api/class-request.mdx "Request"
[Response]: /api/class-response.mdx "Response"
[Route]: /api/class-route.mdx "Route"
[Selectors]: /api/class-selectors.mdx "Selectors"
[SnapshotAssertions]: /api/class-snapshotassertions.mdx "SnapshotAssertions"
[TimeoutError]: /api/class-timeouterror.mdx "TimeoutError"
[Touchscreen]: /api/class-touchscreen.mdx "Touchscreen"
[Tracing]: /api/class-tracing.mdx "Tracing"
[Video]: /api/class-video.mdx "Video"
[WebError]: /api/class-weberror.mdx "WebError"
[WebSocket]: /api/class-websocket.mdx "WebSocket"
[WebSocketRoute]: /api/class-websocketroute.mdx "WebSocketRoute"
[Worker]: /api/class-worker.mdx "Worker"
[Fixtures]: /api/class-fixtures.mdx "Fixtures"
[FullConfig]: /api/class-fullconfig.mdx "FullConfig"
[FullProject]: /api/class-fullproject.mdx "FullProject"
[Location]: /api/class-location.mdx "Location"
[Test]: /api/class-test.mdx "Test"
[TestConfig]: /api/class-testconfig.mdx "TestConfig"
[TestInfo]: /api/class-testinfo.mdx "TestInfo"
[TestInfoError]: /api/class-testinfoerror.mdx "TestInfoError"
[TestOptions]: /api/class-testoptions.mdx "TestOptions"
[TestProject]: /api/class-testproject.mdx "TestProject"
[TestStepInfo]: /api/class-teststepinfo.mdx "TestStepInfo"
[WorkerInfo]: /api/class-workerinfo.mdx "WorkerInfo"
[Reporter]: /api/class-reporter.mdx "Reporter"
[Suite]: /api/class-suite.mdx "Suite"
[TestCase]: /api/class-testcase.mdx "TestCase"
[TestError]: /api/class-testerror.mdx "TestError"
[TestResult]: /api/class-testresult.mdx "TestResult"
[TestStep]: /api/class-teststep.mdx "TestStep"
[Element]: https://developer.mozilla.org/en-US/docs/Web/API/element "Element"
[EvaluationArgument]: /evaluating.mdx#evaluation-argument "EvaluationArgument"
[Promise]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise "Promise"
[iterator]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols "Iterator"
[origin]: https://developer.mozilla.org/en-US/docs/Glossary/Origin "Origin"
[selector]: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors "selector"
[Serializable]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description "Serializable"
[UIEvent.detail]: https://developer.mozilla.org/en-US/docs/Web/API/UIEvent/detail "UIEvent.detail"
[UnixTime]: https://en.wikipedia.org/wiki/Unix_time "Unix Time"
[xpath]: https://developer.mozilla.org/en-US/docs/Web/XPath "xpath"

[Array]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array "Array"
[boolean]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type "Boolean"
[Buffer]: https://nodejs.org/api/buffer.html#buffer_class_buffer "Buffer"
[ChildProcess]: https://nodejs.org/api/child_process.html "ChildProcess"
[Date]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date "Date"
[Error]: https://nodejs.org/api/errors.html#errors_class_error "Error"
[EventEmitter]: https://nodejs.org/api/events.html#events_class_eventemitter "EventEmitter"
[function]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function "Function"
[FormData]: https://developer.mozilla.org/en-US/docs/Web/API/FormData "FormData"
[Map]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map "Map"
[Metadata]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object "Object&lt;string, any&gt;"
[null]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null "null"
[number]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type "Number"
[Object]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object "Object"
[Promise]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise "Promise"
[Readable]: https://nodejs.org/api/stream.html#stream_class_stream_readable "Readable"
[ReadStream]: https://nodejs.org/api/fs.html#class-fsreadstream "ReadStream"
[RegExp]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp "RegExp"
[string]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type "string"
[void]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined "void"
[URL]: https://nodejs.org/api/url.html "URL"
[URLSearchParams]: https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams "URLSearchParams"

[all available image tags]: https://mcr.microsoft.com/en-us/product/playwright/about "all available image tags"
[Microsoft Artifact Registry]: https://mcr.microsoft.com/en-us/product/playwright/about "Microsoft Artifact Registry"
[Dockerfile.noble]: https://github.com/microsoft/playwright/blob/main/utils/docker/Dockerfile.noble "Dockerfile.noble"